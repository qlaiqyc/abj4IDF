if(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=t.length,i=tt.type(t);return"function"===i||tt.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t}function n(t,e,i){if(tt.isFunction(e))return tt.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return tt.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(st.test(e))return tt.filter(e,t,i);e=tt.filter(e,t)}return tt.grep(t,function(t){return G.call(e,t)>=0!==i})}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function r(t){var e=pt[t]={};return tt.each(t.match(ft)||[],function(t,i){e[i]=!0}),e}function a(){Q.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1),tt.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=tt.expando+Math.random()}function l(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(bt,"-$1").toLowerCase(),i=t.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:xt.test(i)?tt.parseJSON(i):i}catch(o){}yt.set(t,e,i)}else i=void 0;return i}function c(){return!0}function h(){return!1}function u(){try{return Q.activeElement}catch(t){}}function d(t,e){return tt.nodeName(t,"table")&&tt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function f(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function p(t){var e=Ot.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var i=0,n=t.length;n>i;i++)vt.set(t[i],"globalEval",!e||vt.get(e[i],"globalEval"))}function m(t,e){var i,n,o,r,a,s,l,c;if(1===e.nodeType){if(vt.hasData(t)&&(r=vt.access(t),a=vt.set(e,r),c=r.events)){delete a.handle,a.events={};for(o in c)for(i=0,n=c[o].length;n>i;i++)tt.event.add(e,o,c[o][i])}yt.hasData(t)&&(s=yt.access(t),l=tt.extend({},s),yt.set(e,l))}}function v(t,e){var i=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&tt.nodeName(t,e)?tt.merge([t],i):i}function y(t,e){var i=e.nodeName.toLowerCase();"input"===i&&St.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function x(e,i){var n=tt(i.createElement(e)).appendTo(i.body),o=t.getDefaultComputedStyle?t.getDefaultComputedStyle(n[0]).display:tt.css(n[0],"display");return n.detach(),o}function b(t){var e=Q,i=Bt[t];return i||(i=x(t,e),"none"!==i&&i||(Ft=(Ft||tt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Ft[0].contentDocument,e.write(),e.close(),i=x(t,e),Ft.detach()),Bt[t]=i),i}function w(t,e,i){var n,o,r,a,s=t.style;return i=i||Ut(t),i&&(a=i.getPropertyValue(e)||i[e]),i&&(""!==a||tt.contains(t.ownerDocument,t)||(a=tt.style(t,e)),$t.test(a)&&Ht.test(e)&&(n=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=o,s.maxWidth=r)),void 0!==a?a+"":a}function _(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function T(t,e){if(e in t)return e;for(var i=e[0].toUpperCase()+e.slice(1),n=e,o=Yt.length;o--;)if(e=Yt[o]+i,e in t)return e;return n}function S(t,e,i){var n=Wt.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function C(t,e,i,n,o){for(var r=i===(n?"border":"content")?4:"width"===e?1:0,a=0;4>r;r+=2)"margin"===i&&(a+=tt.css(t,i+_t[r],!0,o)),n?("content"===i&&(a-=tt.css(t,"padding"+_t[r],!0,o)),"margin"!==i&&(a-=tt.css(t,"border"+_t[r]+"Width",!0,o))):(a+=tt.css(t,"padding"+_t[r],!0,o),"padding"!==i&&(a+=tt.css(t,"border"+_t[r]+"Width",!0,o)));return a}function k(t,e,i){var n=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=Ut(t),a="border-box"===tt.css(t,"boxSizing",!1,r);if(0>=o||null==o){if(o=w(t,e,r),(0>o||null==o)&&(o=t.style[e]),$t.test(o))return o;n=a&&(K.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+C(t,e,i||(a?"border":"content"),n,r)+"px"}function M(t,e){for(var i,n,o,r=[],a=0,s=t.length;s>a;a++)n=t[a],n.style&&(r[a]=vt.get(n,"olddisplay"),i=n.style.display,e?(r[a]||"none"!==i||(n.style.display=""),""===n.style.display&&Tt(n)&&(r[a]=vt.access(n,"olddisplay",b(n.nodeName)))):r[a]||(o=Tt(n),(i&&"none"!==i||!o)&&vt.set(n,"olddisplay",o?i:tt.css(n,"display"))));for(a=0;s>a;a++)n=t[a],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?r[a]||"":"none"));return t}function A(t,e,i,n,o){return new A.prototype.init(t,e,i,n,o)}function D(){return setTimeout(function(){Xt=void 0}),Xt=tt.now()}function I(t,e){var i,n=0,o={height:t};for(e=e?1:0;4>n;n+=2-e)i=_t[n],o["margin"+i]=o["padding"+i]=t;return e&&(o.opacity=o.width=t),o}function L(t,e,i){for(var n,o=(ie[e]||[]).concat(ie["*"]),r=0,a=o.length;a>r;r++)if(n=o[r].call(i,e,t))return n}function P(t,e,i){var n,o,r,a,s,l,c,h=this,u={},d=t.style,f=t.nodeType&&Tt(t),p=vt.get(t,"fxshow");i.queue||(s=tt._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,tt.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],c=tt.css(t,"display"),"none"===c&&(c=b(t.nodeName)),"inline"===c&&"none"===tt.css(t,"float")&&(d.display="inline-block")),i.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}));for(n in e)if(o=e[n],Qt.exec(o)){if(delete e[n],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!p||void 0===p[n])continue;f=!0}u[n]=p&&p[n]||tt.style(t,n)}if(!tt.isEmptyObject(u)){p?"hidden"in p&&(f=p.hidden):p=vt.access(t,"fxshow",{}),r&&(p.hidden=!f),f?tt(t).show():h.done(function(){tt(t).hide()}),h.done(function(){var e;vt.remove(t,"fxshow");for(e in u)tt.style(t,e,u[e])});for(n in u)a=L(f?p[n]:0,n,h),n in p||(p[n]=a.start,f&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}function N(t,e){var i,n,o,r,a;for(i in t)if(n=tt.camelCase(i),o=e[n],r=t[i],tt.isArray(r)&&(o=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),a=tt.cssHooks[n],a&&"expand"in a){r=a.expand(r),delete t[n];for(i in r)i in t||(t[i]=r[i],e[i]=o)}else e[n]=o}function E(t,e,i){var n,o,r=0,a=ee.length,s=tt.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=Xt||D(),i=Math.max(0,c.startTime+c.duration-e),n=i/c.duration||0,r=1-n,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(r);return s.notifyWith(t,[c,r,i]),1>r&&l?i:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:tt.extend({},e),opts:tt.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:Xt||D(),duration:i.duration,tweens:[],createTween:function(e,i){var n=tt.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(o)return this;for(o=!0;n>i;i++)c.tweens[i].run(1);return e?s.resolveWith(t,[c,e]):s.rejectWith(t,[c,e]),this}}),h=c.props;for(N(h,c.opts.specialEasing);a>r;r++)if(n=ee[r].call(c,t,h,c.opts))return n;return tt.map(h,L,c),tt.isFunction(c.opts.start)&&c.opts.start.call(t,c),tt.fx.timer(tt.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function R(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,o=0,r=e.toLowerCase().match(ft)||[];if(tt.isFunction(i))for(;n=r[o++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function O(t,e,i,n){function o(s){var l;return r[s]=!0,tt.each(t[s]||[],function(t,s){var c=s(e,i,n);return"string"!=typeof c||a||r[c]?a?!(l=c):void 0:(e.dataTypes.unshift(c),o(c),!1)}),l}var r={},a=t===we;return o(e.dataTypes[0])||!r["*"]&&o("*")}function z(t,e){var i,n,o=tt.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&tt.extend(!0,t,n),t}function V(t,e,i){for(var n,o,r,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(o in s)if(s[o]&&s[o].test(n)){l.unshift(o);break}if(l[0]in i)r=l[0];else{for(o in i){if(!l[0]||t.converters[o+" "+l[0]]){r=o;break}a||(a=o)}r=r||a}return r?(r!==l[0]&&l.unshift(r),i[r]):void 0}function F(t,e,i,n){var o,r,a,s,l,c={},h=t.dataTypes.slice();if(h[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(r=h.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=h.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(a=c[l+" "+r]||c["* "+r],!a)for(o in c)if(s=o.split(" "),s[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[o]:c[o]!==!0&&(r=s[0],h.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(u){return{state:"parsererror",error:a?u:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function B(t,e,i,n){var o;if(tt.isArray(e))tt.each(e,function(e,o){i||Ce.test(t)?n(t,o):B(t+"["+("object"==typeof o?e:"")+"]",o,i,n)});else if(i||"object"!==tt.type(e))n(t,e);else for(o in e)B(t+"["+o+"]",e[o],i,n)}function H(t){return tt.isWindow(t)?t:9===t.nodeType&&t.defaultView}var $=[],U=$.slice,j=$.concat,W=$.push,G=$.indexOf,q={},Z=q.toString,Y=q.hasOwnProperty,X="".trim,K={},Q=t.document,J="2.1.0",tt=function(t,e){return new tt.fn.init(t,e)},et=/^-ms-/,it=/-([\da-z])/gi,nt=function(t,e){return e.toUpperCase()};tt.fn=tt.prototype={jquery:J,constructor:tt,selector:"",length:0,toArray:function(){return U.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:U.call(this)},pushStack:function(t){var e=tt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return tt.each(this,t,e)},map:function(t){return this.pushStack(tt.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(U.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:W,sort:$.sort,splice:$.splice},tt.extend=tt.fn.extend=function(){var t,e,i,n,o,r,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||tt.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(t=arguments[s]))for(e in t)i=a[e],n=t[e],a!==n&&(c&&n&&(tt.isPlainObject(n)||(o=tt.isArray(n)))?(o?(o=!1,r=i&&tt.isArray(i)?i:[]):r=i&&tt.isPlainObject(i)?i:{},a[e]=tt.extend(c,r,n)):void 0!==n&&(a[e]=n));return a},tt.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===tt.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return t-parseFloat(t)>=0},isPlainObject:function(t){if("object"!==tt.type(t)||t.nodeType||tt.isWindow(t))return!1;try{if(t.constructor&&!Y.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?q[Z.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval;t=tt.trim(t),t&&(1===t.indexOf("use strict")?(e=Q.createElement("script"),e.text=t,Q.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(et,"ms-").replace(it,nt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var o,r=0,a=t.length,s=i(t);if(n){if(s)for(;a>r&&(o=e.apply(t[r],n),o!==!1);r++);else for(r in t)if(o=e.apply(t[r],n),o===!1)break}else if(s)for(;a>r&&(o=e.call(t[r],r,t[r]),o!==!1);r++);else for(r in t)if(o=e.call(t[r],r,t[r]),o===!1)break;return t},trim:function(t){return null==t?"":X.call(t)},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?tt.merge(n,"string"==typeof t?[t]:t):W.call(n,t)),n},inArray:function(t,e,i){return null==e?-1:G.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;i>n;n++)t[o++]=e[n];return t.length=o,t},grep:function(t,e,i){for(var n,o=[],r=0,a=t.length,s=!i;a>r;r++)n=!e(t[r],r),n!==s&&o.push(t[r]);return o},map:function(t,e,n){var o,r=0,a=t.length,s=i(t),l=[];if(s)for(;a>r;r++)o=e(t[r],r,n),null!=o&&l.push(o);else for(r in t)o=e(t[r],r,n),null!=o&&l.push(o);return j.apply([],l)},guid:1,proxy:function(t,e){var i,n,o;return"string"==typeof e&&(i=t[e],e=t,t=i),tt.isFunction(t)?(n=U.call(arguments,2),o=function(){return t.apply(e||this,n.concat(U.call(arguments)))},o.guid=t.guid=t.guid||tt.guid++,o):void 0},now:Date.now,support:K}),tt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){q["[object "+e+"]"]=e.toLowerCase()});var ot=function(t){function e(t,e,i,n){var o,r,a,s,l,c,u,p,g,m;if((e?e.ownerDocument||e:B)!==P&&L(e),e=e||P,i=i||[],!t||"string"!=typeof t)return i;if(1!==(s=e.nodeType)&&9!==s)return[];if(E&&!n){if(o=yt.exec(t))if(a=o[1]){if(9===s){if(r=e.getElementById(a),!r||!r.parentNode)return i;if(r.id===a)return i.push(r),i}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(a))&&V(e,r)&&r.id===a)return i.push(r),i}else{if(o[2])return J.apply(i,e.getElementsByTagName(t)),i;if((a=o[3])&&T.getElementsByClassName&&e.getElementsByClassName)return J.apply(i,e.getElementsByClassName(a)),i}if(T.qsa&&(!R||!R.test(t))){if(p=u=F,g=e,m=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(c=d(t),(u=e.getAttribute("id"))?p=u.replace(bt,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+f(c[l]);g=xt.test(t)&&h(e.parentNode)||e,m=c.join(",")}if(m)try{return J.apply(i,g.querySelectorAll(m)),i}catch(v){}finally{u||e.removeAttribute("id")}}}return w(t.replace(lt,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>S.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[F]=!0,t}function o(t){var e=P.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var i=t.split("|"),n=t.length;n--;)S.attrHandle[i[n]]=e}function a(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Z)-(~t.sourceIndex||Z);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function s(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function c(t){return n(function(e){return e=+e,n(function(i,n){for(var o,r=t([],i.length,e),a=r.length;a--;)i[o=r[a]]&&(i[o]=!(n[o]=i[o]))})})}function h(t){return t&&typeof t.getElementsByTagName!==q&&t}function u(){}function d(t,i){var n,o,r,a,s,l,c,h=j[t+" "];if(h)return i?0:h.slice(0);for(s=t,l=[],c=S.preFilter;s;){n&&!(o=ct.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),n=!1,(o=ht.exec(s))&&(n=o.shift(),r.push({value:n,type:o[0].replace(lt," ")}),s=s.slice(n.length));for(a in S.filter)!(o=pt[a].exec(s))||c[a]&&!(o=c[a](o))||(n=o.shift(),r.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return i?s.length:s?e.error(t):j(t,l).slice(0)}function f(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function p(t,e,i){var n=e.dir,o=i&&"parentNode"===n,r=$++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,r)}:function(e,i,a){var s,l,c=[H,r];if(a){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,a))return!0}else for(;e=e[n];)if(1===e.nodeType||o){if(l=e[F]||(e[F]={}),(s=l[n])&&s[0]===H&&s[1]===r)return c[2]=s[2];if(l[n]=c,c[2]=t(e,i,a))return!0}}}function g(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function m(t,e,i,n,o){for(var r,a=[],s=0,l=t.length,c=null!=e;l>s;s++)(r=t[s])&&(i&&!i(r,n,o)||(a.push(r),c&&e.push(s)));return a}function v(t,e,i,o,r,a){return o&&!o[F]&&(o=v(o)),r&&!r[F]&&(r=v(r,a)),n(function(n,a,s,l){var c,h,u,d=[],f=[],p=a.length,g=n||b(e||"*",s.nodeType?[s]:s,[]),v=!t||!n&&e?g:m(g,d,t,s,l),y=i?r||(n?t:p||o)?[]:a:v;if(i&&i(v,y,s,l),o)for(c=m(y,f),o(c,[],s,l),h=c.length;h--;)(u=c[h])&&(y[f[h]]=!(v[f[h]]=u));if(n){if(r||t){if(r){for(c=[],h=y.length;h--;)(u=y[h])&&c.push(v[h]=u);r(null,y=[],c,l)}for(h=y.length;h--;)(u=y[h])&&(c=r?et.call(n,u):d[h])>-1&&(n[c]=!(a[c]=u))}}else y=m(y===a?y.splice(p,y.length):y),r?r(null,a,y,l):J.apply(a,y)})}function y(t){for(var e,i,n,o=t.length,r=S.relative[t[0].type],a=r||S.relative[" "],s=r?1:0,l=p(function(t){return t===e},a,!0),c=p(function(t){return et.call(e,t)>-1},a,!0),h=[function(t,i,n){return!r&&(n||i!==A)||((e=i).nodeType?l(t,i,n):c(t,i,n))}];o>s;s++)if(i=S.relative[t[s].type])h=[p(g(h),i)];else{if(i=S.filter[t[s].type].apply(null,t[s].matches),i[F]){for(n=++s;o>n&&!S.relative[t[n].type];n++);return v(s>1&&g(h),s>1&&f(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(lt,"$1"),i,n>s&&y(t.slice(s,n)),o>n&&y(t=t.slice(n)),o>n&&f(t))}h.push(i)}return g(h)}function x(t,i){var o=i.length>0,r=t.length>0,a=function(n,a,s,l,c){var h,u,d,f=0,p="0",g=n&&[],v=[],y=A,x=n||r&&S.find.TAG("*",c),b=H+=null==y?1:Math.random()||.1,w=x.length;for(c&&(A=a!==P&&a);p!==w&&null!=(h=x[p]);p++){if(r&&h){for(u=0;d=t[u++];)if(d(h,a,s)){l.push(h);break}c&&(H=b)}o&&((h=!d&&h)&&f--,n&&g.push(h))}if(f+=p,o&&p!==f){for(u=0;d=i[u++];)d(g,v,a,s);if(n){if(f>0)for(;p--;)g[p]||v[p]||(v[p]=K.call(l));v=m(v)}J.apply(l,v),c&&!n&&v.length>0&&f+i.length>1&&e.uniqueSort(l)}return c&&(H=b,A=y),g};return o?n(a):a}function b(t,i,n){for(var o=0,r=i.length;r>o;o++)e(t,i[o],n);return n}function w(t,e,i,n){var o,r,a,s,l,c=d(t);if(!n&&1===c.length){if(r=c[0]=c[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&T.getById&&9===e.nodeType&&E&&S.relative[r[1].type]){if(e=(S.find.ID(a.matches[0].replace(wt,_t),e)||[])[0],!e)return i;t=t.slice(r.shift().value.length)}for(o=pt.needsContext.test(t)?0:r.length;o--&&(a=r[o],!S.relative[s=a.type]);)if((l=S.find[s])&&(n=l(a.matches[0].replace(wt,_t),xt.test(r[0].type)&&h(e.parentNode)||e))){if(r.splice(o,1),t=n.length&&f(r),!t)return J.apply(i,n),i;break}}return M(t,c)(n,e,!E,i,xt.test(t)&&h(e.parentNode)||e),i}var _,T,S,C,k,M,A,D,I,L,P,N,E,R,O,z,V,F="sizzle"+-new Date,B=t.document,H=0,$=0,U=i(),j=i(),W=i(),G=function(t,e){return t===e&&(I=!0),0},q="undefined",Z=1<<31,Y={}.hasOwnProperty,X=[],K=X.pop,Q=X.push,J=X.push,tt=X.slice,et=X.indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]===t)return e;return-1},it="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",ot="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=ot.replace("w","w#"),at="\\["+nt+"*("+ot+")"+nt+"*(?:([*^$|!~]?=)"+nt+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+rt+")|)|)"+nt+"*\\]",st=":("+ot+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+at.replace(3,8)+")*)|.*)\\)|)",lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ct=new RegExp("^"+nt+"*,"+nt+"*"),ht=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ut=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(st),ft=new RegExp("^"+rt+"$"),pt={ID:new RegExp("^#("+ot+")"),CLASS:new RegExp("^\\.("+ot+")"),TAG:new RegExp("^("+ot.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+it+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),_t=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{J.apply(X=tt.call(B.childNodes),B.childNodes),X[B.childNodes.length].nodeType}catch(Tt){J={apply:X.length?function(t,e){Q.apply(t,tt.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}T=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},L=e.setDocument=function(t){var e,i=t?t.ownerDocument||t:B,n=i.defaultView;return i!==P&&9===i.nodeType&&i.documentElement?(P=i,N=i.documentElement,E=!k(i),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){L()},!1):n.attachEvent&&n.attachEvent("onunload",function(){L()})),T.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),T.getElementsByTagName=o(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),T.getElementsByClassName=vt.test(i.getElementsByClassName)&&o(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),T.getById=o(function(t){return N.appendChild(t).id=F,!i.getElementsByName||!i.getElementsByName(F).length}),T.getById?(S.find.ID=function(t,e){if(typeof e.getElementById!==q&&E){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},S.filter.ID=function(t){var e=t.replace(wt,_t);return function(t){return t.getAttribute("id")===e}}):(delete S.find.ID,S.filter.ID=function(t){var e=t.replace(wt,_t);return function(t){var i=typeof t.getAttributeNode!==q&&t.getAttributeNode("id");return i&&i.value===e}}),S.find.TAG=T.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==q?e.getElementsByTagName(t):void 0}:function(t,e){var i,n=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},S.find.CLASS=T.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==q&&E?e.getElementsByClassName(t):void 0},O=[],R=[],(T.qsa=vt.test(i.querySelectorAll))&&(o(function(t){t.innerHTML="<select t=''><option selected=''></option></select>",t.querySelectorAll("[t^='']").length&&R.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||R.push("\\["+nt+"*(?:value|"+it+")"),t.querySelectorAll(":checked").length||R.push(":checked")}),o(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&R.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),R.push(",.*:")})),(T.matchesSelector=vt.test(z=N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&o(function(t){T.disconnectedMatch=z.call(t,"div"),z.call(t,"[s!='']:x"),O.push("!=",st)}),R=R.length&&new RegExp(R.join("|")),O=O.length&&new RegExp(O.join("|")),e=vt.test(N.compareDocumentPosition),V=e||vt.test(N.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},G=e?function(t,e){if(t===e)return I=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!T.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===B&&V(B,t)?-1:e===i||e.ownerDocument===B&&V(B,e)?1:D?et.call(D,t)-et.call(D,e):0:4&n?-1:1)}:function(t,e){if(t===e)return I=!0,0;var n,o=0,r=t.parentNode,s=e.parentNode,l=[t],c=[e];if(!r||!s)return t===i?-1:e===i?1:r?-1:s?1:D?et.call(D,t)-et.call(D,e):0;if(r===s)return a(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)c.unshift(n);for(;l[o]===c[o];)o++;return o?a(l[o],c[o]):l[o]===B?-1:c[o]===B?1:0},i):P},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==P&&L(t),i=i.replace(ut,"='$1']"),T.matchesSelector&&E&&(!O||!O.test(i))&&(!R||!R.test(i)))try{var n=z.call(t,i);if(n||T.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(o){}return e(i,P,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==P&&L(t),V(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==P&&L(t);var i=S.attrHandle[e.toLowerCase()],n=i&&Y.call(S.attrHandle,e.toLowerCase())?i(t,e,!E):void 0;return void 0!==n?n:T.attributes||!E?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,o=0;if(I=!T.detectDuplicates,D=!T.sortStable&&t.slice(0),t.sort(G),I){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return D=null,t},C=e.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=C(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=C(e);return i},S=e.selectors={cacheLength:50,createPseudo:n,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,_t),t[3]=(t[4]||t[5]||"").replace(wt,_t),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[5]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]&&void 0!==t[4]?t[2]=t[4]:i&&dt.test(i)&&(e=d(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,_t).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==q&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(o){var r=e.attr(o,t);return null==r?"!="===i:i?(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r+" ").indexOf(n)>-1:"|="===i?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,o){var r="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,l){var c,h,u,d,f,p,g=r!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s;if(m){if(r){for(;g;){for(u=e;u=u[g];)if(s?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(h=m[F]||(m[F]={}),c=h[t]||[],f=c[0]===H&&c[1],d=c[0]===H&&c[2],u=f&&m.childNodes[f];u=++f&&u&&u[g]||(d=f=0)||p.pop();)if(1===u.nodeType&&++d&&u===e){h[t]=[H,f,d];break}}else if(y&&(c=(e[F]||(e[F]={}))[t])&&c[0]===H)d=c[1];else for(;(u=++f&&u&&u[g]||(d=f=0)||p.pop())&&((s?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++d||(y&&((u[F]||(u[F]={}))[t]=[H,d]),u!==e)););return d-=o,d===n||d%n===0&&d/n>=0}}},PSEUDO:function(t,i){var o,r=S.pseudos[t]||S.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[F]?r(i):r.length>1?(o=[t,t,"",i],S.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,o=r(t,i),a=o.length;a--;)n=et.call(t,o[a]),t[n]=!(e[n]=o[a])}):function(t){return r(t,0,o)}):r}},pseudos:{not:n(function(t){var e=[],i=[],o=M(t.replace(lt,"$1"));return o[F]?n(function(t,e,i,n){for(var r,a=o(t,null,n,[]),s=t.length;s--;)(r=a[s])&&(t[s]=!(e[s]=r))}):function(t,n,r){return e[0]=t,o(e,null,r,i),!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:n(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,_t).toLowerCase(),function(e){var i;do if(i=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===N},focus:function(t){return t===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!S.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return gt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,i){return[0>i?i+e:i]}),even:c(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:c(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:c(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:c(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},S.pseudos.nth=S.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[_]=s(_);for(_ in{submit:!0,reset:!0})S.pseudos[_]=l(_);return u.prototype=S.filters=S.pseudos,S.setFilters=new u,M=e.compile=function(t,e){var i,n=[],o=[],r=W[t+" "];if(!r){for(e||(e=d(t)),i=e.length;i--;)r=y(e[i]),r[F]?n.push(r):o.push(r);r=W(t,x(o,n))}return r},T.sortStable=F.split("").sort(G).join("")===F,T.detectDuplicates=!!I,L(),T.sortDetached=o(function(t){return 1&t.compareDocumentPosition(P.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),T.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(it,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);tt.find=ot,tt.expr=ot.selectors,tt.expr[":"]=tt.expr.pseudos,tt.unique=ot.uniqueSort,tt.text=ot.getText,tt.isXMLDoc=ot.isXML,tt.contains=ot.contains;var rt=tt.expr.match.needsContext,at=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,st=/^.[^:#\[\.,]*$/;tt.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?tt.find.matchesSelector(n,t)?[n]:[]:tt.find.matches(t,tt.grep(e,function(t){return 1===t.nodeType}))},tt.fn.extend({find:function(t){var e,i=this.length,n=[],o=this;if("string"!=typeof t)return this.pushStack(tt(t).filter(function(){for(e=0;i>e;e++)if(tt.contains(o[e],this))return!0}));for(e=0;i>e;e++)tt.find(t,o[e],n);return n=this.pushStack(i>1?tt.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,
n},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&rt.test(t)?tt(t):t||[],!1).length}});var lt,ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ht=tt.fn.init=function(t,e){var i,n;if(!t)return this;if("string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ct.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||lt).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof tt?e[0]:e,tt.merge(this,tt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:Q,!0)),at.test(i[1])&&tt.isPlainObject(e))for(i in e)tt.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return n=Q.getElementById(i[2]),n&&n.parentNode&&(this.length=1,this[0]=n),this.context=Q,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):tt.isFunction(t)?"undefined"!=typeof lt.ready?lt.ready(t):t(tt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),tt.makeArray(t,this))};ht.prototype=tt.fn,lt=tt(Q);var ut=/^(?:parents|prev(?:Until|All))/,dt={children:!0,contents:!0,next:!0,prev:!0};tt.extend({dir:function(t,e,i){for(var n=[],o=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&tt(t).is(i))break;n.push(t)}return n},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}}),tt.fn.extend({has:function(t){var e=tt(t,this),i=e.length;return this.filter(function(){for(var t=0;i>t;t++)if(tt.contains(this,e[t]))return!0})},closest:function(t,e){for(var i,n=0,o=this.length,r=[],a=rt.test(t)||"string"!=typeof t?tt(t,e||this.context):0;o>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&tt.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(r.length>1?tt.unique(r):r)},index:function(t){return t?"string"==typeof t?G.call(tt(t),this[0]):G.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(tt.unique(tt.merge(this.get(),tt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),tt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return tt.dir(t,"parentNode")},parentsUntil:function(t,e,i){return tt.dir(t,"parentNode",i)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return tt.dir(t,"nextSibling")},prevAll:function(t){return tt.dir(t,"previousSibling")},nextUntil:function(t,e,i){return tt.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return tt.dir(t,"previousSibling",i)},siblings:function(t){return tt.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return tt.sibling(t.firstChild)},contents:function(t){return t.contentDocument||tt.merge([],t.childNodes)}},function(t,e){tt.fn[t]=function(i,n){var o=tt.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=tt.filter(n,o)),this.length>1&&(dt[t]||tt.unique(o),ut.test(t)&&o.reverse()),this.pushStack(o)}});var ft=/\S+/g,pt={};tt.Callbacks=function(t){t="string"==typeof t?pt[t]||r(t):tt.extend({},t);var e,i,n,o,a,s,l=[],c=!t.once&&[],h=function(r){for(e=t.memory&&r,i=!0,s=o||0,o=0,a=l.length,n=!0;l&&a>s;s++)if(l[s].apply(r[0],r[1])===!1&&t.stopOnFalse){e=!1;break}n=!1,l&&(c?c.length&&h(c.shift()):e?l=[]:u.disable())},u={add:function(){if(l){var i=l.length;!function r(e){tt.each(e,function(e,i){var n=tt.type(i);"function"===n?t.unique&&u.has(i)||l.push(i):i&&i.length&&"string"!==n&&r(i)})}(arguments),n?a=l.length:e&&(o=i,h(e))}return this},remove:function(){return l&&tt.each(arguments,function(t,e){for(var i;(i=tt.inArray(e,l,i))>-1;)l.splice(i,1),n&&(a>=i&&a--,s>=i&&s--)}),this},has:function(t){return t?tt.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=c=e=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,e||u.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!l||i&&!c||(e=e||[],e=[t,e.slice?e.slice():e],n?c.push(e):h(e)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},tt.extend({Deferred:function(t){var e=[["resolve","done",tt.Callbacks("once memory"),"resolved"],["reject","fail",tt.Callbacks("once memory"),"rejected"],["notify","progress",tt.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return tt.Deferred(function(i){tt.each(e,function(e,r){var a=tt.isFunction(t[e])&&t[e];o[r[1]](function(){var t=a&&a.apply(this,arguments);t&&tt.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r[0]+"With"](this===n?i.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?tt.extend(t,n):n}},o={};return n.pipe=n.then,tt.each(e,function(t,r){var a=r[2],s=r[3];n[r[1]]=a.add,s&&a.add(function(){i=s},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?n:this,arguments),this},o[r[0]+"With"]=a.fireWith}),n.promise(o),t&&t.call(o,o),o},when:function(t){var e,i,n,o=0,r=U.call(arguments),a=r.length,s=1!==a||t&&tt.isFunction(t.promise)?a:0,l=1===s?t:tt.Deferred(),c=function(t,i,n){return function(o){i[t]=this,n[t]=arguments.length>1?U.call(arguments):o,n===e?l.notifyWith(i,n):--s||l.resolveWith(i,n)}};if(a>1)for(e=new Array(a),i=new Array(a),n=new Array(a);a>o;o++)r[o]&&tt.isFunction(r[o].promise)?r[o].promise().done(c(o,n,r)).fail(l.reject).progress(c(o,i,e)):--s;return s||l.resolveWith(n,r),l.promise()}});var gt;tt.fn.ready=function(t){return tt.ready.promise().done(t),this},tt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?tt.readyWait++:tt.ready(!0)},ready:function(t){(t===!0?--tt.readyWait:tt.isReady)||(tt.isReady=!0,t!==!0&&--tt.readyWait>0||(gt.resolveWith(Q,[tt]),tt.fn.trigger&&tt(Q).trigger("ready").off("ready")))}}),tt.ready.promise=function(e){return gt||(gt=tt.Deferred(),"complete"===Q.readyState?setTimeout(tt.ready):(Q.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1))),gt.promise(e)},tt.ready.promise();var mt=tt.access=function(t,e,i,n,o,r,a){var s=0,l=t.length,c=null==i;if("object"===tt.type(i)){o=!0;for(s in i)tt.access(t,e,s,i[s],!0,r,a)}else if(void 0!==n&&(o=!0,tt.isFunction(n)||(a=!0),c&&(a?(e.call(t,n),e=null):(c=e,e=function(t,e,i){return c.call(tt(t),i)})),e))for(;l>s;s++)e(t[s],i,a?n:n.call(t[s],s,e(t[s],i)));return o?t:c?e.call(t):l?e(t[0],i):r};tt.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},s.uid=1,s.accepts=tt.acceptData,s.prototype={key:function(t){if(!s.accepts(t))return 0;var e={},i=t[this.expando];if(!i){i=s.uid++;try{e[this.expando]={value:i},Object.defineProperties(t,e)}catch(n){e[this.expando]=i,tt.extend(t,e)}}return this.cache[i]||(this.cache[i]={}),i},set:function(t,e,i){var n,o=this.key(t),r=this.cache[o];if("string"==typeof e)r[e]=i;else if(tt.isEmptyObject(r))tt.extend(this.cache[o],e);else for(n in e)r[n]=e[n];return r},get:function(t,e){var i=this.cache[this.key(t)];return void 0===e?i:i[e]},access:function(t,e,i){var n;return void 0===e||e&&"string"==typeof e&&void 0===i?(n=this.get(t,e),void 0!==n?n:this.get(t,tt.camelCase(e))):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n,o,r=this.key(t),a=this.cache[r];if(void 0===e)this.cache[r]={};else{tt.isArray(e)?n=e.concat(e.map(tt.camelCase)):(o=tt.camelCase(e),e in a?n=[e,o]:(n=o,n=n in a?[n]:n.match(ft)||[])),i=n.length;for(;i--;)delete a[n[i]]}},hasData:function(t){return!tt.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var vt=new s,yt=new s,xt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,bt=/([A-Z])/g;tt.extend({hasData:function(t){return yt.hasData(t)||vt.hasData(t)},data:function(t,e,i){return yt.access(t,e,i)},removeData:function(t,e){yt.remove(t,e)},_data:function(t,e,i){return vt.access(t,e,i)},_removeData:function(t,e){vt.remove(t,e)}}),tt.fn.extend({data:function(t,e){var i,n,o,r=this[0],a=r&&r.attributes;if(void 0===t){if(this.length&&(o=yt.get(r),1===r.nodeType&&!vt.get(r,"hasDataAttrs"))){for(i=a.length;i--;)n=a[i].name,0===n.indexOf("data-")&&(n=tt.camelCase(n.slice(5)),l(r,n,o[n]));vt.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each(function(){yt.set(this,t)}):mt(this,function(e){var i,n=tt.camelCase(t);if(r&&void 0===e){if(i=yt.get(r,t),void 0!==i)return i;if(i=yt.get(r,n),void 0!==i)return i;if(i=l(r,n,void 0),void 0!==i)return i}else this.each(function(){var i=yt.get(this,n);yt.set(this,n,e),-1!==t.indexOf("-")&&void 0!==i&&yt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){yt.remove(this,t)})}}),tt.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=vt.get(t,e),i&&(!n||tt.isArray(i)?n=vt.access(t,e,tt.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=tt.queue(t,e),n=i.length,o=i.shift(),r=tt._queueHooks(t,e),a=function(){tt.dequeue(t,e)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete r.stop,o.call(t,a,r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return vt.get(t,i)||vt.access(t,i,{empty:tt.Callbacks("once memory").add(function(){vt.remove(t,[e+"queue",i])})})}}),tt.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?tt.queue(this[0],t):void 0===e?this:this.each(function(){var i=tt.queue(this,t,e);tt._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&tt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){tt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,o=tt.Deferred(),r=this,a=this.length,s=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)i=vt.get(r[a],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(s));return s(),o.promise(e)}});var wt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_t=["Top","Right","Bottom","Left"],Tt=function(t,e){return t=e||t,"none"===tt.css(t,"display")||!tt.contains(t.ownerDocument,t)},St=/^(?:checkbox|radio)$/i;!function(){var t=Q.createDocumentFragment(),e=t.appendChild(Q.createElement("div"));e.innerHTML="<input type='radio' checked='checked' name='t'/>",K.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",K.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ct="undefined";K.focusinBubbles="onfocusin"in t;var kt=/^key/,Mt=/^(?:mouse|contextmenu)|click/,At=/^(?:focusinfocus|focusoutblur)$/,Dt=/^([^.]*)(?:\.(.+)|)$/;tt.event={global:{},add:function(t,e,i,n,o){var r,a,s,l,c,h,u,d,f,p,g,m=vt.get(t);if(m)for(i.handler&&(r=i,i=r.handler,o=r.selector),i.guid||(i.guid=tt.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(e){return typeof tt!==Ct&&tt.event.triggered!==e.type?tt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(ft)||[""],c=e.length;c--;)s=Dt.exec(e[c])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f&&(u=tt.event.special[f]||{},f=(o?u.delegateType:u.bindType)||f,u=tt.event.special[f]||{},h=tt.extend({type:f,origType:g,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&tt.expr.match.needsContext.test(o),namespace:p.join(".")},r),(d=l[f])||(d=l[f]=[],d.delegateCount=0,u.setup&&u.setup.call(t,n,p,a)!==!1||t.addEventListener&&t.addEventListener(f,a,!1)),u.add&&(u.add.call(t,h),h.handler.guid||(h.handler.guid=i.guid)),o?d.splice(d.delegateCount++,0,h):d.push(h),tt.event.global[f]=!0)},remove:function(t,e,i,n,o){var r,a,s,l,c,h,u,d,f,p,g,m=vt.hasData(t)&&vt.get(t);if(m&&(l=m.events)){for(e=(e||"").match(ft)||[""],c=e.length;c--;)if(s=Dt.exec(e[c])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f){for(u=tt.event.special[f]||{},f=(n?u.delegateType:u.bindType)||f,d=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=d.length;r--;)h=d[r],!o&&g!==h.origType||i&&i.guid!==h.guid||s&&!s.test(h.namespace)||n&&n!==h.selector&&("**"!==n||!h.selector)||(d.splice(r,1),h.selector&&d.delegateCount--,u.remove&&u.remove.call(t,h));a&&!d.length&&(u.teardown&&u.teardown.call(t,p,m.handle)!==!1||tt.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)tt.event.remove(t,f+e[c],i,n,!0);tt.isEmptyObject(l)&&(delete m.handle,vt.remove(t,"events"))}},trigger:function(e,i,n,o){var r,a,s,l,c,h,u,d=[n||Q],f=Y.call(e,"type")?e.type:e,p=Y.call(e,"namespace")?e.namespace.split("."):[];if(a=s=n=n||Q,3!==n.nodeType&&8!==n.nodeType&&!At.test(f+tt.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),c=f.indexOf(":")<0&&"on"+f,e=e[tt.expando]?e:new tt.Event(f,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:tt.makeArray(i,[e]),u=tt.event.special[f]||{},o||!u.trigger||u.trigger.apply(n,i)!==!1)){if(!o&&!u.noBubble&&!tt.isWindow(n)){for(l=u.delegateType||f,At.test(l+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(n.ownerDocument||Q)&&d.push(s.defaultView||s.parentWindow||t)}for(r=0;(a=d[r++])&&!e.isPropagationStopped();)e.type=r>1?l:u.bindType||f,h=(vt.get(a,"events")||{})[e.type]&&vt.get(a,"handle"),h&&h.apply(a,i),h=c&&a[c],h&&h.apply&&tt.acceptData(a)&&(e.result=h.apply(a,i),e.result===!1&&e.preventDefault());return e.type=f,o||e.isDefaultPrevented()||u._default&&u._default.apply(d.pop(),i)!==!1||!tt.acceptData(n)||c&&tt.isFunction(n[f])&&!tt.isWindow(n)&&(s=n[c],s&&(n[c]=null),tt.event.triggered=f,n[f](),tt.event.triggered=void 0,s&&(n[c]=s)),e.result}},dispatch:function(t){t=tt.event.fix(t);var e,i,n,o,r,a=[],s=U.call(arguments),l=(vt.get(this,"events")||{})[t.type]||[],c=tt.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(a=tt.event.handlers.call(this,t,l),e=0;(o=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,i=0;(r=o.handlers[i++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(r.namespace)||(t.handleObj=r,t.data=r.data,n=((tt.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,s),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,o,r,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==t.type){for(n=[],i=0;s>i;i++)r=e[i],o=r.selector+" ",void 0===n[o]&&(n[o]=r.needsContext?tt(o,this).index(l)>=0:tt.find(o,this,null,[l]).length),n[o]&&n.push(r);n.length&&a.push({elem:l,handlers:n})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,o,r=e.button;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||Q,n=i.documentElement,o=i.body,t.pageX=e.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},fix:function(t){if(t[tt.expando])return t;var e,i,n,o=t.type,r=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Mt.test(o)?this.mouseHooks:kt.test(o)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,t=new tt.Event(r),e=n.length;e--;)i=n[e],t[i]=r[i];return t.target||(t.target=Q),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,r):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==u()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&tt.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return tt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var o=tt.extend(new tt.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?tt.event.trigger(o,null,e):tt.event.dispatch.call(e,o),o.isDefaultPrevented()&&i.preventDefault()}},tt.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)},tt.Event=function(t,e){return this instanceof tt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.getPreventDefault&&t.getPreventDefault()?c:h):this.type=t,e&&tt.extend(this,e),this.timeStamp=t&&t.timeStamp||tt.now(),void(this[tt.expando]=!0)):new tt.Event(t,e)},tt.Event.prototype={isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=c,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=c,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=c,this.stopPropagation()}},tt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){tt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,r=t.handleObj;return o&&(o===n||tt.contains(n,o))||(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),K.focusinBubbles||tt.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){tt.event.simulate(e,t.target,tt.event.fix(t),!0)};tt.event.special[e]={setup:function(){var n=this.ownerDocument||this,o=vt.access(n,e);o||n.addEventListener(t,i,!0),vt.access(n,e,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=vt.access(n,e)-1;o?vt.access(n,e,o):(n.removeEventListener(t,i,!0),vt.remove(n,e))}}}),tt.fn.extend({on:function(t,e,i,n,o){var r,a;if("object"==typeof t){"string"!=typeof e&&(i=i||e,e=void 0);for(a in t)this.on(a,e,i,t[a],o);return this}if(null==i&&null==n?(n=e,i=e=void 0):null==n&&("string"==typeof e?(n=i,i=void 0):(n=i,i=e,e=void 0)),n===!1)n=h;else if(!n)return this;return 1===o&&(r=n,n=function(t){return tt().off(t),r.apply(this,arguments)},n.guid=r.guid||(r.guid=tt.guid++)),this.each(function(){tt.event.add(this,t,n,i,e)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,e,i){var n,o;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,tt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return e!==!1&&"function"!=typeof e||(i=e,e=void 0),i===!1&&(i=h),this.each(function(){tt.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){tt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?tt.event.trigger(t,e,i,!0):void 0}});var It=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Lt=/<([\w:]+)/,Pt=/<|&#?\w+;/,Nt=/<(?:script|style|link)/i,Et=/checked\s*(?:[^=]|=\s*.checked.)/i,Rt=/^$|\/(?:java|ecma)script/i,Ot=/^true\/(.*)/,zt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Vt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Vt.optgroup=Vt.option,Vt.tbody=Vt.tfoot=Vt.colgroup=Vt.caption=Vt.thead,Vt.th=Vt.td,tt.extend({clone:function(t,e,i){var n,o,r,a,s=t.cloneNode(!0),l=tt.contains(t.ownerDocument,t);if(!(K.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||tt.isXMLDoc(t)))for(a=v(s),r=v(t),n=0,o=r.length;o>n;n++)y(r[n],a[n]);if(e)if(i)for(r=r||v(t),a=a||v(s),n=0,o=r.length;o>n;n++)m(r[n],a[n]);else m(t,s);return a=v(s,"script"),a.length>0&&g(a,!l&&v(t,"script")),s},buildFragment:function(t,e,i,n){for(var o,r,a,s,l,c,h=e.createDocumentFragment(),u=[],d=0,f=t.length;f>d;d++)if(o=t[d],o||0===o)if("object"===tt.type(o))tt.merge(u,o.nodeType?[o]:o);else if(Pt.test(o)){for(r=r||h.appendChild(e.createElement("div")),a=(Lt.exec(o)||["",""])[1].toLowerCase(),s=Vt[a]||Vt._default,r.innerHTML=s[1]+o.replace(It,"<$1></$2>")+s[2],c=s[0];c--;)r=r.lastChild;tt.merge(u,r.childNodes),r=h.firstChild,r.textContent=""}else u.push(e.createTextNode(o));for(h.textContent="",d=0;o=u[d++];)if((!n||-1===tt.inArray(o,n))&&(l=tt.contains(o.ownerDocument,o),r=v(h.appendChild(o),"script"),l&&g(r),i))for(c=0;o=r[c++];)Rt.test(o.type||"")&&i.push(o);return h},cleanData:function(t){for(var e,i,n,o,r,a,s=tt.event.special,l=0;void 0!==(i=t[l]);l++){if(tt.acceptData(i)&&(r=i[vt.expando],r&&(e=vt.cache[r]))){if(n=Object.keys(e.events||{}),n.length)for(a=0;void 0!==(o=n[a]);a++)s[o]?tt.event.remove(i,o):tt.removeEvent(i,o,e.handle);vt.cache[r]&&delete vt.cache[r]}delete yt.cache[i[yt.expando]]}}}),tt.fn.extend({text:function(t){return mt(this,function(t){return void 0===t?tt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?tt.filter(t,this):this,o=0;null!=(i=n[o]);o++)e||1!==i.nodeType||tt.cleanData(v(i)),i.parentNode&&(e&&tt.contains(i.ownerDocument,i)&&g(v(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(tt.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return tt.clone(this,t,e)})},html:function(t){return mt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Nt.test(t)&&!Vt[(Lt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(It,"<$1></$2>");try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(tt.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,tt.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=j.apply([],t);var i,n,o,r,a,s,l=0,c=this.length,h=this,u=c-1,d=t[0],g=tt.isFunction(d);if(g||c>1&&"string"==typeof d&&!K.checkClone&&Et.test(d))return this.each(function(i){var n=h.eq(i);g&&(t[0]=d.call(this,i,n.html())),n.domManip(t,e)});if(c&&(i=tt.buildFragment(t,this[0].ownerDocument,!1,this),n=i.firstChild,1===i.childNodes.length&&(i=n),n)){for(o=tt.map(v(i,"script"),f),r=o.length;c>l;l++)a=i,l!==u&&(a=tt.clone(a,!0,!0),r&&tt.merge(o,v(a,"script"))),e.call(this[l],a,l);if(r)for(s=o[o.length-1].ownerDocument,tt.map(o,p),l=0;r>l;l++)a=o[l],Rt.test(a.type||"")&&!vt.access(a,"globalEval")&&tt.contains(s,a)&&(a.src?tt._evalUrl&&tt._evalUrl(a.src):tt.globalEval(a.textContent.replace(zt,"")))}return this}}),tt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){tt.fn[t]=function(t){for(var i,n=[],o=tt(t),r=o.length-1,a=0;r>=a;a++)i=a===r?this:this.clone(!0),tt(o[a])[e](i),W.apply(n,i.get());return this.pushStack(n)}});var Ft,Bt={},Ht=/^margin/,$t=new RegExp("^("+wt+")(?!px)[a-z%]+$","i"),Ut=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)};!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",r.appendChild(a);var e=t.getComputedStyle(s,null);i="1%"!==e.top,n="4px"===e.width,r.removeChild(a)}var i,n,o="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",r=Q.documentElement,a=Q.createElement("div"),s=Q.createElement("div");s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",K.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(s),t.getComputedStyle&&tt.extend(K,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return null==n&&e(),n},reliableMarginRight:function(){var e,i=s.appendChild(Q.createElement("div"));return i.style.cssText=s.style.cssText=o,i.style.marginRight=i.style.width="0",s.style.width="1px",r.appendChild(a),e=!parseFloat(t.getComputedStyle(i,null).marginRight),r.removeChild(a),s.innerHTML="",e}})}(),tt.swap=function(t,e,i,n){var o,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];o=i.apply(t,n||[]);for(r in e)t.style[r]=a[r];return o};var jt=/^(none|table(?!-c[ea]).+)/,Wt=new RegExp("^("+wt+")(.*)$","i"),Gt=new RegExp("^([+-])=("+wt+")","i"),qt={position:"absolute",visibility:"hidden",display:"block"},Zt={letterSpacing:0,fontWeight:400},Yt=["Webkit","O","Moz","ms"];tt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=w(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,a,s=tt.camelCase(e),l=t.style;return e=tt.cssProps[s]||(tt.cssProps[s]=T(l,s)),a=tt.cssHooks[e]||tt.cssHooks[s],void 0===i?a&&"get"in a&&void 0!==(o=a.get(t,!1,n))?o:l[e]:(r=typeof i,"string"===r&&(o=Gt.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(tt.css(t,e)),r="number"),null!=i&&i===i&&("number"!==r||tt.cssNumber[s]||(i+="px"),K.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(i=a.set(t,i,n))||(l[e]="",l[e]=i)),void 0)}},css:function(t,e,i,n){var o,r,a,s=tt.camelCase(e);return e=tt.cssProps[s]||(tt.cssProps[s]=T(t.style,s)),a=tt.cssHooks[e]||tt.cssHooks[s],a&&"get"in a&&(o=a.get(t,!0,i)),void 0===o&&(o=w(t,e,n)),"normal"===o&&e in Zt&&(o=Zt[e]),""===i||i?(r=parseFloat(o),i===!0||tt.isNumeric(r)?r||0:o):o}}),tt.each(["height","width"],function(t,e){tt.cssHooks[e]={get:function(t,i,n){return i?0===t.offsetWidth&&jt.test(tt.css(t,"display"))?tt.swap(t,qt,function(){return k(t,e,n)}):k(t,e,n):void 0},set:function(t,i,n){var o=n&&Ut(t);return S(t,i,n?C(t,e,n,"border-box"===tt.css(t,"boxSizing",!1,o),o):0)}}}),tt.cssHooks.marginRight=_(K.reliableMarginRight,function(t,e){return e?tt.swap(t,{display:"inline-block"},w,[t,"marginRight"]):void 0}),tt.each({margin:"",padding:"",border:"Width"},function(t,e){tt.cssHooks[t+e]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];4>n;n++)o[t+_t[n]+e]=r[n]||r[n-2]||r[0];return o}},Ht.test(t)||(tt.cssHooks[t+e].set=S)}),tt.fn.extend({css:function(t,e){return mt(this,function(t,e,i){var n,o,r={},a=0;if(tt.isArray(e)){for(n=Ut(t),o=e.length;o>a;a++)r[e[a]]=tt.css(t,e[a],!1,n);return r}return void 0!==i?tt.style(t,e,i):tt.css(t,e)},t,e,arguments.length>1)},show:function(){return M(this,!0)},hide:function(){return M(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Tt(this)?tt(this).show():tt(this).hide()})}}),tt.Tween=A,A.prototype={constructor:A,init:function(t,e,i,n,o,r){this.elem=t,this.prop=i,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(tt.cssNumber[i]?"":"px")},cur:function(){var t=A.propHooks[this.prop];return t&&t.get?t.get(this):A.propHooks._default.get(this)},run:function(t){var e,i=A.propHooks[this.prop];return this.options.duration?this.pos=e=tt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):A.propHooks._default.set(this),this}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=tt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){tt.fx.step[t.prop]?tt.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[tt.cssProps[t.prop]]||tt.cssHooks[t.prop])?tt.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},tt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},tt.fx=A.prototype.init,tt.fx.step={};var Xt,Kt,Qt=/^(?:toggle|show|hide)$/,Jt=new RegExp("^(?:([+-])=|)("+wt+")([a-z%]*)$","i"),te=/queueHooks$/,ee=[P],ie={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),o=Jt.exec(e),r=o&&o[3]||(tt.cssNumber[t]?"":"px"),a=(tt.cssNumber[t]||"px"!==r&&+n)&&Jt.exec(tt.css(i.elem,t)),s=1,l=20;if(a&&a[3]!==r){r=r||a[3],o=o||[],a=+n||1;do s=s||".5",a/=s,tt.style(i.elem,t,a+r);while(s!==(s=i.cur()/n)&&1!==s&&--l)}return o&&(a=i.start=+a||+n||0,i.unit=r,i.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),i}]};tt.Animation=tt.extend(E,{tweener:function(t,e){tt.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,o=t.length;o>n;n++)i=t[n],ie[i]=ie[i]||[],ie[i].unshift(e)},prefilter:function(t,e){e?ee.unshift(t):ee.push(t)}}),tt.speed=function(t,e,i){var n=t&&"object"==typeof t?tt.extend({},t):{complete:i||!i&&e||tt.isFunction(t)&&t,duration:t,easing:i&&e||e&&!tt.isFunction(e)&&e};return n.duration=tt.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in tt.fx.speeds?tt.fx.speeds[n.duration]:tt.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){tt.isFunction(n.old)&&n.old.call(this),n.queue&&tt.dequeue(this,n.queue)},n},tt.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Tt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=tt.isEmptyObject(t),r=tt.speed(e,i,n),a=function(){var e=E(this,tt.extend({},t),r);(o||vt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,o||r.queue===!1?this.each(a):this.queue(r.queue,a)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=tt.timers,a=vt.get(this);if(o)a[o]&&a[o].stop&&n(a[o]);else for(o in a)a[o]&&a[o].stop&&te.test(o)&&n(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(i),e=!1,r.splice(o,1));!e&&i||tt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=vt.get(this),n=i[t+"queue"],o=i[t+"queueHooks"],r=tt.timers,a=n?n.length:0;for(i.finish=!0,tt.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;a>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),tt.each(["toggle","show","hide"],function(t,e){var i=tt.fn[e];tt.fn[e]=function(t,n,o){
return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(I(e,!0),t,n,o)}}),tt.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){tt.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),tt.timers=[],tt.fx.tick=function(){var t,e=0,i=tt.timers;for(Xt=tt.now();e<i.length;e++)t=i[e],t()||i[e]!==t||i.splice(e--,1);i.length||tt.fx.stop(),Xt=void 0},tt.fx.timer=function(t){tt.timers.push(t),t()?tt.fx.start():tt.timers.pop()},tt.fx.interval=13,tt.fx.start=function(){Kt||(Kt=setInterval(tt.fx.tick,tt.fx.interval))},tt.fx.stop=function(){clearInterval(Kt),Kt=null},tt.fx.speeds={slow:600,fast:200,_default:400},tt.fn.delay=function(t,e){return t=tt.fx?tt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},function(){var t=Q.createElement("input"),e=Q.createElement("select"),i=e.appendChild(Q.createElement("option"));t.type="checkbox",K.checkOn=""!==t.value,K.optSelected=i.selected,e.disabled=!0,K.optDisabled=!i.disabled,t=Q.createElement("input"),t.value="t",t.type="radio",K.radioValue="t"===t.value}();var ne,oe,re=tt.expr.attrHandle;tt.fn.extend({attr:function(t,e){return mt(this,tt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){tt.removeAttr(this,t)})}}),tt.extend({attr:function(t,e,i){var n,o,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return typeof t.getAttribute===Ct?tt.prop(t,e,i):(1===r&&tt.isXMLDoc(t)||(e=e.toLowerCase(),n=tt.attrHooks[e]||(tt.expr.match.bool.test(e)?oe:ne)),void 0===i?n&&"get"in n&&null!==(o=n.get(t,e))?o:(o=tt.find.attr(t,e),null==o?void 0:o):null!==i?n&&"set"in n&&void 0!==(o=n.set(t,i,e))?o:(t.setAttribute(e,i+""),i):void tt.removeAttr(t,e))},removeAttr:function(t,e){var i,n,o=0,r=e&&e.match(ft);if(r&&1===t.nodeType)for(;i=r[o++];)n=tt.propFix[i]||i,tt.expr.match.bool.test(i)&&(t[n]=!1),t.removeAttribute(i)},attrHooks:{type:{set:function(t,e){if(!K.radioValue&&"radio"===e&&tt.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}}}),oe={set:function(t,e,i){return e===!1?tt.removeAttr(t,i):t.setAttribute(i,i),i}},tt.each(tt.expr.match.bool.source.match(/\w+/g),function(t,e){var i=re[e]||tt.find.attr;re[e]=function(t,e,n){var o,r;return n||(r=re[e],re[e]=o,o=null!=i(t,e,n)?e.toLowerCase():null,re[e]=r),o}});var ae=/^(?:input|select|textarea|button)$/i;tt.fn.extend({prop:function(t,e){return mt(this,tt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[tt.propFix[t]||t]})}}),tt.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,i){var n,o,r,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return r=1!==a||!tt.isXMLDoc(t),r&&(e=tt.propFix[e]||e,o=tt.propHooks[e]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:t[e]=i:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||ae.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),K.optSelected||(tt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),tt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){tt.propFix[this.toLowerCase()]=this});var se=/[\t\r\n\f]/g;tt.fn.extend({addClass:function(t){var e,i,n,o,r,a,s="string"==typeof t&&t,l=0,c=this.length;if(tt.isFunction(t))return this.each(function(e){tt(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(ft)||[];c>l;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(se," "):" ")){for(r=0;o=e[r++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");a=tt.trim(n),i.className!==a&&(i.className=a)}return this},removeClass:function(t){var e,i,n,o,r,a,s=0===arguments.length||"string"==typeof t&&t,l=0,c=this.length;if(tt.isFunction(t))return this.each(function(e){tt(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(ft)||[];c>l;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(se," "):"")){for(r=0;o=e[r++];)for(;n.indexOf(" "+o+" ")>=0;)n=n.replace(" "+o+" "," ");a=t?tt.trim(n):"",i.className!==a&&(i.className=a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):tt.isFunction(t)?this.each(function(i){tt(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var e,n=0,o=tt(this),r=t.match(ft)||[];e=r[n++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else i!==Ct&&"boolean"!==i||(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||t===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(se," ").indexOf(e)>=0)return!0;return!1}});var le=/\r/g;tt.fn.extend({val:function(t){var e,i,n,o=this[0];{if(arguments.length)return n=tt.isFunction(t),this.each(function(i){var o;1===this.nodeType&&(o=n?t.call(this,i,tt(this).val()):t,null==o?o="":"number"==typeof o?o+="":tt.isArray(o)&&(o=tt.map(o,function(t){return null==t?"":t+""})),e=tt.valHooks[this.type]||tt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))});if(o)return e=tt.valHooks[o.type]||tt.valHooks[o.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(o,"value"))?i:(i=o.value,"string"==typeof i?i.replace(le,""):null==i?"":i)}}}),tt.extend({valHooks:{select:{get:function(t){for(var e,i,n=t.options,o=t.selectedIndex,r="select-one"===t.type||0>o,a=r?null:[],s=r?o+1:n.length,l=0>o?s:r?o:0;s>l;l++)if(i=n[l],(i.selected||l===o)&&(K.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!tt.nodeName(i.parentNode,"optgroup"))){if(e=tt(i).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var i,n,o=t.options,r=tt.makeArray(e),a=o.length;a--;)n=o[a],(n.selected=tt.inArray(tt(n).val(),r)>=0)&&(i=!0);return i||(t.selectedIndex=-1),r}}}}),tt.each(["radio","checkbox"],function(){tt.valHooks[this]={set:function(t,e){return tt.isArray(e)?t.checked=tt.inArray(tt(t).val(),e)>=0:void 0}},K.checkOn||(tt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),tt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){tt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),tt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var ce=tt.now(),he=/\?/;tt.parseJSON=function(t){return JSON.parse(t+"")},tt.parseXML=function(t){var e,i;if(!t||"string"!=typeof t)return null;try{i=new DOMParser,e=i.parseFromString(t,"text/xml")}catch(n){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||tt.error("Invalid XML: "+t),e};var ue,de,fe=/#.*$/,pe=/([?&])_=[^&]*/,ge=/^(.*?):[ \t]*([^\r\n]*)$/gm,me=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ve=/^(?:GET|HEAD)$/,ye=/^\/\//,xe=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,be={},we={},_e="*/".concat("*");try{de=location.href}catch(Te){de=Q.createElement("a"),de.href="",de=de.href}ue=xe.exec(de.toLowerCase())||[],tt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:de,type:"GET",isLocal:me.test(ue[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_e,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":tt.parseJSON,"text xml":tt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?z(z(t,tt.ajaxSettings),e):z(tt.ajaxSettings,t)},ajaxPrefilter:R(be),ajaxTransport:R(we),ajax:function(t,e){function i(t,e,i,a){var l,h,v,y,b,_=e;2!==x&&(x=2,s&&clearTimeout(s),n=void 0,r=a||"",w.readyState=t>0?4:0,l=t>=200&&300>t||304===t,i&&(y=V(u,w,i)),y=F(u,y,w,l),l?(u.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(tt.lastModified[o]=b),b=w.getResponseHeader("etag"),b&&(tt.etag[o]=b)),204===t||"HEAD"===u.type?_="nocontent":304===t?_="notmodified":(_=y.state,h=y.data,v=y.error,l=!v)):(v=_,!t&&_||(_="error",0>t&&(t=0))),w.status=t,w.statusText=(e||_)+"",l?p.resolveWith(d,[h,_,w]):p.rejectWith(d,[w,_,v]),w.statusCode(m),m=void 0,c&&f.trigger(l?"ajaxSuccess":"ajaxError",[w,u,l?h:v]),g.fireWith(d,[w,_]),c&&(f.trigger("ajaxComplete",[w,u]),--tt.active||tt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,o,r,a,s,l,c,h,u=tt.ajaxSetup({},e),d=u.context||u,f=u.context&&(d.nodeType||d.jquery)?tt(d):tt.event,p=tt.Deferred(),g=tt.Callbacks("once memory"),m=u.statusCode||{},v={},y={},x=0,b="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!a)for(a={};e=ge.exec(r);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?r:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return x||(t=y[i]=y[i]||t,v[t]=e),this},overrideMimeType:function(t){return x||(u.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>x)for(e in t)m[e]=[m[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||b;return n&&n.abort(e),i(0,e),this}};if(p.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,u.url=((t||u.url||de)+"").replace(fe,"").replace(ye,ue[1]+"//"),u.type=e.method||e.type||u.method||u.type,u.dataTypes=tt.trim(u.dataType||"*").toLowerCase().match(ft)||[""],null==u.crossDomain&&(l=xe.exec(u.url.toLowerCase()),u.crossDomain=!(!l||l[1]===ue[1]&&l[2]===ue[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(ue[3]||("http:"===ue[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=tt.param(u.data,u.traditional)),O(be,u,e,w),2===x)return w;c=u.global,c&&0===tt.active++&&tt.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!ve.test(u.type),o=u.url,u.hasContent||(u.data&&(o=u.url+=(he.test(o)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=pe.test(o)?o.replace(pe,"$1_="+ce++):o+(he.test(o)?"&":"?")+"_="+ce++)),u.ifModified&&(tt.lastModified[o]&&w.setRequestHeader("If-Modified-Since",tt.lastModified[o]),tt.etag[o]&&w.setRequestHeader("If-None-Match",tt.etag[o])),(u.data&&u.hasContent&&u.contentType!==!1||e.contentType)&&w.setRequestHeader("Content-Type",u.contentType),w.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+_e+"; q=0.01":""):u.accepts["*"]);for(h in u.headers)w.setRequestHeader(h,u.headers[h]);if(u.beforeSend&&(u.beforeSend.call(d,w,u)===!1||2===x))return w.abort();b="abort";for(h in{success:1,error:1,complete:1})w[h](u[h]);if(n=O(we,u,e,w)){w.readyState=1,c&&f.trigger("ajaxSend",[w,u]),u.async&&u.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},u.timeout));try{x=1,n.send(v,i)}catch(_){if(!(2>x))throw _;i(-1,_)}}else i(-1,"No Transport");return w},getJSON:function(t,e,i){return tt.get(t,e,i,"json")},getScript:function(t,e){return tt.get(t,void 0,e,"script")}}),tt.each(["get","post"],function(t,e){tt[e]=function(t,i,n,o){return tt.isFunction(i)&&(o=o||n,n=i,i=void 0),tt.ajax({url:t,type:e,dataType:o,data:i,success:n})}}),tt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){tt.fn[e]=function(t){return this.on(e,t)}}),tt._evalUrl=function(t){return tt.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},tt.fn.extend({wrapAll:function(t){var e;return tt.isFunction(t)?this.each(function(e){tt(this).wrapAll(t.call(this,e))}):(this[0]&&(e=tt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return tt.isFunction(t)?this.each(function(e){tt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=tt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=tt.isFunction(t);return this.each(function(i){tt(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){tt.nodeName(this,"body")||tt(this).replaceWith(this.childNodes)}).end()}}),tt.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},tt.expr.filters.visible=function(t){return!tt.expr.filters.hidden(t)};var Se=/%20/g,Ce=/\[\]$/,ke=/\r?\n/g,Me=/^(?:submit|button|image|reset|file)$/i,Ae=/^(?:input|select|textarea|keygen)/i;tt.param=function(t,e){var i,n=[],o=function(t,e){e=tt.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=tt.ajaxSettings&&tt.ajaxSettings.traditional),tt.isArray(t)||t.jquery&&!tt.isPlainObject(t))tt.each(t,function(){o(this.name,this.value)});else for(i in t)B(i,t[i],e,o);return n.join("&").replace(Se,"+")},tt.fn.extend({serialize:function(){return tt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=tt.prop(this,"elements");return t?tt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!tt(this).is(":disabled")&&Ae.test(this.nodeName)&&!Me.test(t)&&(this.checked||!St.test(t))}).map(function(t,e){var i=tt(this).val();return null==i?null:tt.isArray(i)?tt.map(i,function(t){return{name:e.name,value:t.replace(ke,"\r\n")}}):{name:e.name,value:i.replace(ke,"\r\n")}}).get()}}),tt.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var De=0,Ie={},Le={0:200,1223:204},Pe=tt.ajaxSettings.xhr();t.ActiveXObject&&tt(t).on("unload",function(){for(var t in Ie)Ie[t]()}),K.cors=!!Pe&&"withCredentials"in Pe,K.ajax=Pe=!!Pe,tt.ajaxTransport(function(t){var e;return K.cors||Pe&&!t.crossDomain?{send:function(i,n){var o,r=t.xhr(),a=++De;if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)r[o]=t.xhrFields[o];t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)r.setRequestHeader(o,i[o]);e=function(t){return function(){e&&(delete Ie[a],e=r.onload=r.onerror=null,"abort"===t?r.abort():"error"===t?n(r.status,r.statusText):n(Le[r.status]||r.status,r.statusText,"string"==typeof r.responseText?{text:r.responseText}:void 0,r.getAllResponseHeaders()))}},r.onload=e(),r.onerror=e("error"),e=Ie[a]=e("abort"),r.send(t.hasContent&&t.data||null)},abort:function(){e&&e()}}:void 0}),tt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return tt.globalEval(t),t}}}),tt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),tt.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,o){e=tt("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&o("error"===t.type?404:200,t.type)}),Q.head.appendChild(e[0])},abort:function(){i&&i()}}}});var Ne=[],Ee=/(=)\?(?=&|$)|\?\?/;tt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ne.pop()||tt.expando+"_"+ce++;return this[t]=!0,t}}),tt.ajaxPrefilter("json jsonp",function(e,i,n){var o,r,a,s=e.jsonp!==!1&&(Ee.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ee.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(o=e.jsonpCallback=tt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Ee,"$1"+o):e.jsonp!==!1&&(e.url+=(he.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||tt.error(o+" was not called"),a[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){a=arguments},n.always(function(){t[o]=r,e[o]&&(e.jsonpCallback=i.jsonpCallback,Ne.push(o)),a&&tt.isFunction(r)&&r(a[0]),a=r=void 0}),"script"):void 0}),tt.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||Q;var n=at.exec(t),o=!i&&[];return n?[e.createElement(n[1])]:(n=tt.buildFragment([t],e,o),o&&o.length&&tt(o).remove(),tt.merge([],n.childNodes))};var Re=tt.fn.load;tt.fn.load=function(t,e,i){if("string"!=typeof t&&Re)return Re.apply(this,arguments);var n,o,r,a=this,s=t.indexOf(" ");return s>=0&&(n=t.slice(s),t=t.slice(0,s)),tt.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),a.length>0&&tt.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){r=arguments,a.html(n?tt("<div>").append(tt.parseHTML(t)).find(n):t)}).complete(i&&function(t,e){a.each(i,r||[t.responseText,e,t])}),this},tt.expr.filters.animated=function(t){return tt.grep(tt.timers,function(e){return t===e.elem}).length};var Oe=t.document.documentElement;tt.offset={setOffset:function(t,e,i){var n,o,r,a,s,l,c,h=tt.css(t,"position"),u=tt(t),d={};"static"===h&&(t.style.position="relative"),s=u.offset(),r=tt.css(t,"top"),l=tt.css(t,"left"),c=("absolute"===h||"fixed"===h)&&(r+l).indexOf("auto")>-1,c?(n=u.position(),a=n.top,o=n.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),tt.isFunction(e)&&(e=e.call(t,i,s)),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+o),"using"in e?e.using.call(t,d):u.css(d)}},tt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){tt.offset.setOffset(this,t,e)});var e,i,n=this[0],o={top:0,left:0},r=n&&n.ownerDocument;if(r)return e=r.documentElement,tt.contains(e,n)?(typeof n.getBoundingClientRect!==Ct&&(o=n.getBoundingClientRect()),i=H(r),{top:o.top+i.pageYOffset-e.clientTop,left:o.left+i.pageXOffset-e.clientLeft}):o},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===tt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),tt.nodeName(t[0],"html")||(n=t.offset()),n.top+=tt.css(t[0],"borderTopWidth",!0),n.left+=tt.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-tt.css(i,"marginTop",!0),left:e.left-n.left-tt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Oe;t&&!tt.nodeName(t,"html")&&"static"===tt.css(t,"position");)t=t.offsetParent;return t||Oe})}}),tt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n="pageYOffset"===i;tt.fn[e]=function(o){return mt(this,function(e,o,r){var a=H(e);return void 0===r?a?a[i]:e[o]:void(a?a.scrollTo(n?t.pageXOffset:r,n?r:t.pageYOffset):e[o]=r)},e,o,arguments.length,null)}}),tt.each(["top","left"],function(t,e){tt.cssHooks[e]=_(K.pixelPosition,function(t,i){return i?(i=w(t,e),$t.test(i)?tt(t).position()[e]+"px":i):void 0})}),tt.each({Height:"height",Width:"width"},function(t,e){tt.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){tt.fn[n]=function(n,o){var r=arguments.length&&(i||"boolean"!=typeof n),a=i||(n===!0||o===!0?"margin":"border");return mt(this,function(e,i,n){var o;return tt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===n?tt.css(e,i,a):tt.style(e,i,n,a)},e,r?n:void 0,r,null)}})}),tt.fn.size=function(){return this.length},tt.fn.andSelf=tt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return tt});var ze=t.jQuery,Ve=t.$;return tt.noConflict=function(e){return t.$===tt&&(t.$=Ve),e&&t.jQuery===tt&&(t.jQuery=ze),tt},typeof e===Ct&&(t.jQuery=t.$=tt),tt}),function(t){function e(){}function i(t){a=[t]}function n(t,e,i){return t&&t.apply(e.context||e,i)}function o(t){return/\?/.test(t)?"&":"?"}function r(r){function f(t){Y++||(X(),j&&(k[G]={s:[t]}),B&&(t=B.apply(r,[t])),n(z,r,[t,w,r]),n(F,r,[r,w]))}function L(t){Y++||(X(),j&&t!=_&&(k[G]=t),n(V,r,[r,t]),n(F,r,[r,t]))}r=t.extend({},A,r);var P,N,E,R,O,z=r.success,V=r.error,F=r.complete,B=r.dataFilter,H=r.callbackParameter,$=r.callback,U=r.cache,j=r.pageCache,W=r.charset,G=r.url,q=r.data,Z=r.timeout,Y=0,X=e;return S&&S(function(t){t.done(z).fail(V),z=t.resolve,V=t.reject}).promise(r),r.abort=function(){!Y++&&X()},n(r.beforeSend,r,[r])===!1||Y?r:(G=G||c,q=q?"string"==typeof q?q:t.param(q,r.traditional):c,G+=q?o(G)+q:c,H&&(G+=o(G)+encodeURIComponent(H)+"=?"),!U&&!j&&(G+=o(G)+"_"+(new Date).getTime()+"="),G=G.replace(/=\?(&|$)/,"="+$+"$1"),j&&(P=k[G])?P.s?f(P.s[0]):L(P):(T[$]=i,E=t(b)[0],E.id=d+M++,W&&(E[l]=W),D&&D.version()<11.6?(R=t(b)[0]).text="document.getElementById('"+E.id+"')."+g+"()":E[s]=s,I&&(E.htmlFor=E.id,E.event=p),E[m]=E[g]=E[v]=function(t){if(!E[y]||!/i/.test(E[y])){try{E[p]&&E[p]()}catch(e){}t=a,a=0,t?f(t[0]):L(h)}},E.src=G,X=function(t){O&&clearTimeout(O),E[v]=E[m]=E[g]=null,C[x](E),R&&C[x](R)},C[u](E,N=C.firstChild),R&&C[u](R,N),O=Z>0&&setTimeout(function(){L(_)},Z)),r)}var a,s="async",l="charset",c="",h="error",u="insertBefore",d="_jqjsp",f="on",p=f+"click",g=f+h,m=f+"load",v=f+"readystatechange",y="readyState",x="removeChild",b="<script>",w="success",_="timeout",T=window,S=t.Deferred,C=t("head")[0]||document.documentElement,k={},M=0,A={callback:d,url:location.href},D=T.opera,I=!!t("<div>").html("<!--[if IE]><i><![endif]-->").find("i").length;r.setup=function(e){t.extend(A,e)},t.jsonp=r}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("bsTransitionEnd",function(){i=!0});var o=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new n(this)),"string"==typeof e&&o[e].call(i)})}var i='[data-dismiss="alert"]',n=function(e){t(e).on("click",i,this.close)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function i(){a.detach().trigger("closed.bs.alert").remove()}var o=t(this),r=o.attr("data-target");r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var a=t(r);e&&e.preventDefault(),a.length||(a=o.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var o=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.button"),r="object"==typeof e&&e;o||n.data("bs.button",o=new i(this,r)),"toggle"==e?o.toggle():e&&o.setState(e)})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.5",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",n=this.$element,o=n.is("input")?"val":"html",r=n.data();e+="Text",null==r.resetText&&n.data("resetText",n[o]()),setTimeout(t.proxy(function(){n[o](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=t(i.target);n.hasClass("btn")||(n=n.closest(".btn")),e.call(n,"toggle"),t(i.target).is('input[type="radio"]')||t(i.target).is('input[type="checkbox"]')||i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.carousel"),r=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),a="string"==typeof e?e:r.slide;o||n.data("bs.carousel",o=new i(this,r)),"number"==typeof e?o.to(e):a?o[a]():r.interval&&o.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.5",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),n="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(n&&!this.options.wrap)return e;var o="prev"==t?-1:1,r=(i+o)%this.$items.length;return this.$items.eq(r)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,n){var o=this.$element.find(".item.active"),r=n||this.getItemForDirection(e,o),a=this.interval,s="next"==e?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var c=r[0],h=t.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(h),!h.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=t(this.$indicators.children()[this.getItemIndex(r)]);u&&u.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),r[0].offsetWidth,o.addClass(s),r.addClass(s),o.one("bsTransitionEnd",function(){r.removeClass([e,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(d)),a&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this};var o=function(i){var n,o=t(this),r=t(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var a=t.extend({},r.data(),o.data()),s=o.attr("data-slide-to");s&&(a.interval=!1),e.call(r,a),s&&r.data("bs.carousel").to(s),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";function e(e){var i,n=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function i(e){return this.each(function(){var i=t(this),o=i.data("bs.collapse"),r=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!o&&r.toggle&&/show|hide/.test(e)&&(r.toggle=!1),o||i.data("bs.collapse",o=new n(this,r)),"string"==typeof e&&o[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.5",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"),e&&e.transitioning))){var r=t.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){o&&o.length&&(i.call(o,"hide"),e||o.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[a](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,
this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(n.TRANSITION_DURATION):o.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,n){var o=t(n);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var o=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var o=t(this);o.attr("data-target")||n.preventDefault();var r=e(o),a=r.data("bs.collapse"),s=a?"toggle":o.data();i.call(r,s)})}(jQuery),+function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}function i(i){i&&3===i.which||(t(o).remove(),t(r).each(function(){var n=t(this),o=e(n),r={relatedTarget:this};o.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(o[0],i.target)||(o.trigger(i=t.Event("hide.bs.dropdown",r)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),o.removeClass("open").trigger("hidden.bs.dropdown",r))))}))}function n(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new a(this)),"string"==typeof e&&n[e].call(i)})}var o=".dropdown-backdrop",r='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.5",a.prototype.toggle=function(n){var o=t(this);if(!o.is(".disabled, :disabled")){var r=e(o),a=r.hasClass("open");if(i(),!a){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var s={relatedTarget:this};if(r.trigger(n=t.Event("show.bs.dropdown",s)),n.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},a.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=t(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var o=e(n),a=o.hasClass("open");if(!a&&27!=i.which||a&&27==i.which)return 27==i.which&&o.find(r).trigger("focus"),n.trigger("click");var s=" li:not(.disabled):visible a",l=o.find(".dropdown-menu"+s);if(l.length){var c=l.index(i.target);38==i.which&&c>0&&c--,40==i.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,a.prototype.toggle).on("keydown.bs.dropdown.data-api",r,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,n){return this.each(function(){var o=t(this),r=o.data("bs.modal"),a=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e);r||o.data("bs.modal",r=new i(this,a)),"string"==typeof e?r[e](n):a.show&&r.show(n)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.5",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var n=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),o&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});o?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(r)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var n=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&o;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=t(this),o=n.attr("href"),r=t(n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),a=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},r.data(),n.data());n.is("a")&&i.preventDefault(),r.one("show.bs.modal",function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(r,a,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.tooltip"),r="object"==typeof e&&e;!o&&/destroy|hide/.test(e)||(o||n.data("bs.tooltip",o=new i(this,r)),"string"==typeof e&&o[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.5",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,n){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),r=o.length;r--;){var a=o[r];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var o=this,r=this.tip(),a=this.getUID(this.type);this.setContent(),r.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&r.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(s);c&&(s=s.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var h=this.getPosition(),u=r[0].offsetWidth,d=r[0].offsetHeight;if(c){var f=s,p=this.getPosition(this.$viewport);s="bottom"==s&&h.bottom+d>p.bottom?"top":"top"==s&&h.top-d<p.top?"bottom":"right"==s&&h.right+u>p.width?"left":"left"==s&&h.left-u<p.left?"right":s,r.removeClass(f).addClass(s)}var g=this.getCalculatedOffset(s,h,u,d);this.applyPlacement(g,s);var m=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",m).emulateTransitionEnd(i.TRANSITION_DURATION):m()}},i.prototype.applyPlacement=function(e,i){var n=this.tip(),o=n[0].offsetWidth,r=n[0].offsetHeight,a=parseInt(n.css("margin-top"),10),s=parseInt(n.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),e.top+=a,e.left+=s,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==i&&c!=r&&(e.top=e.top+r-c);var h=this.getViewportAdjustedDelta(i,e,l,c);h.left?e.left+=h.left:e.top+=h.top;var u=/top|bottom/.test(i),d=u?2*h.left-o+l:2*h.top-r+c,f=u?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(d,n[0][f],u)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function n(){"in"!=o.hoverState&&r.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,r=t(this.$tip),a=t.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],n="BODY"==i.tagName,o=i.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var r=n?{top:0,left:0}:e.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},s=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,a,s,r)},i.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,n){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-r-a.scroll,l=e.top+r-a.scroll+n;s<a.top?o.top=a.top-s:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var c=e.left-r,h=e.left+r+i;c<a.left?o.left=a.left-c:h>a.right&&(o.left=a.left+a.width-h)}return o},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var n=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.popover"),r="object"==typeof e&&e;!o&&/destroy|hide/.test(e)||(o||n.data("bs.popover",o=new i(this,r)),"string"==typeof e&&o[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.5",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),+function(t){"use strict";function e(i,n){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=t(this),o=n.data("bs.scrollspy"),r="object"==typeof i&&i;o||n.data("bs.scrollspy",o=new e(this,r)),"string"==typeof i&&o[i]()})}e.VERSION="3.3.5",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),o=e.data("target")||e.attr("href"),r=/^#./.test(o)&&t(o);return r&&r.length&&r.is(":visible")&&[[r[i]().top+n,o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),o=this.offsets,r=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=n)return a!=(t=r[r.length-1])&&this.activate(t);if(a&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)a!=r[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.tab");o||n.data("bs.tab",o=new i(this)),"string"==typeof e&&o[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.5",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=i.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(r),e.trigger(a),!a.isDefaultPrevented()&&!r.isDefaultPrevented()){var s=t(n);this.activate(e.closest("li"),i),this.activate(s,s.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},i.prototype.activate=function(e,n,o){function r(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var a=n.find("> .active"),s=o&&t.support.transition&&(a.length&&a.hasClass("fade")||!!n.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",r).emulateTransitionEnd(i.TRANSITION_DURATION):r(),a.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var o=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.affix"),r="object"==typeof e&&e;o||n.data("bs.affix",o=new i(this,r)),"string"==typeof e&&o[e]()})}var i=function(e,n){this.options=t.extend({},i.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.5",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,n){var o=this.$target.scrollTop(),r=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return i>o?"top":!1;if("bottom"==this.affixed)return null!=i?o+this.unpin<=r.top?!1:"bottom":t-n>=o+a?!1:"bottom";var s=null==this.affixed,l=s?o:r.top,c=s?a:e;return null!=i&&i>=o?"top":null!=n&&l+c>=t-n?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),n=this.options.offset,o=n.top,r=n.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof n&&(r=o=n),"function"==typeof o&&(o=n.top(this.$element)),"function"==typeof r&&(r=n.bottom(this.$element));var s=this.getState(a,e,o,r);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-e-r})}};var n=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),e.call(i,n)})})}(jQuery),!function(t){"use strict";var e=null,i=function(t){var e=arguments,i=!0,n=1;return t=t.replace(/%s/g,function(){var t=e[n++];return"undefined"==typeof t?(i=!1,""):t}),i?t:""},n=function(e,i,n,o){var r="";return t.each(e,function(t,e){return e[i]===o?(r=e[n],!1):!0}),r},o=function(e,i){var n=-1;return t.each(e,function(t,e){return e.field===i?(n=t,!1):!0}),n},r=function(e){var i,n,o,r=0,a=[];for(i=0;i<e[0].length;i++)r+=e[0][i].colspan||1;for(i=0;i<e.length;i++)for(a[i]=[],n=0;r>n;n++)a[i][n]=!1;for(i=0;i<e.length;i++)for(n=0;n<e[i].length;n++){var s=e[i][n],l=s.rowspan||1,c=s.colspan||1,h=t.inArray(!1,a[i]);for(1===c&&(s.fieldIndex=h,"undefined"==typeof s.field&&(s.field=h)),o=0;l>o;o++)a[i+o][h]=!0;for(o=0;c>o;o++)a[i][h+o]=!0}},a=function(){if(null===e){var i,n,o=t("<p/>").addClass("fixed-table-scroll-inner"),r=t("<div/>").addClass("fixed-table-scroll-outer");r.append(o),t("body").append(r),i=o[0].offsetWidth,r.css("overflow","scroll"),n=o[0].offsetWidth,i===n&&(n=r[0].clientWidth),r.remove(),e=i-n}return e},s=function(e,n,o,r){var a=n;if("string"==typeof n){var s=n.split(".");s.length>1?(a=window,t.each(s,function(t,e){a=a[e]})):a=window[n]}return"object"==typeof a?a:"function"==typeof a?a.apply(e,o):!a&&"string"==typeof n&&i.apply(this,[n].concat(o))?i.apply(this,[n].concat(o)):r},l=function(e,i,n){var o=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(i),a="";if(n&&o.length!==r.length)return!1;for(var s=0;s<o.length;s++)if(a=o[s],t.inArray(a,r)>-1&&e[a]!==i[a])return!1;return!0},c=function(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):t},h=function(e){var i=0;return e.children().each(function(){i<t(this).outerHeight(!0)&&(i=t(this).outerHeight(!0))}),i},u=function(t){for(var e in t){var i=e.split(/(?=[A-Z])/).join("-").toLowerCase();i!==e&&(t[i]=t[e],delete t[e])}return t},d=function(t,e){var i=t;if("string"!=typeof e||t.hasOwnProperty(e))return t[e];var n=e.split(".");for(var o in n)i=i[n[o]];return i},f=function(e,i){this.options=i,this.$el=t(e),this.$el_=this.$el.clone(),this.timeoutId_=0,this.timeoutFooter_=0,this.init()};f.DEFAULTS={classes:"table table-hover",locale:void 0,height:void 0,undefinedText:"-",sortName:void 0,sortOrder:"asc",striped:!1,columns:[[]],data:[],dataField:"rows",method:"get",url:void 0,ajax:void 0,cache:!0,contentType:"application/json",dataType:"json",ajaxOptions:{},queryParams:function(t){return t},queryParamsType:"limit",responseHandler:function(t){return t},pagination:!1,onlyInfoPagination:!1,sidePagination:"client",totalRows:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",paginationFirstText:"&laquo;",paginationPreText:"&lsaquo;",paginationNextText:"&rsaquo;",paginationLastText:"&raquo;",search:!1,strictSearch:!1,searchAlign:"right",selectItemName:"btSelectItem",showHeader:!0,showFooter:!1,showColumns:!1,showPaginationSwitch:!1,showRefresh:!1,showToggle:!1,buttonsAlign:"right",smartDisplay:!0,minimumCountColumns:1,idField:void 0,uniqueId:void 0,cardView:!1,detailView:!1,detailFormatter:function(t,e){return""},trimOnSearch:!0,clickToSelect:!1,singleSelect:!1,toolbar:void 0,toolbarAlign:"left",checkboxHeader:!0,sortable:!0,silentSort:!0,maintainSelected:!1,searchTimeOut:500,searchText:"",iconSize:void 0,iconsPrefix:"glyphicon",icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggle:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th",detailOpen:"glyphicon-plus icon-plus",detailClose:"glyphicon-minus icon-minus"},rowStyle:function(t,e){return{}},rowAttributes:function(t,e){return{}},onAll:function(t,e){return!1},onClickCell:function(t,e,i,n){return!1},onDblClickCell:function(t,e,i,n){return!1},onClickRow:function(t,e){return!1},onDblClickRow:function(t,e){return!1},onSort:function(t,e){return!1},onCheck:function(t){return!1},onUncheck:function(t){return!1},onCheckAll:function(t){return!1},onUncheckAll:function(t){return!1},onCheckSome:function(t){return!1},onUncheckSome:function(t){return!1},onLoadSuccess:function(t){return!1},onLoadError:function(t){return!1},onColumnSwitch:function(t,e){return!1},onPageChange:function(t,e){return!1},onSearch:function(t){return!1},onToggle:function(t){return!1},onPreBody:function(t){return!1},onPostBody:function(){return!1},onPostHeader:function(){return!1},onExpandRow:function(t,e,i){return!1},onCollapseRow:function(t,e){return!1},onRefreshOptions:function(t){return!1},onResetView:function(){return!1}},f.LOCALES=[],f.LOCALES["en-US"]=f.LOCALES.en={formatLoadingMessage:function(){return"Loading, please wait..."},formatRecordsPerPage:function(t){return i("%s records per page",t)},formatShowingRows:function(t,e,n){return i("Showing %s to %s of %s rows",t,e,n)},formatDetailPagination:function(t){return i("Showing %s rows",t)},formatSearch:function(){return"Search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatRefresh:function(){return"Refresh"},formatToggle:function(){return"Toggle"},formatColumns:function(){return"Columns"},formatAllRows:function(){return"All"}},t.extend(f.DEFAULTS,f.LOCALES["en-US"]),f.COLUMN_DEFAULTS={radio:!1,checkbox:!1,checkboxEnabled:!0,field:void 0,title:void 0,titleTooltip:void 0,"class":void 0,align:void 0,halign:void 0,
falign:void 0,valign:void 0,width:void 0,sortable:!1,order:"asc",visible:!0,switchable:!0,clickToSelect:!0,formatter:void 0,footerFormatter:void 0,events:void 0,sorter:void 0,sortName:void 0,cellStyle:void 0,searchable:!0,searchFormatter:!0,cardVisible:!0},f.EVENTS={"all.bs.table":"onAll","click-cell.bs.table":"onClickCell","dbl-click-cell.bs.table":"onDblClickCell","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","check-some.bs.table":"onCheckSome","uncheck-some.bs.table":"onUncheckSome","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","toggle.bs.table":"onToggle","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader","expand-row.bs.table":"onExpandRow","collapse-row.bs.table":"onCollapseRow","refresh-options.bs.table":"onRefreshOptions","reset-view.bs.table":"onResetView"},f.prototype.init=function(){this.initLocale(),this.initContainer(),this.initTable(),this.initHeader(),this.initData(),this.initFooter(),this.initToolbar(),this.initPagination(),this.initBody(),this.initSearchText(),this.initServer()},f.prototype.initLocale=function(){if(this.options.locale){var e=this.options.locale.split(/-|_/);e[0].toLowerCase(),e[1]&&e[1].toUpperCase(),t.fn.bootstrapTable.locales[this.options.locale]?t.extend(this.options,t.fn.bootstrapTable.locales[this.options.locale]):t.fn.bootstrapTable.locales[e.join("-")]?t.extend(this.options,t.fn.bootstrapTable.locales[e.join("-")]):t.fn.bootstrapTable.locales[e[0]]&&t.extend(this.options,t.fn.bootstrapTable.locales[e[0]])}},f.prototype.initContainer=function(){this.$container=t(['<div class="bootstrap-table">','<div class="fixed-table-toolbar"></div>',"top"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?'<div class="fixed-table-pagination" style="clear: both;"></div>':"",'<div class="fixed-table-container">','<div class="fixed-table-header"><table></table></div>','<div class="fixed-table-body">','<div class="fixed-table-loading">',this.options.formatLoadingMessage(),"</div>","</div>",'<div class="fixed-table-footer"><table><tr></tr></table></div>',"bottom"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?'<div class="fixed-table-pagination"></div>':"","</div>","</div>"].join("")),this.$container.insertAfter(this.$el),this.$tableContainer=this.$container.find(".fixed-table-container"),this.$tableHeader=this.$container.find(".fixed-table-header"),this.$tableBody=this.$container.find(".fixed-table-body"),this.$tableLoading=this.$container.find(".fixed-table-loading"),this.$tableFooter=this.$container.find(".fixed-table-footer"),this.$toolbar=this.$container.find(".fixed-table-toolbar"),this.$pagination=this.$container.find(".fixed-table-pagination"),this.$tableBody.append(this.$el),this.$container.after('<div class="clearfix"></div>'),this.$el.addClass(this.options.classes),this.options.striped&&this.$el.addClass("table-striped"),-1!==t.inArray("table-no-bordered",this.options.classes.split(" "))&&this.$tableContainer.addClass("table-no-bordered")},f.prototype.initTable=function(){var e=this,i=[],n=[];this.$header=this.$el.find(">thead"),this.$header.length||(this.$header=t("<thead></thead>").appendTo(this.$el)),this.$header.find("tr").each(function(){var e=[];t(this).find("th").each(function(){e.push(t.extend({},{title:t(this).html(),"class":t(this).attr("class"),titleTooltip:t(this).attr("title"),rowspan:t(this).attr("rowspan")?+t(this).attr("rowspan"):void 0,colspan:t(this).attr("colspan")?+t(this).attr("colspan"):void 0},t(this).data()))}),i.push(e)}),t.isArray(this.options.columns[0])||(this.options.columns=[this.options.columns]),this.options.columns=t.extend(!0,[],i,this.options.columns),this.columns=[],r(this.options.columns),t.each(this.options.columns,function(i,n){t.each(n,function(n,o){o=t.extend({},f.COLUMN_DEFAULTS,o),"undefined"!=typeof o.fieldIndex&&(e.columns[o.fieldIndex]=o),e.options.columns[i][n]=o})}),this.options.data.length||(this.$el.find(">tbody>tr").each(function(){var i={};i._id=t(this).attr("id"),i._class=t(this).attr("class"),i._data=u(t(this).data()),t(this).find("td").each(function(n){var o=e.columns[n].field;i[o]=t(this).html(),i["_"+o+"_id"]=t(this).attr("id"),i["_"+o+"_class"]=t(this).attr("class"),i["_"+o+"_rowspan"]=t(this).attr("rowspan"),i["_"+o+"_title"]=t(this).attr("title"),i["_"+o+"_data"]=u(t(this).data())}),n.push(i)}),this.options.data=n)},f.prototype.initHeader=function(){var e=this,n={},o=[];this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],sortNames:[],cellStyles:[],searchables:[]},t.each(this.options.columns,function(r,a){o.push("<tr>"),0==r&&!e.options.cardView&&e.options.detailView&&o.push(i('<th class="detail" rowspan="%s"><div class="fht-cell"></div></th>',e.options.columns.length)),t.each(a,function(t,r){var a="",s="",l="",c="",h=i(' class="%s"',r["class"]),u=(e.options.sortOrder||r.order,"px"),d=r.width;if(void 0===r.width||e.options.cardView||"string"==typeof r.width&&-1!==r.width.indexOf("%")&&(u="%"),r.width&&"string"==typeof r.width&&(d=r.width.replace("%","").replace("px","")),s=i("text-align: %s; ",r.halign?r.halign:r.align),l=i("text-align: %s; ",r.align),c=i("vertical-align: %s; ",r.valign),c+=i("width: %s; ",!r.checkbox&&!r.radio||d?d?d+u:void 0:"36px"),"undefined"!=typeof r.fieldIndex){if(e.header.fields[r.fieldIndex]=r.field,e.header.styles[r.fieldIndex]=l+c,e.header.classes[r.fieldIndex]=h,e.header.formatters[r.fieldIndex]=r.formatter,e.header.events[r.fieldIndex]=r.events,e.header.sorters[r.fieldIndex]=r.sorter,e.header.sortNames[r.fieldIndex]=r.sortName,e.header.cellStyles[r.fieldIndex]=r.cellStyle,e.header.searchables[r.fieldIndex]=r.searchable,!r.visible)return;if(e.options.cardView&&!r.cardVisible)return;n[r.field]=r}o.push("<th"+i(' title="%s"',r.titleTooltip),r.checkbox||r.radio?i(' class="bs-checkbox %s"',r["class"]||""):h,i(' style="%s"',s+c),i(' rowspan="%s"',r.rowspan),i(' colspan="%s"',r.colspan),i(' data-field="%s"',r.field),"tabindex='0'",">"),o.push(i('<div class="th-inner %s">',e.options.sortable&&r.sortable?"sortable both":"")),a=r.title,r.checkbox&&(!e.options.singleSelect&&e.options.checkboxHeader&&(a='<input name="btSelectAll" type="checkbox" />'),e.header.stateField=r.field),r.radio&&(a="",e.header.stateField=r.field,e.options.singleSelect=!0),o.push(a),o.push("</div>"),o.push('<div class="fht-cell"></div>'),o.push("</div>"),o.push("</th>")}),o.push("</tr>")}),this.$header.html(o.join("")),this.$header.find("th[data-field]").each(function(e){t(this).data(n[t(this).data("field")])}),this.$container.off("click",".th-inner").on("click",".th-inner",function(i){e.options.sortable&&t(this).parent().data().sortable&&e.onSort(i)}),this.$header.children().children().off("keypress").on("keypress",function(i){if(e.options.sortable&&t(this).data().sortable){var n=i.keyCode||i.which;13==n&&e.onSort(i)}}),!this.options.showHeader||this.options.cardView?(this.$header.hide(),this.$tableHeader.hide(),this.$tableLoading.css("top",0)):(this.$header.show(),this.$tableHeader.show(),this.$tableLoading.css("top",this.$header.outerHeight()+1),this.getCaret()),this.$selectAll=this.$header.find('[name="btSelectAll"]'),this.$container.off("click",'[name="btSelectAll"]').on("click",'[name="btSelectAll"]',function(){var i=t(this).prop("checked");e[i?"checkAll":"uncheckAll"](),e.updateSelected()})},f.prototype.initFooter=function(){!this.options.showFooter||this.options.cardView?this.$tableFooter.hide():this.$tableFooter.show()},f.prototype.initData=function(t,e){"append"===e?this.data=this.data.concat(t):"prepend"===e?this.data=[].concat(t).concat(this.data):this.data=t||this.options.data,"append"===e?this.options.data=this.options.data.concat(t):"prepend"===e?this.options.data=[].concat(t).concat(this.options.data):this.options.data=this.data,"server"!==this.options.sidePagination&&this.initSort()},f.prototype.initSort=function(){var e=this,i=this.options.sortName,n="desc"===this.options.sortOrder?-1:1,o=t.inArray(this.options.sortName,this.header.fields);-1!==o&&this.data.sort(function(r,a){e.header.sortNames[o]&&(i=e.header.sortNames[o]);var l=d(r,i),c=d(a,i),h=s(e.header,e.header.sorters[o],[l,c]);return void 0!==h?n*h:(void 0!==l&&null!==l||(l=""),void 0!==c&&null!==c||(c=""),t.isNumeric(l)&&t.isNumeric(c)?(l=parseFloat(l),c=parseFloat(c),c>l?-1*n:n):l===c?0:("string"!=typeof l&&(l=l.toString()),-1===l.localeCompare(c)?-1*n:n))})},f.prototype.onSort=function(e){var i="keypress"===e.type?t(e.currentTarget):t(e.currentTarget).parent(),n=this.$header.find("th").eq(i.index());return this.$header.add(this.$header_).find("span.order").remove(),this.options.sortName===i.data("field")?this.options.sortOrder="asc"===this.options.sortOrder?"desc":"asc":(this.options.sortName=i.data("field"),this.options.sortOrder="asc"===i.data("order")?"desc":"asc"),this.trigger("sort",this.options.sortName,this.options.sortOrder),i.add(n).data("order",this.options.sortOrder),this.getCaret(),"server"===this.options.sidePagination?void this.initServer(this.options.silentSort):(this.initSort(),void this.initBody())},f.prototype.initToolbar=function(){var e,n,r=this,a=[],l=0,c=0;this.$toolbar.html(""),"string"!=typeof this.options.toolbar&&"object"!=typeof this.options.toolbar||t(i('<div class="bars pull-%s"></div>',this.options.toolbarAlign)).appendTo(this.$toolbar).append(t(this.options.toolbar)),a=[i('<div class="columns columns-%s btn-group pull-%s">',this.options.buttonsAlign,this.options.buttonsAlign)],"string"==typeof this.options.icons&&(this.options.icons=s(null,this.options.icons)),this.options.showPaginationSwitch&&a.push(i('<button class="btn btn-default" type="button" name="paginationSwitch" title="%s">',this.options.formatPaginationSwitch()),i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.paginationSwitchDown),"</button>"),this.options.showRefresh&&a.push(i('<button class="btn btn-default'+i(" btn-%s",this.options.iconSize)+'" type="button" name="refresh" title="%s">',this.options.formatRefresh()),i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.refresh),"</button>"),this.options.showToggle&&a.push(i('<button class="btn btn-default'+i(" btn-%s",this.options.iconSize)+'" type="button" name="toggle" title="%s">',this.options.formatToggle()),i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.toggle),"</button>"),this.options.showColumns&&(a.push(i('<div class="keep-open btn-group" title="%s">',this.options.formatColumns()),'<button type="button" class="btn btn-default'+i(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">',i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.columns),' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'),t.each(this.columns,function(t,e){if(!e.radio&&!e.checkbox&&(!r.options.cardView||e.cardVisible)){var n=e.visible?' checked="checked"':"";e.switchable&&(a.push(i('<li><label><input type="checkbox" data-field="%s" value="%s"%s> %s</label></li>',e.field,t,n,e.title)),c++)}}),a.push("</ul>","</div>")),a.push("</div>"),(this.showToolbar||a.length>2)&&this.$toolbar.append(a.join("")),this.options.showPaginationSwitch&&this.$toolbar.find('button[name="paginationSwitch"]').off("click").on("click",t.proxy(this.togglePagination,this)),this.options.showRefresh&&this.$toolbar.find('button[name="refresh"]').off("click").on("click",t.proxy(this.refresh,this)),this.options.showToggle&&this.$toolbar.find('button[name="toggle"]').off("click").on("click",function(){r.toggleView()}),this.options.showColumns&&(e=this.$toolbar.find(".keep-open"),c<=this.options.minimumCountColumns&&e.find("input").prop("disabled",!0),e.find("li").off("click").on("click",function(t){t.stopImmediatePropagation()}),e.find("input").off("click").on("click",function(){var e=t(this);r.toggleColumn(o(r.columns,t(this).data("field")),e.prop("checked"),!1),r.trigger("column-switch",t(this).data("field"),e.prop("checked"))})),this.options.search&&(a=[],a.push('<div class="pull-'+this.options.searchAlign+' search">',i('<input class="form-control'+i(" input-%s",this.options.iconSize)+'" type="text" placeholder="%s">',this.options.formatSearch()),"</div>"),this.$toolbar.append(a.join("")),n=this.$toolbar.find(".search input"),n.off("keyup drop").on("keyup drop",function(t){clearTimeout(l),l=setTimeout(function(){r.onSearch(t)},r.options.searchTimeOut)}))},f.prototype.onSearch=function(e){var i=t.trim(t(e.currentTarget).val());this.options.trimOnSearch&&t(e.currentTarget).val()!==i&&t(e.currentTarget).val(i),i!==this.searchText&&(this.searchText=i,this.options.pageNumber=1,this.initSearch(),this.updatePagination(),this.trigger("search",i))},f.prototype.initSearch=function(){var e=this;if("server"!==this.options.sidePagination){var i=this.searchText&&this.searchText.toLowerCase(),n=t.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.data=n?t.grep(this.options.data,function(e,i){for(var o in n)if(t.isArray(n[o])){if(-1===t.inArray(e[o],n[o]))return!1}else if(e[o]!==n[o])return!1;return!0}):this.options.data,this.data=i?t.grep(this.data,function(n,r){for(var a in n){a=t.isNumeric(a)?parseInt(a,10):a;var l=n[a],c=e.columns[o(e.columns,a)],h=t.inArray(a,e.header.fields);c&&c.searchFormatter&&(l=s(c,e.header.formatters[h],[l,n,r],l));var u=t.inArray(a,e.header.fields);if(-1!==u&&e.header.searchables[u]&&("string"==typeof l||"number"==typeof l))if(e.options.strictSearch){if((l+"").toLowerCase()===i)return!0}else if(-1!==(l+"").toLowerCase().indexOf(i))return!0}return!1}):this.data}},f.prototype.initPagination=function(){if(!this.options.pagination)return void this.$pagination.hide();this.$pagination.show();var e,n,o,r,a,s,l,c,h,u=this,d=[],f=!1,p=this.getData();if("server"!==this.options.sidePagination&&(this.options.totalRows=p.length),this.totalPages=0,this.options.totalRows){if(this.options.pageSize===this.options.formatAllRows())this.options.pageSize=this.options.totalRows,f=!0;else if(this.options.pageSize===this.options.totalRows){var g="string"==typeof this.options.pageList?this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.pageList;t.inArray(this.options.formatAllRows().toLowerCase(),g)>-1&&(f=!0)}this.totalPages=~~((this.options.totalRows-1)/this.options.pageSize)+1,this.options.totalPages=this.totalPages}if(this.totalPages>0&&this.options.pageNumber>this.totalPages&&(this.options.pageNumber=this.totalPages),this.pageFrom=(this.options.pageNumber-1)*this.options.pageSize+1,this.pageTo=this.options.pageNumber*this.options.pageSize,this.pageTo>this.options.totalRows&&(this.pageTo=this.options.totalRows),d.push('<div class="pull-'+this.options.paginationDetailHAlign+' pagination-detail">','<span class="pagination-info">',this.options.onlyInfoPagination?this.options.formatDetailPagination(this.options.totalRows):this.options.formatShowingRows(this.pageFrom,this.pageTo,this.options.totalRows),"</span>"),!this.options.onlyInfoPagination){d.push('<span class="page-list">');var m=[i('<span class="btn-group %s">',"top"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?"dropdown":"dropup"),'<button type="button" class="btn btn-default '+i(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">','<span class="page-size">',f?this.options.formatAllRows():this.options.pageSize,"</span>",' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'],v=this.options.pageList;if("string"==typeof this.options.pageList){var y=this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").split(",");v=[],t.each(y,function(t,e){v.push(e.toUpperCase()===u.options.formatAllRows().toUpperCase()?u.options.formatAllRows():+e)})}for(t.each(v,function(t,e){if(!u.options.smartDisplay||0===t||v[t-1]<=u.options.totalRows){var n;n=f?e===u.options.formatAllRows()?' class="active"':"":e===u.options.pageSize?' class="active"':"",m.push(i('<li%s><a href="javascript:void(0)">%s</a></li>',n,e))}}),m.push("</ul></span>"),d.push(this.options.formatRecordsPerPage(m.join(""))),d.push("</span>"),d.push("</div>",'<div class="pull-'+this.options.paginationHAlign+' pagination">','<ul class="pagination'+i(" pagination-%s",this.options.iconSize)+'">','<li class="page-first"><a href="javascript:void(0)">'+this.options.paginationFirstText+"</a></li>",'<li class="page-pre"><a href="javascript:void(0)">'+this.options.paginationPreText+"</a></li>"),this.totalPages<5?(n=1,o=this.totalPages):(n=this.options.pageNumber-2,o=n+4,1>n&&(n=1,o=5),o>this.totalPages&&(o=this.totalPages,n=o-4)),e=n;o>=e;e++)d.push('<li class="page-number'+(e===this.options.pageNumber?" active":"")+'">','<a href="javascript:void(0)">',e,"</a>","</li>");d.push('<li class="page-next"><a href="javascript:void(0)">'+this.options.paginationNextText+"</a></li>",'<li class="page-last"><a href="javascript:void(0)">'+this.options.paginationLastText+"</a></li>","</ul>","</div>")}this.$pagination.html(d.join("")),this.options.onlyInfoPagination||(r=this.$pagination.find(".page-list a"),a=this.$pagination.find(".page-first"),s=this.$pagination.find(".page-pre"),l=this.$pagination.find(".page-next"),c=this.$pagination.find(".page-last"),h=this.$pagination.find(".page-number"),this.options.pageNumber<=1&&(a.addClass("disabled"),s.addClass("disabled")),this.options.pageNumber>=this.totalPages&&(l.addClass("disabled"),c.addClass("disabled")),this.options.smartDisplay&&(this.totalPages<=1&&this.$pagination.find("div.pagination").hide(),(v.length<2||this.options.totalRows<=v[0])&&this.$pagination.find("span.page-list").hide(),this.$pagination[this.getData().length?"show":"hide"]()),f&&(this.options.pageSize=this.options.formatAllRows()),r.off("click").on("click",t.proxy(this.onPageListChange,this)),a.off("click").on("click",t.proxy(this.onPageFirst,this)),s.off("click").on("click",t.proxy(this.onPagePre,this)),l.off("click").on("click",t.proxy(this.onPageNext,this)),c.off("click").on("click",t.proxy(this.onPageLast,this)),h.off("click").on("click",t.proxy(this.onPageNumber,this)))},f.prototype.updatePagination=function(e){e&&t(e.currentTarget).hasClass("disabled")||(this.options.maintainSelected||this.resetRows(),this.initPagination(),"server"===this.options.sidePagination?this.initServer():this.initBody(),this.trigger("page-change",this.options.pageNumber,this.options.pageSize))},f.prototype.onPageListChange=function(e){var i=t(e.currentTarget);i.parent().addClass("active").siblings().removeClass("active"),this.options.pageSize=i.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+i.text(),this.$toolbar.find(".page-size").text(this.options.pageSize),this.updatePagination(e)},f.prototype.onPageFirst=function(t){this.options.pageNumber=1,this.updatePagination(t)},f.prototype.onPagePre=function(t){this.options.pageNumber--,this.updatePagination(t)},f.prototype.onPageNext=function(t){this.options.pageNumber++,this.updatePagination(t)},f.prototype.onPageLast=function(t){this.options.pageNumber=this.totalPages,this.updatePagination(t)},f.prototype.onPageNumber=function(e){this.options.pageNumber!==+t(e.currentTarget).text()&&(this.options.pageNumber=+t(e.currentTarget).text(),this.updatePagination(e))},f.prototype.initBody=function(e){var r=this,a=[],l=this.getData();this.trigger("pre-body",l),this.$body=this.$el.find(">tbody"),this.$body.length||(this.$body=t("<tbody></tbody>").appendTo(this.$el)),this.options.pagination&&"server"!==this.options.sidePagination||(this.pageFrom=1,this.pageTo=l.length);for(var h=this.pageFrom-1;h<this.pageTo;h++){var u,f=l[h],p={},g=[],m="",v={},y=[];if(p=s(this.options,this.options.rowStyle,[f,h],p),p&&p.css)for(u in p.css)g.push(u+": "+p.css[u]);if(v=s(this.options,this.options.rowAttributes,[f,h],v))for(u in v)y.push(i('%s="%s"',u,c(v[u])));f._data&&!t.isEmptyObject(f._data)&&t.each(f._data,function(t,e){"index"!==t&&(m+=i(' data-%s="%s"',t,e))}),a.push("<tr",i(" %s",y.join(" ")),i(' id="%s"',t.isArray(f)?void 0:f._id),i(' class="%s"',p.classes||(t.isArray(f)?void 0:f._class)),i(' data-index="%s"',h),i(' data-uniqueid="%s"',f[this.options.uniqueId]),i("%s",m),">"),this.options.cardView&&a.push(i('<td colspan="%s">',this.header.fields.length)),!this.options.cardView&&this.options.detailView&&a.push("<td>",'<a class="detail-icon bootstarp-table-detail" href="javascript:">',i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.detailOpen),"</a>","</td>"),t.each(this.header.fields,function(e,l){var c="",u=d(f,l),m="",v={},y="",x=r.header.classes[e],b="",w="",_="",T=r.columns[o(r.columns,l)];if(T.visible){if(p=i('style="%s"',g.concat(r.header.styles[e]).join("; ")),u=s(T,r.header.formatters[e],[u,f,h],u),f["_"+l+"_id"]&&(y=i(' id="%s"',f["_"+l+"_id"])),f["_"+l+"_class"]&&(x=i(' class="%s"',f["_"+l+"_class"])),f["_"+l+"_rowspan"]&&(w=i(' rowspan="%s"',f["_"+l+"_rowspan"])),f["_"+l+"_title"]&&(_=i(' title="%s"',f["_"+l+"_title"])),v=s(r.header,r.header.cellStyles[e],[u,f,h],v),v.classes&&(x=i(' class="%s"',v.classes)),v.css){var S=[];for(var C in v.css)S.push(C+": "+v.css[C]);p=i('style="%s"',S.concat(r.header.styles[e]).join("; "))}f["_"+l+"_data"]&&!t.isEmptyObject(f["_"+l+"_data"])&&t.each(f["_"+l+"_data"],function(t,e){"index"!==t&&(b+=i(' data-%s="%s"',t,e))}),T.checkbox||T.radio?(m=T.checkbox?"checkbox":m,m=T.radio?"radio":m,c=[r.options.cardView?'<div class="card-view">':'<td class="bs-checkbox">',"<input"+i(' data-index="%s"',h)+i(' name="%s"',r.options.selectItemName)+i(' type="%s"',m)+i(' value="%s"',f[r.options.idField])+i(' checked="%s"',u===!0||u&&u.checked?"checked":void 0)+i(' disabled="%s"',!T.checkboxEnabled||u&&u.disabled?"disabled":void 0)+" />",r.header.formatters[e]&&"string"==typeof u?u:"",r.options.cardView?"</div>":"</td>"].join(""),f[r.header.stateField]=u===!0||u&&u.checked):(u="undefined"==typeof u||null===u?r.options.undefinedText:u,c=r.options.cardView?['<div class="card-view">',r.options.showHeader?i('<span class="title" %s>%s</span>',p,n(r.columns,"field","title",l)):"",i('<span class="value">%s</span>',u),"</div>"].join(""):[i("<td%s %s %s %s %s %s>",y,x,p,b,w,_),u,"</td>"].join(""),r.options.cardView&&r.options.smartDisplay&&""===u&&(c='<div class="card-view"></div>')),a.push(c)}}),this.options.cardView&&a.push("</td>"),a.push("</tr>")}a.length||a.push('<tr class="no-records-found">',i('<td colspan="%s">%s</td>',this.$header.find("th").length,this.options.formatNoMatches()),"</tr>"),this.$body.html(a.join("")),e||this.scrollTo(0),this.$body.find("> tr[data-index] > td").off("click dblclick").on("click dblclick",function(e){var n=t(this),a=n.parent(),s=r.data[a.data("index")],l=n[0].cellIndex,c=r.header.fields[r.options.detailView&&!r.options.cardView?l-1:l],h=r.columns[o(r.columns,c)],u=d(s,c);if(!n.find(".detail-icon").length&&(r.trigger("click"===e.type?"click-cell":"dbl-click-cell",c,u,s,n),r.trigger("click"===e.type?"click-row":"dbl-click-row",s,a),"click"===e.type&&r.options.clickToSelect&&h.clickToSelect)){var f=a.find(i('[name="%s"]',r.options.selectItemName));f.length&&f[0].click()}}),this.$body.find("> tr[data-index] > td > .detail-icon").off("click").on("click",function(){var e=t(this),n=e.parent().parent(),o=n.data("index"),a=l[o];n.next().is("tr.detail-view")?(e.find("i").attr("class",i("%s %s",r.options.iconsPrefix,r.options.icons.detailOpen)),n.next().remove(),r.trigger("collapse-row",o,a)):(e.find("i").attr("class",i("%s %s",r.options.iconsPrefix,r.options.icons.detailClose)),n.after(i('<tr class="detail-view"><td colspan="%s">%s</td></tr>',n.find("td").length,s(r.options,r.options.detailFormatter,[o,a],""))),r.trigger("expand-row",o,a,n.next().find("td"))),r.resetView()}),this.$selectItem=this.$body.find(i('[name="%s"]',this.options.selectItemName)),this.$selectItem.off("click").on("click",function(e){e.stopImmediatePropagation();var i=t(this),n=i.prop("checked"),o=r.data[i.data("index")];r.options.maintainSelected&&t(this).is(":radio")&&t.each(r.options.data,function(t,e){e[r.header.stateField]=!1}),o[r.header.stateField]=n,r.options.singleSelect&&(r.$selectItem.not(this).each(function(){r.data[t(this).data("index")][r.header.stateField]=!1}),r.$selectItem.filter(":checked").not(this).prop("checked",!1)),r.updateSelected(),r.trigger(n?"check":"uncheck",o,i)}),t.each(this.header.events,function(e,i){if(i){"string"==typeof i&&(i=s(null,i));var n=r.header.fields[e],o=t.inArray(n,r.getVisibleFields());r.options.detailView&&!r.options.cardView&&(o+=1);for(var a in i)r.$body.find(">tr:not(.no-records-found)").each(function(){var e=t(this),s=e.find(r.options.cardView?".card-view":"td").eq(o),l=a.indexOf(" "),c=a.substring(0,l),h=a.substring(l+1),u=i[a];s.find(h).off(c).on(c,function(t){var i=e.data("index"),o=r.data[i],a=o[n];u.apply(this,[t,a,o,i])})})}}),this.updateSelected(),this.resetView(),this.trigger("post-body")},f.prototype.initServer=function(e,i){var n,o=this,r={},a={pageSize:this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,pageNumber:this.options.pageNumber,searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder};(this.options.url||this.options.ajax)&&("limit"===this.options.queryParamsType&&(a={search:a.searchText,sort:a.sortName,order:a.sortOrder},this.options.pagination&&(a.limit=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,a.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1))),t.isEmptyObject(this.filterColumnsPartial)||(a.filter=JSON.stringify(this.filterColumnsPartial,null)),r=s(this.options,this.options.queryParams,[a],r),t.extend(r,i||{}),r!==!1&&(e||this.$tableLoading.show(),n=t.extend({},s(null,this.options.ajaxOptions),{type:this.options.method,url:this.options.url,data:"application/json"===this.options.contentType&&"post"===this.options.method?JSON.stringify(r):r,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(t){t=s(o.options,o.options.responseHandler,[t],t),o.load(t),o.trigger("load-success",t)},error:function(t){o.trigger("load-error",t.status,t)},complete:function(){e||o.$tableLoading.hide()}}),this.options.ajax?s(this,this.options.ajax,[n],null):t.ajax(n)))},f.prototype.initSearchText=function(){if(this.options.search&&""!==this.options.searchText){var t=this.$toolbar.find(".search input");t.val(this.options.searchText),this.onSearch({currentTarget:t})}},f.prototype.getCaret=function(){var e=this;t.each(this.$header.find("th"),function(i,n){t(n).find(".sortable").removeClass("desc asc").addClass(t(n).data("field")===e.options.sortName?e.options.sortOrder:"both")})},f.prototype.updateSelected=function(){var e=this.$selectItem.filter(":enabled").length&&this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",e),this.$selectItem.each(function(){t(this).closest("tr")[t(this).prop("checked")?"addClass":"removeClass"]("selected")})},f.prototype.updateRows=function(){var e=this;this.$selectItem.each(function(){e.data[t(this).data("index")][e.header.stateField]=t(this).prop("checked")})},f.prototype.resetRows=function(){var e=this;t.each(this.data,function(t,i){e.$selectAll.prop("checked",!1),e.$selectItem.prop("checked",!1),e.header.stateField&&(i[e.header.stateField]=!1)})},f.prototype.trigger=function(e){var i=Array.prototype.slice.call(arguments,1);e+=".bs.table",this.options[f.EVENTS[e]].apply(this.options,i),this.$el.trigger(t.Event(e),i),this.options.onAll(e,i),this.$el.trigger(t.Event("all.bs.table"),[e,i])},f.prototype.resetHeader=function(){clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(t.proxy(this.fitHeader,this),this.$el.is(":hidden")?100:0)},f.prototype.fitHeader=function(){var e,n,o,r,s=this;if(s.$el.is(":hidden"))return void(s.timeoutId_=setTimeout(t.proxy(s.fitHeader,s),100));if(e=this.$tableBody.get(0),n=e.scrollWidth>e.clientWidth&&e.scrollHeight>e.clientHeight+this.$header.outerHeight()?a():0,this.$el.css("margin-top",-this.$header.outerHeight()),o=t(":focus"),o.length>0){var l=o.parents("th");if(l.length>0){var c=l.attr("data-field");if(void 0!==c){var h=this.$header.find("[data-field='"+c+"']");h.length>0&&h.find(":input").addClass("focus-temp")}}}this.$header_=this.$header.clone(!0,!0),this.$selectAll_=this.$header_.find('[name="btSelectAll"]'),this.$tableHeader.css({"margin-right":n}).find("table").css("width",this.$el.outerWidth()).html("").attr("class",this.$el.attr("class")).append(this.$header_),r=t(".focus-temp:visible:eq(0)"),r.length>0&&(r.focus(),this.$header.find(".focus-temp").removeClass("focus-temp")),this.$header.find("th[data-field]").each(function(e){s.$header_.find(i('th[data-field="%s"]',t(this).data("field"))).data(t(this).data())});var u=this.getVisibleFields();this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(e){var n=t(this),o=e;s.options.detailView&&!s.options.cardView&&(0===e&&s.$header_.find("th.detail").find(".fht-cell").width(n.innerWidth()),o=e-1),s.$header_.find(i('th[data-field="%s"]',u[o])).find(".fht-cell").width(n.innerWidth())}),this.$tableBody.off("scroll").on("scroll",function(){s.$tableHeader.scrollLeft(t(this).scrollLeft()),s.options.showFooter&&!s.options.cardView&&s.$tableFooter.scrollLeft(t(this).scrollLeft())}),s.trigger("post-header")},f.prototype.resetFooter=function(){var e=this,n=e.getData(),o=[];this.options.showFooter&&!this.options.cardView&&(!this.options.cardView&&this.options.detailView&&o.push('<td><div class="th-inner">&nbsp;</div><div class="fht-cell"></div></td>'),t.each(this.columns,function(t,r){var a="",l="",c=i(' class="%s"',r["class"]);r.visible&&(e.options.cardView&&!r.cardVisible||(a=i("text-align: %s; ",r.falign?r.falign:r.align),l=i("vertical-align: %s; ",r.valign),o.push("<td",c,i(' style="%s"',a+l),">"),o.push('<div class="th-inner">'),o.push(s(r,r.footerFormatter,[n],"&nbsp;")||"&nbsp;"),o.push("</div>"),o.push('<div class="fht-cell"></div>'),o.push("</div>"),o.push("</td>")))}),this.$tableFooter.find("tr").html(o.join("")),clearTimeout(this.timeoutFooter_),this.timeoutFooter_=setTimeout(t.proxy(this.fitFooter,this),this.$el.is(":hidden")?100:0))},f.prototype.fitFooter=function(){var e,i,n;return clearTimeout(this.timeoutFooter_),this.$el.is(":hidden")?void(this.timeoutFooter_=setTimeout(t.proxy(this.fitFooter,this),100)):(i=this.$el.css("width"),n=i>this.$tableBody.width()?a():0,this.$tableFooter.css({"margin-right":n}).find("table").css("width",i).attr("class",this.$el.attr("class")),e=this.$tableFooter.find("td"),void this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(i){var n=t(this);e.eq(i).find(".fht-cell").width(n.innerWidth())}))},f.prototype.toggleColumn=function(t,e,n){if(-1!==t&&(this.columns[t].visible=e,this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns)){var o=this.$toolbar.find(".keep-open input").prop("disabled",!1);n&&o.filter(i('[value="%s"]',t)).prop("checked",e),o.filter(":checked").length<=this.options.minimumCountColumns&&o.filter(":checked").prop("disabled",!0)}},f.prototype.toggleRow=function(t,e,n){-1!==t&&this.$body.find("undefined"!=typeof t?i('tr[data-index="%s"]',t):i('tr[data-uniqueid="%s"]',e))[n?"show":"hide"]()},f.prototype.getVisibleFields=function(){var e=this,i=[];return t.each(this.header.fields,function(t,n){var r=e.columns[o(e.columns,n)];r.visible&&i.push(n)}),i},f.prototype.resetView=function(t){var e=0;if(t&&t.height&&(this.options.height=t.height),this.$selectAll.prop("checked",this.$selectItem.length>0&&this.$selectItem.length===this.$selectItem.filter(":checked").length),
this.options.height){var i=h(this.$toolbar),n=h(this.$pagination),o=this.options.height-i-n;this.$tableContainer.css("height",o+"px")}return this.options.cardView?(this.$el.css("margin-top","0"),void this.$tableContainer.css("padding-bottom","0")):(this.options.showHeader&&this.options.height?(this.$tableHeader.show(),this.resetHeader(),e+=this.$header.outerHeight()):(this.$tableHeader.hide(),this.trigger("post-header")),this.options.showFooter&&(this.resetFooter(),this.options.height&&(e+=this.$tableFooter.outerHeight()+1)),this.getCaret(),this.$tableContainer.css("padding-bottom",e+"px"),void this.trigger("reset-view"))},f.prototype.getData=function(e){return!this.searchText&&t.isEmptyObject(this.filterColumns)&&t.isEmptyObject(this.filterColumnsPartial)?e?this.options.data.slice(this.pageFrom-1,this.pageTo):this.options.data:e?this.data.slice(this.pageFrom-1,this.pageTo):this.data},f.prototype.load=function(e){var i=!1;"server"===this.options.sidePagination?(this.options.totalRows=e.total,i=e.fixedScroll,e=e[this.options.dataField]):t.isArray(e)||(i=e.fixedScroll,e=e.data),this.initData(e),this.initSearch(),this.initPagination(),this.initBody(i)},f.prototype.append=function(t){this.initData(t,"append"),this.initSearch(),this.initPagination(),this.initBody(!0)},f.prototype.prepend=function(t){this.initData(t,"prepend"),this.initSearch(),this.initPagination(),this.initBody(!0)},f.prototype.remove=function(e){var i,n,o=this.options.data.length;if(e.hasOwnProperty("field")&&e.hasOwnProperty("values")){for(i=o-1;i>=0;i--)n=this.options.data[i],n.hasOwnProperty(e.field)&&-1!==t.inArray(n[e.field],e.values)&&this.options.data.splice(i,1);o!==this.options.data.length&&(this.initSearch(),this.initPagination(),this.initBody(!0))}},f.prototype.removeAll=function(){this.options.data.length>0&&(this.options.data.splice(0,this.options.data.length),this.initSearch(),this.initPagination(),this.initBody(!0))},f.prototype.getRowByUniqueId=function(t){var e,i,n,o=this.options.uniqueId,r=this.options.data.length,a=null;for(e=r-1;e>=0;e--){if(i=this.options.data[e],i.hasOwnProperty(o))n=i[o];else{if(!i._data.hasOwnProperty(o))continue;n=i._data[o]}if("string"==typeof n?t=t.toString():"number"==typeof n&&(Number(n)===n&&n%1===0?t=parseInt(t):n===Number(n)&&0!==n&&(t=parseFloat(t))),n===t){a=i;break}}return a},f.prototype.removeByUniqueId=function(t){var e=this.options.data.length,i=this.getRowByUniqueId(t);i&&this.options.data.splice(this.options.data.indexOf(i),1),e!==this.options.data.length&&(this.initSearch(),this.initPagination(),this.initBody(!0))},f.prototype.updateByUniqueId=function(e){var i;e.hasOwnProperty("id")&&e.hasOwnProperty("row")&&(i=t.inArray(this.getRowByUniqueId(e.id),this.options.data),-1!==i&&(t.extend(this.data[i],e.row),this.initSort(),this.initBody(!0)))},f.prototype.insertRow=function(t){t.hasOwnProperty("index")&&t.hasOwnProperty("row")&&(this.data.splice(t.index,0,t.row),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))},f.prototype.updateRow=function(e){e.hasOwnProperty("index")&&e.hasOwnProperty("row")&&(t.extend(this.data[e.index],e.row),this.initSort(),this.initBody(!0))},f.prototype.showRow=function(t){t.hasOwnProperty("index")&&t.hasOwnProperty("uniqueId")&&this.toggleRow(t.index,t.uniqueId,!0)},f.prototype.hideRow=function(t){t.hasOwnProperty("index")&&t.hasOwnProperty("uniqueId")&&this.toggleRow(t.index,t.uniqueId,!1)},f.prototype.getRowsHidden=function(e){var i=t(this.$body[0]).children().filter(":hidden"),n=0;if(e)for(;n<i.length;n++)t(i[n]).show();return i},f.prototype.mergeCells=function(e){var i,n,o,r=e.index,a=t.inArray(e.field,this.getVisibleFields()),s=e.rowspan||1,l=e.colspan||1,c=this.$body.find(">tr");if(this.options.detailView&&!this.options.cardView&&(a+=1),o=c.eq(r).find(">td").eq(a),!(0>r||0>a||r>=this.data.length)){for(i=r;r+s>i;i++)for(n=a;a+l>n;n++)c.eq(i).find(">td").eq(n).hide();o.attr("rowspan",s).attr("colspan",l).show()}},f.prototype.updateCell=function(t){t.hasOwnProperty("index")&&t.hasOwnProperty("field")&&t.hasOwnProperty("value")&&(this.data[t.index][t.field]=t.value,this.initSort(),this.initBody(!0))},f.prototype.getOptions=function(){return this.options},f.prototype.getSelections=function(){var e=this;return t.grep(this.data,function(t){return t[e.header.stateField]})},f.prototype.getAllSelections=function(){var e=this;return t.grep(this.options.data,function(t){return t[e.header.stateField]})},f.prototype.checkAll=function(){this.checkAll_(!0)},f.prototype.uncheckAll=function(){this.checkAll_(!1)},f.prototype.checkAll_=function(t){var e;t||(e=this.getSelections()),this.$selectAll.add(this.$selectAll_).prop("checked",t),this.$selectItem.filter(":enabled").prop("checked",t),this.updateRows(),t&&(e=this.getSelections()),this.trigger(t?"check-all":"uncheck-all",e)},f.prototype.check=function(t){this.check_(!0,t)},f.prototype.uncheck=function(t){this.check_(!1,t)},f.prototype.check_=function(t,e){var n=this.$selectItem.filter(i('[data-index="%s"]',e)).prop("checked",t);this.data[e][this.header.stateField]=t,this.updateSelected(),this.trigger(t?"check":"uncheck",this.data[e],n)},f.prototype.checkBy=function(t){this.checkBy_(!0,t)},f.prototype.uncheckBy=function(t){this.checkBy_(!1,t)},f.prototype.checkBy_=function(e,n){if(n.hasOwnProperty("field")&&n.hasOwnProperty("values")){var o=this,r=[];t.each(this.options.data,function(a,s){if(!s.hasOwnProperty(n.field))return!1;if(-1!==t.inArray(s[n.field],n.values)){var l=o.$selectItem.filter(":enabled").filter(i('[data-index="%s"]',a)).prop("checked",e);s[o.header.stateField]=e,r.push(s),o.trigger(e?"check":"uncheck",s,l)}}),this.updateSelected(),this.trigger(e?"check-some":"uncheck-some",r)}},f.prototype.destroy=function(){this.$el.insertBefore(this.$container),t(this.options.toolbar).insertBefore(this.$el),this.$container.next().remove(),this.$container.remove(),this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"")},f.prototype.showLoading=function(){this.$tableLoading.show()},f.prototype.hideLoading=function(){this.$tableLoading.hide()},f.prototype.togglePagination=function(){this.options.pagination=!this.options.pagination;var t=this.$toolbar.find('button[name="paginationSwitch"] i');this.options.pagination?t.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchDown):t.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchUp),this.updatePagination()},f.prototype.refresh=function(t){t&&t.url&&(this.options.url=t.url,this.options.pageNumber=1),this.initServer(t&&t.silent,t&&t.query)},f.prototype.resetWidth=function(){this.options.showHeader&&this.options.height&&this.fitHeader(),this.options.showFooter&&this.fitFooter()},f.prototype.showColumn=function(t){this.toggleColumn(o(this.columns,t),!0,!0)},f.prototype.hideColumn=function(t){this.toggleColumn(o(this.columns,t),!1,!0)},f.prototype.getHiddenColumns=function(){return t.grep(this.columns,function(t){return!t.visible})},f.prototype.filterBy=function(e){this.filterColumns=t.isEmptyObject(e)?{}:e,this.options.pageNumber=1,this.initSearch(),this.updatePagination()},f.prototype.scrollTo=function(t){return"string"==typeof t&&(t="bottom"===t?this.$tableBody[0].scrollHeight:0),"number"==typeof t&&this.$tableBody.scrollTop(t),"undefined"==typeof t?this.$tableBody.scrollTop():void 0},f.prototype.getScrollPosition=function(){return this.scrollTo()},f.prototype.selectPage=function(t){t>0&&t<=this.options.totalPages&&(this.options.pageNumber=t,this.updatePagination())},f.prototype.prevPage=function(){this.options.pageNumber>1&&(this.options.pageNumber--,this.updatePagination())},f.prototype.nextPage=function(){this.options.pageNumber<this.options.totalPages&&(this.options.pageNumber++,this.updatePagination())},f.prototype.toggleView=function(){this.options.cardView=!this.options.cardView,this.initHeader(),this.initBody(),this.trigger("toggle",this.options.cardView)},f.prototype.refreshOptions=function(e){l(this.options,e,!1)||(this.options=t.extend(this.options,e),this.trigger("refresh-options",this.options),this.destroy(),this.init())},f.prototype.resetSearch=function(t){var e=this.$toolbar.find(".search input");e.val(t||""),this.onSearch({currentTarget:e})},f.prototype.expandRow_=function(t,e){var n=this.$body.find(i('> tr[data-index="%s"]',e));n.next().is("tr.detail-view")===!t&&n.find("> td > .detail-icon").click()},f.prototype.expandRow=function(t){this.expandRow_(!0,t)},f.prototype.collapseRow=function(t){this.expandRow_(!1,t)},f.prototype.expandAllRows=function(e){if(e){var n=this.$body.find(i('> tr[data-index="%s"]',0)),o=this,r=null,a=!1,s=-1;if(n.next().is("tr.detail-view")?n.next().next().is("tr.detail-view")||(n.next().find(".detail-icon").click(),a=!0):(n.find("> td > .detail-icon").click(),a=!0),a)try{s=setInterval(function(){r=o.$body.find("tr.detail-view").last().find(".detail-icon"),r.length>0?r.click():clearInterval(s)},1)}catch(l){clearInterval(s)}}else for(var c=this.$body.children(),h=0;h<c.length;h++)this.expandRow_(!0,t(c[h]).data("index"))},f.prototype.collapseAllRows=function(e){if(e)this.expandRow_(!1,0);else for(var i=this.$body.children(),n=0;n<i.length;n++)this.expandRow_(!1,t(i[n]).data("index"))};var p=["getOptions","getSelections","getAllSelections","getData","load","append","prepend","remove","removeAll","insertRow","updateRow","updateCell","updateByUniqueId","removeByUniqueId","getRowByUniqueId","showRow","hideRow","getRowsHidden","mergeCells","checkAll","uncheckAll","check","uncheck","checkBy","uncheckBy","refresh","resetView","resetWidth","destroy","showLoading","hideLoading","showColumn","hideColumn","getHiddenColumns","filterBy","scrollTo","getScrollPosition","selectPage","prevPage","nextPage","togglePagination","toggleView","refreshOptions","resetSearch","expandRow","collapseRow","expandAllRows","collapseAllRows"];t.fn.bootstrapTable=function(e){var i,n=Array.prototype.slice.call(arguments,1);return this.each(function(){var o=t(this),r=o.data("bootstrap.table"),a=t.extend({},f.DEFAULTS,o.data(),"object"==typeof e&&e);if("string"==typeof e){if(t.inArray(e,p)<0)throw new Error("Unknown method: "+e);if(!r)return;i=r[e].apply(r,n),"destroy"===e&&o.removeData("bootstrap.table")}r||o.data("bootstrap.table",r=new f(this,a))}),"undefined"==typeof i?this:i},t.fn.bootstrapTable.Constructor=f,t.fn.bootstrapTable.defaults=f.DEFAULTS,t.fn.bootstrapTable.columnDefaults=f.COLUMN_DEFAULTS,t.fn.bootstrapTable.locales=f.LOCALES,t.fn.bootstrapTable.methods=p,t.fn.bootstrapTable.utils={sprintf:i,getFieldIndex:o,compareObjects:l,calculateObjectValue:s},t(function(){t('[data-toggle="table"]').bootstrapTable()})}(jQuery),function(t){"use strict";t.fn.bootstrapTable.locales["zh-CN"]={formatLoadingMessage:function(){return"正在努力地加载数据中，请稍候……"},formatRecordsPerPage:function(t){return"每页显示 "+t+" 条记录"},formatShowingRows:function(t,e,i){return"显示第 "+t+" 到第 "+e+" 条记录，总共 "+i+" 条记录"},formatSearch:function(){return"搜索"},formatNoMatches:function(){return"没有找到匹配的记录"},formatPaginationSwitch:function(){return"隐藏/显示分页"},formatRefresh:function(){return"刷新"},formatToggle:function(){return"切换"},formatColumns:function(){return"列"}},t.extend(t.fn.bootstrapTable.defaults,t.fn.bootstrapTable.locales["zh-CN"])}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t,e){function i(){return new Date(Date.UTC.apply(Date,arguments))}"indexOf"in Array.prototype||(Array.prototype.indexOf=function(t,i){i===e&&(i=0),0>i&&(i+=this.length),0>i&&(i=0);for(var n=this.length;n>i;i++)if(i in this&&this[i]===t)return i;return-1});var n=function(i,n){var o=this;this.element=t(i),this.container=n.container||"body",this.language=n.language||this.element.data("date-language")||"en",this.language=this.language in r?this.language:this.language.split("-")[0],this.language=this.language in r?this.language:"en",this.isRTL=r[this.language].rtl||!1,this.formatType=n.formatType||this.element.data("format-type")||"standard",this.format=a.parseFormat(n.format||this.element.data("date-format")||r[this.language].format||a.getDefaultFormat(this.formatType,"input"),this.formatType),this.isInline=!1,this.isVisible=!1,this.isInput=this.element.is("input"),this.fontAwesome=n.fontAwesome||this.element.data("font-awesome")||!1,this.bootcssVer=n.bootcssVer||(this.isInput?this.element.is(".form-control")?3:2:this.bootcssVer=this.element.is(".input-group")?3:2),this.component=this.element.is(".date")?3==this.bootcssVer?this.element.find(".input-group-addon .glyphicon-th, .input-group-addon .glyphicon-time, .input-group-addon .glyphicon-remove, .input-group-addon .glyphicon-calendar, .input-group-addon .fa-calendar, .input-group-addon .fa-clock-o").parent():this.element.find(".add-on .icon-th, .add-on .icon-time, .add-on .icon-calendar, .add-on .fa-calendar, .add-on .fa-clock-o").parent():!1,this.componentReset=this.element.is(".date")?3==this.bootcssVer?this.element.find(".input-group-addon .glyphicon-remove, .input-group-addon .fa-times").parent():this.element.find(".add-on .icon-remove, .add-on .fa-times").parent():!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.linkField=n.linkField||this.element.data("link-field")||!1,this.linkFormat=a.parseFormat(n.linkFormat||this.element.data("link-format")||a.getDefaultFormat(this.formatType,"link"),this.formatType),this.minuteStep=n.minuteStep||this.element.data("minute-step")||5,this.pickerPosition=n.pickerPosition||this.element.data("picker-position")||"bottom-right",this.showMeridian=n.showMeridian||this.element.data("show-meridian")||!1,this.initialDate=n.initialDate||new Date,this.zIndex=n.zIndex||this.element.data("z-index")||e,this.title="undefined"==typeof n.title?!1:n.title,this.icons={leftArrow:this.fontAwesome?"fa-arrow-left":3===this.bootcssVer?"glyphicon-arrow-left":"icon-arrow-left",rightArrow:this.fontAwesome?"fa-arrow-right":3===this.bootcssVer?"glyphicon-arrow-right":"icon-arrow-right"},this.icontype=this.fontAwesome?"fa":"glyphicon",this._attachEvents(),this.clickedOutside=function(e){0===t(e.target).closest(".datetimepicker").length&&o.hide()},this.formatViewType="datetime","formatViewType"in n?this.formatViewType=n.formatViewType:"formatViewType"in this.element.data()&&(this.formatViewType=this.element.data("formatViewType")),this.minView=0,"minView"in n?this.minView=n.minView:"minView"in this.element.data()&&(this.minView=this.element.data("min-view")),this.minView=a.convertViewMode(this.minView),this.maxView=a.modes.length-1,"maxView"in n?this.maxView=n.maxView:"maxView"in this.element.data()&&(this.maxView=this.element.data("max-view")),this.maxView=a.convertViewMode(this.maxView),this.wheelViewModeNavigation=!1,"wheelViewModeNavigation"in n?this.wheelViewModeNavigation=n.wheelViewModeNavigation:"wheelViewModeNavigation"in this.element.data()&&(this.wheelViewModeNavigation=this.element.data("view-mode-wheel-navigation")),this.wheelViewModeNavigationInverseDirection=!1,"wheelViewModeNavigationInverseDirection"in n?this.wheelViewModeNavigationInverseDirection=n.wheelViewModeNavigationInverseDirection:"wheelViewModeNavigationInverseDirection"in this.element.data()&&(this.wheelViewModeNavigationInverseDirection=this.element.data("view-mode-wheel-navigation-inverse-dir")),this.wheelViewModeNavigationDelay=100,"wheelViewModeNavigationDelay"in n?this.wheelViewModeNavigationDelay=n.wheelViewModeNavigationDelay:"wheelViewModeNavigationDelay"in this.element.data()&&(this.wheelViewModeNavigationDelay=this.element.data("view-mode-wheel-navigation-delay")),this.startViewMode=2,"startView"in n?this.startViewMode=n.startView:"startView"in this.element.data()&&(this.startViewMode=this.element.data("start-view")),this.startViewMode=a.convertViewMode(this.startViewMode),this.viewMode=this.startViewMode,this.viewSelect=this.minView,"viewSelect"in n?this.viewSelect=n.viewSelect:"viewSelect"in this.element.data()&&(this.viewSelect=this.element.data("view-select")),this.viewSelect=a.convertViewMode(this.viewSelect),this.forceParse=!0,"forceParse"in n?this.forceParse=n.forceParse:"dateForceParse"in this.element.data()&&(this.forceParse=this.element.data("date-force-parse"));for(var s=3===this.bootcssVer?a.templateV3:a.template;-1!==s.indexOf("{iconType}");)s=s.replace("{iconType}",this.icontype);for(;-1!==s.indexOf("{leftArrow}");)s=s.replace("{leftArrow}",this.icons.leftArrow);for(;-1!==s.indexOf("{rightArrow}");)s=s.replace("{rightArrow}",this.icons.rightArrow);if(this.picker=t(s).appendTo(this.isInline?this.element:this.container).on({click:t.proxy(this.click,this),mousedown:t.proxy(this.mousedown,this)}),this.wheelViewModeNavigation&&(t.fn.mousewheel?this.picker.on({mousewheel:t.proxy(this.mousewheel,this)}):console.log("Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option")),this.isInline?this.picker.addClass("datetimepicker-inline"):this.picker.addClass("datetimepicker-dropdown-"+this.pickerPosition+" dropdown-menu"),this.isRTL){this.picker.addClass("datetimepicker-rtl");var l=3===this.bootcssVer?".prev span, .next span":".prev i, .next i";this.picker.find(l).toggleClass(this.icons.leftArrow+" "+this.icons.rightArrow)}t(document).on("mousedown",this.clickedOutside),this.autoclose=!1,"autoclose"in n?this.autoclose=n.autoclose:"dateAutoclose"in this.element.data()&&(this.autoclose=this.element.data("date-autoclose")),this.keyboardNavigation=!0,"keyboardNavigation"in n?this.keyboardNavigation=n.keyboardNavigation:"dateKeyboardNavigation"in this.element.data()&&(this.keyboardNavigation=this.element.data("date-keyboard-navigation")),this.todayBtn=n.todayBtn||this.element.data("date-today-btn")||!1,this.clearBtn=n.clearBtn||this.element.data("date-clear-btn")||!1,this.todayHighlight=n.todayHighlight||this.element.data("date-today-highlight")||!1,this.weekStart=(n.weekStart||this.element.data("date-weekstart")||r[this.language].weekStart||0)%7,this.weekEnd=(this.weekStart+6)%7,this.startDate=-(1/0),this.endDate=1/0,this.datesDisabled=[],this.daysOfWeekDisabled=[],this.setStartDate(n.startDate||this.element.data("date-startdate")),this.setEndDate(n.endDate||this.element.data("date-enddate")),this.setDatesDisabled(n.datesDisabled||this.element.data("date-dates-disabled")),this.setDaysOfWeekDisabled(n.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled")),this.setMinutesDisabled(n.minutesDisabled||this.element.data("date-minute-disabled")),this.setHoursDisabled(n.hoursDisabled||this.element.data("date-hour-disabled")),this.fillDow(),this.fillMonths(),this.update(),this.showMode(),this.isInline&&this.show()};n.prototype={constructor:n,_events:[],_attachEvents:function(){this._detachEvents(),this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?(this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]],this.componentReset&&this._events.push([this.componentReset,{click:t.proxy(this.reset,this)}])):this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]];for(var e,i,n=0;n<this._events.length;n++)e=this._events[n][0],i=this._events[n][1],e.on(i)},_detachEvents:function(){for(var t,e,i=0;i<this._events.length;i++)t=this._events[i][0],e=this._events[i][1],t.off(e);this._events=[]},show:function(e){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.forceParse&&this.update(),this.place(),t(window).on("resize",t.proxy(this.place,this)),e&&(e.stopPropagation(),e.preventDefault()),this.isVisible=!0,this.element.trigger({type:"show",date:this.date})},hide:function(e){this.isVisible&&(this.isInline||(this.picker.hide(),t(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||t(document).off("mousedown",this.hide),this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this.isVisible=!1,this.element.trigger({type:"hide",date:this.date})))},remove:function(){this._detachEvents(),t(document).off("mousedown",this.clickedOutside),this.picker.remove(),delete this.picker,delete this.element.data().datetimepicker},getDate:function(){var t=this.getUTCDate();return new Date(t.getTime()+6e4*t.getTimezoneOffset())},getUTCDate:function(){return this.date},getInitialDate:function(){return this.initialDate},setInitialDate:function(t){this.initialDate=t},setDate:function(t){this.setUTCDate(new Date(t.getTime()-6e4*t.getTimezoneOffset()))},setUTCDate:function(t){t>=this.startDate&&t<=this.endDate?(this.date=t,this.setValue(),this.viewDate=this.date,this.fill()):this.element.trigger({type:"outOfRange",date:t,startDate:this.startDate,endDate:this.endDate})},setFormat:function(t){this.format=a.parseFormat(t,this.formatType);var e;this.isInput?e=this.element:this.component&&(e=this.element.find("input")),e&&e.val()&&this.setValue()},setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e):(this.component&&this.element.find("input").val(e),this.element.data("date",e)),this.linkField&&t("#"+this.linkField).val(this.getFormattedDate(this.linkFormat))},getFormattedDate:function(t){return t==e&&(t=this.format),a.formatDate(this.date,t,this.language,this.formatType)},setStartDate:function(t){this.startDate=t||-(1/0),this.startDate!==-(1/0)&&(this.startDate=a.parseDate(this.startDate,this.format,this.language,this.formatType)),this.update(),this.updateNavArrows()},setEndDate:function(t){this.endDate=t||1/0,this.endDate!==1/0&&(this.endDate=a.parseDate(this.endDate,this.format,this.language,this.formatType)),this.update(),this.updateNavArrows()},setDatesDisabled:function(e){this.datesDisabled=e||[],t.isArray(this.datesDisabled)||(this.datesDisabled=this.datesDisabled.split(/,\s*/)),this.datesDisabled=t.map(this.datesDisabled,function(t){return a.parseDate(t,this.format,this.language,this.formatType).toDateString()}),this.update(),this.updateNavArrows()},setTitle:function(t,e){return this.picker.find(t).find("th:eq(1)").text(this.title===!1?e:this.title)},setDaysOfWeekDisabled:function(e){this.daysOfWeekDisabled=e||[],t.isArray(this.daysOfWeekDisabled)||(this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)),this.daysOfWeekDisabled=t.map(this.daysOfWeekDisabled,function(t){return parseInt(t,10)}),this.update(),this.updateNavArrows()},setMinutesDisabled:function(e){this.minutesDisabled=e||[],t.isArray(this.minutesDisabled)||(this.minutesDisabled=this.minutesDisabled.split(/,\s*/)),this.minutesDisabled=t.map(this.minutesDisabled,function(t){return parseInt(t,10)}),this.update(),this.updateNavArrows()},setHoursDisabled:function(e){this.hoursDisabled=e||[],t.isArray(this.hoursDisabled)||(this.hoursDisabled=this.hoursDisabled.split(/,\s*/)),this.hoursDisabled=t.map(this.hoursDisabled,function(t){return parseInt(t,10)}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){if(!this.zIndex){var e=0;t("div").each(function(){var i=parseInt(t(this).css("zIndex"),10);i>e&&(e=i)}),this.zIndex=e+10}var i,n,o,r;r=this.container instanceof t?this.container.offset():t(this.container).offset(),this.component?(i=this.component.offset(),o=i.left,"bottom-left"!=this.pickerPosition&&"top-left"!=this.pickerPosition||(o+=this.component.outerWidth()-this.picker.outerWidth())):(i=this.element.offset(),o=i.left,"bottom-left"!=this.pickerPosition&&"top-left"!=this.pickerPosition||(o+=this.element.outerWidth()-this.picker.outerWidth()));var a=document.body.clientWidth||window.innerWidth;o+220>a&&(o=a-220),n="top-left"==this.pickerPosition||"top-right"==this.pickerPosition?i.top-this.picker.outerHeight():i.top+this.height,n-=r.top,o-=r.left,this.picker.css({top:n,left:o,zIndex:this.zIndex})}},update:function(){var t,e=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(t=arguments[0],e=!0):(t=(this.isInput?this.element.val():this.element.find("input").val())||this.element.data("date")||this.initialDate,("string"==typeof t||t instanceof String)&&(t=t.replace(/^\s+|\s+$/g,""))),t||(t=new Date,e=!1),this.date=a.parseDate(t,this.format,this.language,this.formatType),e&&this.setValue(),this.date<this.startDate?this.viewDate=new Date(this.startDate):this.date>this.endDate?this.viewDate=new Date(this.endDate):this.viewDate=new Date(this.date),this.fill()},fillDow:function(){for(var t=this.weekStart,e="<tr>";t<this.weekStart+7;)e+='<th class="dow">'+r[this.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datetimepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+r[this.language].monthsShort[e++]+"</span>";this.picker.find(".datetimepicker-months td").html(t)},fill:function(){if(null!=this.date&&null!=this.viewDate){var e=new Date(this.viewDate),n=e.getUTCFullYear(),o=e.getUTCMonth(),s=e.getUTCDate(),l=e.getUTCHours(),c=e.getUTCMinutes(),h=this.startDate!==-(1/0)?this.startDate.getUTCFullYear():-(1/0),u=this.startDate!==-(1/0)?this.startDate.getUTCMonth()+1:-(1/0),d=this.endDate!==1/0?this.endDate.getUTCFullYear():1/0,f=this.endDate!==1/0?this.endDate.getUTCMonth()+1:1/0,p=new i(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate()).valueOf(),g=new Date;if(this.setTitle(".datetimepicker-days",r[this.language].months[o]+" "+n),"time"==this.formatViewType){var m=this.getFormattedDate();this.setTitle(".datetimepicker-hours",m),this.setTitle(".datetimepicker-minutes",m)}else this.setTitle(".datetimepicker-hours",s+" "+r[this.language].months[o]+" "+n),this.setTitle(".datetimepicker-minutes",s+" "+r[this.language].months[o]+" "+n);this.picker.find("tfoot th.today").text(r[this.language].today||r.en.today).toggle(this.todayBtn!==!1),this.picker.find("tfoot th.clear").text(r[this.language].clear||r.en.clear).toggle(this.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var v=i(n,o-1,28,0,0,0,0),y=a.getDaysInMonth(v.getUTCFullYear(),v.getUTCMonth());v.setUTCDate(y),v.setUTCDate(y-(v.getUTCDay()-this.weekStart+7)%7);var x=new Date(v);x.setUTCDate(x.getUTCDate()+42),x=x.valueOf();for(var b,w=[];v.valueOf()<x;)v.getUTCDay()==this.weekStart&&w.push("<tr>"),b="",v.getUTCFullYear()<n||v.getUTCFullYear()==n&&v.getUTCMonth()<o?b+=" old":(v.getUTCFullYear()>n||v.getUTCFullYear()==n&&v.getUTCMonth()>o)&&(b+=" new"),this.todayHighlight&&v.getUTCFullYear()==g.getFullYear()&&v.getUTCMonth()==g.getMonth()&&v.getUTCDate()==g.getDate()&&(b+=" today"),v.valueOf()==p&&(b+=" active"),(v.valueOf()+864e5<=this.startDate||v.valueOf()>this.endDate||-1!==t.inArray(v.getUTCDay(),this.daysOfWeekDisabled)||-1!==t.inArray(v.toDateString(),this.datesDisabled))&&(b+=" disabled"),w.push('<td class="day'+b+'">'+v.getUTCDate()+"</td>"),v.getUTCDay()==this.weekEnd&&w.push("</tr>"),v.setUTCDate(v.getUTCDate()+1);this.picker.find(".datetimepicker-days tbody").empty().append(w.join("")),w=[];for(var _="",T="",S="",C=this.hoursDisabled||[],k=0;24>k;k++)if(-1===C.indexOf(k)){var M=i(n,o,s,k);b="",M.valueOf()+36e5<=this.startDate||M.valueOf()>this.endDate?b+=" disabled":l==k&&(b+=" active"),this.showMeridian&&2==r[this.language].meridiem.length?(T=12>k?r[this.language].meridiem[0]:r[this.language].meridiem[1],T!=S&&(""!=S&&w.push("</fieldset>"),w.push('<fieldset class="hour"><legend>'+T.toUpperCase()+"</legend>")),S=T,_=k%12?k%12:12,w.push('<span class="hour'+b+" hour_"+(12>k?"am":"pm")+'">'+_+"</span>"),23==k&&w.push("</fieldset>")):(_=k+":00",w.push('<span class="hour'+b+'">'+_+"</span>"))}this.picker.find(".datetimepicker-hours td").html(w.join("")),w=[],_="",T="",S="";for(var A=this.minutesDisabled||[],k=0;60>k;k+=this.minuteStep)if(-1===A.indexOf(k)){var M=i(n,o,s,l,k,0);b="",M.valueOf()<this.startDate||M.valueOf()>this.endDate?b+=" disabled":Math.floor(c/this.minuteStep)==Math.floor(k/this.minuteStep)&&(b+=" active"),this.showMeridian&&2==r[this.language].meridiem.length?(T=12>l?r[this.language].meridiem[0]:r[this.language].meridiem[1],T!=S&&(""!=S&&w.push("</fieldset>"),w.push('<fieldset class="minute"><legend>'+T.toUpperCase()+"</legend>")),S=T,_=l%12?l%12:12,w.push('<span class="minute'+b+'">'+_+":"+(10>k?"0"+k:k)+"</span>"),59==k&&w.push("</fieldset>")):(_=k+":00",w.push('<span class="minute'+b+'">'+l+":"+(10>k?"0"+k:k)+"</span>"))}this.picker.find(".datetimepicker-minutes td").html(w.join(""));var D=this.date.getUTCFullYear(),I=this.setTitle(".datetimepicker-months",n).end().find("span").removeClass("active");if(D==n){var L=I.length-12;I.eq(this.date.getUTCMonth()+L).addClass("active")}(h>n||n>d)&&I.addClass("disabled"),n==h&&I.slice(0,u+1).addClass("disabled"),n==d&&I.slice(f).addClass("disabled"),w="",n=10*parseInt(n/10,10);var P=this.setTitle(".datetimepicker-years",n+"-"+(n+9)).end().find("td");n-=1;for(var k=-1;11>k;k++)w+='<span class="year'+(-1==k||10==k?" old":"")+(D==n?" active":"")+(h>n||n>d?" disabled":"")+'">'+n+"</span>",n+=1;P.html(w),this.place()}},updateNavArrows:function(){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth(),n=t.getUTCDate(),o=t.getUTCHours();switch(this.viewMode){case 0:this.startDate!==-(1/0)&&e<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()&&n<=this.startDate.getUTCDate()&&o<=this.startDate.getUTCHours()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&e>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()&&n>=this.endDate.getUTCDate()&&o>=this.endDate.getUTCHours()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:this.startDate!==-(1/0)&&e<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()&&n<=this.startDate.getUTCDate()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&e>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()&&n>=this.endDate.getUTCDate()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 2:this.startDate!==-(1/0)&&e<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&e>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 3:case 4:this.startDate!==-(1/0)&&e<=this.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&e>=this.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}},mousewheel:function(e){if(e.preventDefault(),e.stopPropagation(),!this.wheelPause){this.wheelPause=!0;var i=e.originalEvent,n=i.wheelDelta,o=n>0?1:0===n?0:-1;this.wheelViewModeNavigationInverseDirection&&(o=-o),this.showMode(o),setTimeout(t.proxy(function(){this.wheelPause=!1},this),this.wheelViewModeNavigationDelay)}},click:function(e){e.stopPropagation(),e.preventDefault();var n=t(e.target).closest("span, td, th, legend");if(n.is("."+this.icontype)&&(n=t(n).parent().closest("span, td, th, legend")),1==n.length){if(n.is(".disabled"))return void this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate});switch(n[0].nodeName.toLowerCase()){case"th":switch(n[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var o=a.modes[this.viewMode].navStep*("prev"==n[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,o);
break;case 1:this.viewDate=this.moveDate(this.viewDate,o);break;case 2:this.viewDate=this.moveMonth(this.viewDate,o);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,o)}this.fill(),this.element.trigger({type:n[0].className+":"+this.convertViewModeText(this.viewMode),date:this.viewDate,startDate:this.startDate,endDate:this.endDate});break;case"clear":this.reset(),this.autoclose&&this.hide();break;case"today":var r=new Date;r=i(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),0),r<this.startDate?r=this.startDate:r>this.endDate&&(r=this.endDate),this.viewMode=this.startViewMode,this.showMode(0),this._setDate(r),this.fill(),this.autoclose&&this.hide()}break;case"span":if(!n.is(".disabled")){var s=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth(),c=this.viewDate.getUTCDate(),h=this.viewDate.getUTCHours(),u=this.viewDate.getUTCMinutes(),d=this.viewDate.getUTCSeconds();if(n.is(".month")?(this.viewDate.setUTCDate(1),l=n.parent().find("span").index(n),c=this.viewDate.getUTCDate(),this.viewDate.setUTCMonth(l),this.element.trigger({type:"changeMonth",date:this.viewDate}),this.viewSelect>=3&&this._setDate(i(s,l,c,h,u,d,0))):n.is(".year")?(this.viewDate.setUTCDate(1),s=parseInt(n.text(),10)||0,this.viewDate.setUTCFullYear(s),this.element.trigger({type:"changeYear",date:this.viewDate}),this.viewSelect>=4&&this._setDate(i(s,l,c,h,u,d,0))):n.is(".hour")?(h=parseInt(n.text(),10)||0,(n.hasClass("hour_am")||n.hasClass("hour_pm"))&&(12==h&&n.hasClass("hour_am")?h=0:12!=h&&n.hasClass("hour_pm")&&(h+=12)),this.viewDate.setUTCHours(h),this.element.trigger({type:"changeHour",date:this.viewDate}),this.viewSelect>=1&&this._setDate(i(s,l,c,h,u,d,0))):n.is(".minute")&&(u=parseInt(n.text().substr(n.text().indexOf(":")+1),10)||0,this.viewDate.setUTCMinutes(u),this.element.trigger({type:"changeMinute",date:this.viewDate}),this.viewSelect>=0&&this._setDate(i(s,l,c,h,u,d,0))),0!=this.viewMode){var f=this.viewMode;this.showMode(-1),this.fill(),f==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide()}break;case"td":if(n.is(".day")&&!n.is(".disabled")){var c=parseInt(n.text(),10)||1,s=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth(),h=this.viewDate.getUTCHours(),u=this.viewDate.getUTCMinutes(),d=this.viewDate.getUTCSeconds();n.is(".old")?0===l?(l=11,s-=1):l-=1:n.is(".new")&&(11==l?(l=0,s+=1):l+=1),this.viewDate.setUTCFullYear(s),this.viewDate.setUTCMonth(l,c),this.element.trigger({type:"changeDay",date:this.viewDate}),this.viewSelect>=2&&this._setDate(i(s,l,c,h,u,d,0))}var f=this.viewMode;this.showMode(-1),this.fill(),f==this.viewMode&&this.autoclose&&this.hide()}}},_setDate:function(t,e){e&&"date"!=e||(this.date=t),e&&"view"!=e||(this.viewDate=t),this.fill(),this.setValue();var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&(i.change(),this.autoclose&&(!e||"date"==e)),this.element.trigger({type:"changeDate",date:this.getDate()}),null==t&&(this.date=this.viewDate)},moveMinute:function(t,e){if(!e)return t;var i=new Date(t.valueOf());return i.setUTCMinutes(i.getUTCMinutes()+e*this.minuteStep),i},moveHour:function(t,e){if(!e)return t;var i=new Date(t.valueOf());return i.setUTCHours(i.getUTCHours()+e),i},moveDate:function(t,e){if(!e)return t;var i=new Date(t.valueOf());return i.setUTCDate(i.getUTCDate()+e),i},moveMonth:function(t,e){if(!e)return t;var i,n,o=new Date(t.valueOf()),r=o.getUTCDate(),a=o.getUTCMonth(),s=Math.abs(e);if(e=e>0?1:-1,1==s)n=-1==e?function(){return o.getUTCMonth()==a}:function(){return o.getUTCMonth()!=i},i=a+e,o.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var l=0;s>l;l++)o=this.moveMonth(o,e);i=o.getUTCMonth(),o.setUTCDate(r),n=function(){return i!=o.getUTCMonth()}}for(;n();)o.setUTCDate(--r),o.setUTCMonth(i);return o},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.startDate&&t<=this.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27==t.keyCode&&this.show());var e,i,n,o=!1;switch(t.keyCode){case 27:this.hide(),t.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation)break;e=37==t.keyCode?-1:1,viewMode=this.viewMode,t.ctrlKey?viewMode+=2:t.shiftKey&&(viewMode+=1),4==viewMode?(i=this.moveYear(this.date,e),n=this.moveYear(this.viewDate,e)):3==viewMode?(i=this.moveMonth(this.date,e),n=this.moveMonth(this.viewDate,e)):2==viewMode?(i=this.moveDate(this.date,e),n=this.moveDate(this.viewDate,e)):1==viewMode?(i=this.moveHour(this.date,e),n=this.moveHour(this.viewDate,e)):0==viewMode&&(i=this.moveMinute(this.date,e),n=this.moveMinute(this.viewDate,e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),t.preventDefault(),o=!0);break;case 38:case 40:if(!this.keyboardNavigation)break;e=38==t.keyCode?-1:1,viewMode=this.viewMode,t.ctrlKey?viewMode+=2:t.shiftKey&&(viewMode+=1),4==viewMode?(i=this.moveYear(this.date,e),n=this.moveYear(this.viewDate,e)):3==viewMode?(i=this.moveMonth(this.date,e),n=this.moveMonth(this.viewDate,e)):2==viewMode?(i=this.moveDate(this.date,7*e),n=this.moveDate(this.viewDate,7*e)):1==viewMode?this.showMeridian?(i=this.moveHour(this.date,6*e),n=this.moveHour(this.viewDate,6*e)):(i=this.moveHour(this.date,4*e),n=this.moveHour(this.viewDate,4*e)):0==viewMode&&(i=this.moveMinute(this.date,4*e),n=this.moveMinute(this.viewDate,4*e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),t.preventDefault(),o=!0);break;case 13:if(0!=this.viewMode){var r=this.viewMode;this.showMode(-1),this.fill(),r==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide();t.preventDefault();break;case 9:this.hide()}if(o){var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.change(),this.element.trigger({type:"changeDate",date:this.getDate()})}},showMode:function(t){if(t){var e=Math.max(0,Math.min(a.modes.length-1,this.viewMode+t));e>=this.minView&&e<=this.maxView&&(this.element.trigger({type:"changeMode",date:this.viewDate,oldViewMode:this.viewMode,newViewMode:e}),this.viewMode=e)}this.picker.find(">div").hide().filter(".datetimepicker-"+a.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()},reset:function(t){this._setDate(null,"date")},convertViewModeText:function(t){switch(t){case 4:return"decade";case 3:return"year";case 2:return"month";case 1:return"day";case 0:return"hour"}}};var o=t.fn.datetimepicker;t.fn.datetimepicker=function(i){var o=Array.apply(null,arguments);o.shift();var r;return this.each(function(){var a=t(this),s=a.data("datetimepicker"),l="object"==typeof i&&i;return s||a.data("datetimepicker",s=new n(this,t.extend({},t.fn.datetimepicker.defaults,l))),"string"==typeof i&&"function"==typeof s[i]&&(r=s[i].apply(s,o),r!==e)?!1:void 0}),r!==e?r:this},t.fn.datetimepicker.defaults={},t.fn.datetimepicker.Constructor=n;var r=t.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["am","pm"],suffix:["st","nd","rd","th"],today:"Today",clear:"Clear"}},a={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,a.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},getDefaultFormat:function(t,e){if("standard"==t)return"input"==e?"yyyy-mm-dd hh:ii":"yyyy-mm-dd hh:ii:ss";if("php"==t)return"input"==e?"Y-m-d H:i":"Y-m-d H:i:s";throw new Error("Invalid format type.")},validParts:function(t){if("standard"==t)return/t|hh?|HH?|p|P|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g;if("php"==t)return/[dDjlNwzFmMnStyYaABgGhHis]/g;throw new Error("Invalid format type.")},nonpunctuation:/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g,parseFormat:function(t,e){var i=t.replace(this.validParts(e),"\x00").split("\x00"),n=t.match(this.validParts(e));if(!i||!i.length||!n||0==n.length)throw new Error("Invalid date format.");return{separators:i,parts:n}},parseDate:function(e,o,a,s){if(e instanceof Date){var l=new Date(e.valueOf()-6e4*e.getTimezoneOffset());return l.setMilliseconds(0),l}if(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(e)&&(o=this.parseFormat("yyyy-mm-dd",s)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(e)&&(o=this.parseFormat("yyyy-mm-dd hh:ii",s)),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(e)&&(o=this.parseFormat("yyyy-mm-dd hh:ii:ss",s)),/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(e)){var c,h,u=/([-+]\d+)([dmwy])/,d=e.match(/([-+]\d+)([dmwy])/g);e=new Date;for(var f=0;f<d.length;f++)switch(c=u.exec(d[f]),h=parseInt(c[1]),c[2]){case"d":e.setUTCDate(e.getUTCDate()+h);break;case"m":e=n.prototype.moveMonth.call(n.prototype,e,h);break;case"w":e.setUTCDate(e.getUTCDate()+7*h);break;case"y":e=n.prototype.moveYear.call(n.prototype,e,h)}return i(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),0)}var p,g,c,d=e&&e.toString().match(this.nonpunctuation)||[],e=new Date(0,0,0,0,0,0,0),m={},v=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","D","DD","d","dd","H","HH","p","P"],y={hh:function(t,e){return t.setUTCHours(e)},h:function(t,e){return t.setUTCHours(e)},HH:function(t,e){return t.setUTCHours(12==e?0:e)},H:function(t,e){return t.setUTCHours(12==e?0:e)},ii:function(t,e){return t.setUTCMinutes(e)},i:function(t,e){return t.setUTCMinutes(e)},ss:function(t,e){return t.setUTCSeconds(e)},s:function(t,e){return t.setUTCSeconds(e)},yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!=e;){if(isNaN(t.getUTCMonth()))return t;t.setUTCDate(t.getUTCDate()-1)}return t},d:function(t,e){return t.setUTCDate(e)},p:function(t,e){return t.setUTCHours(1==e?t.getUTCHours()+12:t.getUTCHours())}};if(y.M=y.MM=y.mm=y.m,y.dd=y.d,y.P=y.p,e=i(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()),d.length==o.parts.length){for(var f=0,x=o.parts.length;x>f;f++){if(p=parseInt(d[f],10),c=o.parts[f],isNaN(p))switch(c){case"MM":g=t(r[a].months).filter(function(){var t=this.slice(0,d[f].length),e=d[f].slice(0,t.length);return t==e}),p=t.inArray(g[0],r[a].months)+1;break;case"M":g=t(r[a].monthsShort).filter(function(){var t=this.slice(0,d[f].length),e=d[f].slice(0,t.length);return t.toLowerCase()==e.toLowerCase()}),p=t.inArray(g[0],r[a].monthsShort)+1;break;case"p":case"P":p=t.inArray(d[f].toLowerCase(),r[a].meridiem)}m[c]=p}for(var b,f=0;f<v.length;f++)b=v[f],b in m&&!isNaN(m[b])&&y[b](e,m[b])}return e},formatDate:function(e,i,n,o){if(null==e)return"";var s;if("standard"==o)s={t:e.getTime(),yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear(),m:e.getUTCMonth()+1,M:r[n].monthsShort[e.getUTCMonth()],MM:r[n].months[e.getUTCMonth()],d:e.getUTCDate(),D:r[n].daysShort[e.getUTCDay()],DD:r[n].days[e.getUTCDay()],p:2==r[n].meridiem.length?r[n].meridiem[e.getUTCHours()<12?0:1]:"",h:e.getUTCHours(),i:e.getUTCMinutes(),s:e.getUTCSeconds()},2==r[n].meridiem.length?s.H=s.h%12==0?12:s.h%12:s.H=s.h,s.HH=(s.H<10?"0":"")+s.H,s.P=s.p.toUpperCase(),s.hh=(s.h<10?"0":"")+s.h,s.ii=(s.i<10?"0":"")+s.i,s.ss=(s.s<10?"0":"")+s.s,s.dd=(s.d<10?"0":"")+s.d,s.mm=(s.m<10?"0":"")+s.m;else{if("php"!=o)throw new Error("Invalid format type.");s={y:e.getUTCFullYear().toString().substring(2),Y:e.getUTCFullYear(),F:r[n].months[e.getUTCMonth()],M:r[n].monthsShort[e.getUTCMonth()],n:e.getUTCMonth()+1,t:a.getDaysInMonth(e.getUTCFullYear(),e.getUTCMonth()),j:e.getUTCDate(),l:r[n].days[e.getUTCDay()],D:r[n].daysShort[e.getUTCDay()],w:e.getUTCDay(),N:0==e.getUTCDay()?7:e.getUTCDay(),S:e.getUTCDate()%10<=r[n].suffix.length?r[n].suffix[e.getUTCDate()%10-1]:"",a:2==r[n].meridiem.length?r[n].meridiem[e.getUTCHours()<12?0:1]:"",g:e.getUTCHours()%12==0?12:e.getUTCHours()%12,G:e.getUTCHours(),i:e.getUTCMinutes(),s:e.getUTCSeconds()},s.m=(s.n<10?"0":"")+s.n,s.d=(s.j<10?"0":"")+s.j,s.A=s.a.toString().toUpperCase(),s.h=(s.g<10?"0":"")+s.g,s.H=(s.G<10?"0":"")+s.G,s.i=(s.i<10?"0":"")+s.i,s.s=(s.s<10?"0":"")+s.s}for(var e=[],l=t.extend([],i.separators),c=0,h=i.parts.length;h>c;c++)l.length&&e.push(l.shift()),e.push(s[i.parts[c]]);return l.length&&e.push(l.shift()),e.join("")},convertViewMode:function(t){switch(t){case 4:case"decade":t=4;break;case 3:case"year":t=3;break;case 2:case"month":t=2;break;case 1:case"day":t=1;break;case 0:case"hour":t=0}return t},headTemplate:'<thead><tr><th class="prev"><i class="{iconType} {leftArrow}"/></th><th colspan="5" class="switch"></th><th class="next"><i class="{iconType} {rightArrow}"/></th></tr></thead>',headTemplateV3:'<thead><tr><th class="prev"><span class="{iconType} {leftArrow}"></span> </th><th colspan="5" class="switch"></th><th class="next"><span class="{iconType} {rightArrow}"></span> </th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};a.template='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+a.headTemplate+a.contTemplate+a.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+a.headTemplate+a.contTemplate+a.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+a.headTemplate+"<tbody></tbody>"+a.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+a.headTemplate+a.contTemplate+a.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+a.headTemplate+a.contTemplate+a.footTemplate+"</table></div></div>",a.templateV3='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+a.headTemplateV3+a.contTemplate+a.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+a.headTemplateV3+a.contTemplate+a.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+a.headTemplateV3+"<tbody></tbody>"+a.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+a.headTemplateV3+a.contTemplate+a.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+a.headTemplateV3+a.contTemplate+a.footTemplate+"</table></div></div>",t.fn.datetimepicker.DPGlobal=a,t.fn.datetimepicker.noConflict=function(){return t.fn.datetimepicker=o,this},t(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api",'[data-provide="datetimepicker"]',function(e){var i=t(this);i.data("datetimepicker")||(e.preventDefault(),i.datetimepicker("show"))}),t(function(){t('[data-provide="datetimepicker-inline"]').datetimepicker()})}),function(t){t.fn.datetimepicker.dates["zh-CN"]={days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","星期日"],daysShort:["周日","周一","周二","周三","周四","周五","周六","周日"],daysMin:["日","一","二","三","四","五","六","日"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],today:"今天",suffix:[],meridiem:["上午","下午"]}}(jQuery),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.echarts=e():t.echarts=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(1),i(91),i(127),i(132),i(141),i(145),i(155),i(177),i(189),i(207),i(211),i(215),i(230),i(236),i(243),i(249),i(253),i(258),i(106),i(262),i(268),i(272),i(283),i(216),i(285),i(286),i(300),i(315),i(319),i(322),i(331),i(345)},function(t,e,i){function n(t){return function(e,i,n){e=e&&e.toLowerCase(),D.prototype[t].call(this,e,i,n)}}function o(){D.call(this)}function r(t,e,i){i=i||{},"string"==typeof e&&(e=U[e]),e&&I(H,function(t){t(e)}),this.id,this.group,this._dom=t,this._zr=C.init(t,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio}),this._theme=k.clone(e),this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._api=new v(this),this._coordSysMgr=new y,D.call(this),this._messageCenter=new o,this._initEvents(),this.resize=k.bind(this.resize,this)}function a(t,e){var i=this._model;i&&i.eachComponent({mainType:"series",query:e},function(n,o){var r=this._chartsMap[n.__viewId];r&&r.__alive&&r[t](n,i,this._api,e)},this)}function s(t,e,i){var n=this._api;I(this._componentsViews,function(o){var r=o.__model;o[t](r,e,n,i),p(r,o)},this),e.eachSeries(function(o,r){var a=this._chartsMap[o.__viewId];a[t](o,e,n,i),p(o,a)},this)}function l(t,e){for(var i="component"===t,n=i?this._componentsViews:this._chartsViews,o=i?this._componentsMap:this._chartsMap,r=this._zr,a=0;a<n.length;a++)n[a].__alive=!1;e[i?"eachComponent":"eachSeries"](function(t,a){if(i){if("series"===t)return}else a=t;var s=a.id+"_"+a.type,l=o[s];if(!l){var c=b.parseClassType(a.type),h=i?_.getClass(c.main,c.sub):T.getClass(c.sub);if(!h)return;l=new h,l.init(e,this._api),o[s]=l,n.push(l),r.add(l.group)}a.__viewId=s,l.__alive=!0,l.__id=s,l.__model=a},this);for(var a=0;a<n.length;){var s=n[a];s.__alive?a++:(r.remove(s.group),s.dispose(e,this._api),n.splice(a,1),delete o[s.__id])}}function c(t,e){I(P,function(i){I(B[i]||[],function(i){i(t,e)})})}function h(t){var e={};t.eachSeries(function(t){var i=t.get("stack"),n=t.getData();if(i&&"list"===n.type){var o=e[i];o&&(n.stackedOn=o),e[i]=n}})}function u(t,e){var i=this._api;I(F,function(n){n(t,i,e)})}function d(t,e){I(L,function(i){I($[i]||[],function(i){i(t,e)})})}function f(t,e){var i=this._api;I(this._componentsViews,function(n){var o=n.__model;n.render(o,t,i,e),p(o,n)},this),I(this._chartsViews,function(t){t.__alive=!1},this),t.eachSeries(function(n,o){var r=this._chartsMap[n.__viewId];r.__alive=!0,r.render(n,t,i,e),p(n,r)},this),I(this._chartsViews,function(e){e.__alive||e.remove(t,i)},this)}function p(t,e){var i=t.get("z"),n=t.get("zlevel");e.group.traverse(function(t){null!=i&&(t.z=i),null!=n&&(t.zlevel=n)})}function g(t){function e(t,e){for(var i=0;i<t.length;i++){var n=t[i];n[r]=e}}var i=0,n=1,o=2,r="__connectUpdateStatus";k.each(V,function(a,s){t._messageCenter.on(s,function(a){if(W[t.group]&&t[r]!==i){var s=t.makeActionFromEvent(a),l=[];for(var c in j){var h=j[c];h!==t&&h.group===t.group&&l.push(h)}e(l,i),I(l,function(t){t[r]!==n&&t.dispatchAction(s)}),e(l,o)}})})}var m=i(2),v=i(24),y=i(25),x=i(26),b=i(19),w=i(27),_=i(28),T=i(41),S=i(42),C=i(77),k=i(3),M=i(38),A=i(78),D=i(32),I=k.each,L=["echarts","chart","component"],P=["transform","filter","statistic"];o.prototype.on=n("on"),o.prototype.off=n("off"),o.prototype.one=n("one"),k.mixin(o,D);var N=r.prototype;N.getDom=function(){return this._dom},N.getZr=function(){return this._zr},N.setOption=function(t,e,i){this._model&&!e||(this._model=new m(null,null,this._theme,new x(this._api))),this._model.setOption(t,H),E.prepareAndUpdate.call(this),!i&&this._zr.refreshImmediately()},N.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},N.getModel=function(){return this._model},N.getOption=function(){return this._model.getOption()},N.getWidth=function(){return this._zr.getWidth()},N.getHeight=function(){return this._zr.getHeight()},N.getRenderedCanvas=function(t){if(A.canvasSupported){t=t||{},t.pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor");var e=this._zr,i=e.storage.getDisplayList();return k.each(i,function(t){t.stopAnimation(!0)}),e.painter.getRenderedCanvas(t)}},N.getDataURL=function(t){t=t||{};var e=t.excludeComponents,i=this._model,n=[],o=this;I(e,function(t){i.eachComponent({mainType:t},function(t){var e=o._componentsMap[t.__viewId];e.group.ignore||(n.push(e),e.group.ignore=!0)})});var r=this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return I(n,function(t){t.group.ignore=!1}),r},N.getConnectedDataURL=function(t){if(A.canvasSupported){var e=this.group,i=Math.min,n=Math.max,o=1/0;if(W[e]){var r=o,a=o,s=-o,l=-o,c=[],h=t&&t.pixelRatio||1;for(var u in j){var d=j[u];if(d.group===e){var f=d.getRenderedCanvas(k.clone(t)),p=d.getDom().getBoundingClientRect();r=i(p.left,r),a=i(p.top,a),s=n(p.right,s),l=n(p.bottom,l),c.push({dom:f,left:p.left,top:p.top})}}r*=h,a*=h,s*=h,l*=h;var g=s-r,m=l-a,v=k.createCanvas();v.width=g,v.height=m;var y=C.init(v);return I(c,function(t){var e=new S.Image({style:{x:t.left*h-r,y:t.top*h-a,image:t.dom}});y.add(e)}),y.refreshImmediately(),v.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}};var E={update:function(t){var e=this._model,i=this._api,n=this._coordSysMgr;if(e){e.restoreData(),n.create(this._model,this._api),c.call(this,e,i),h.call(this,e),n.update(e,i),u.call(this,e,t),d.call(this,e,t),f.call(this,e,t);var o=e.get("backgroundColor")||"transparent",r=this._zr.painter;if(r.isSingleCanvas&&r.isSingleCanvas())this._zr.configLayer(0,{clearColor:o});else{if(!A.canvasSupported){var a=M.parse(o);o=M.stringify(a,"rgb"),0===a[3]&&(o="transparent")}o=o,this._dom.style.backgroundColor=o}}},updateView:function(t){var e=this._model;e&&(u.call(this,e,t),d.call(this,e,t),s.call(this,"updateView",e,t))},updateVisual:function(t){var e=this._model;e&&(d.call(this,e,t),s.call(this,"updateVisual",e,t))},updateLayout:function(t){var e=this._model;e&&(u.call(this,e,t),s.call(this,"updateLayout",e,t))},highlight:function(t){a.call(this,"highlight",t)},downplay:function(t){a.call(this,"downplay",t)},prepareAndUpdate:function(t){var e=this._model;l.call(this,"component",e),l.call(this,"chart",e),E.update.call(this,t)}};N.resize=function(){this._zr.resize();var t=this._model&&this._model.resetOption("media");E[t?"prepareAndUpdate":"update"].call(this),this._loadingFX&&this._loadingFX.resize()};var R=i(87);N.showLoading=function(t,e){k.isObject(t)&&(e=t,t="default"),this.hideLoading();var i=R(this._api,e),n=this._zr;this._loadingFX=i,n.add(i)},N.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},N.makeActionFromEvent=function(t){var e=k.extend({},t);return e.type=V[t.type],e},N.dispatchAction=function(t,e){var i=z[t.type];if(i){var n=i.actionInfo,o=n.update||"update",r=[t],a=!1;t.batch&&(a=!0,r=k.map(t.batch,function(e){return e=k.defaults(k.extend({},e),t),e.batch=null,e}));for(var s,l=[],c="highlight"===t.type||"downplay"===t.type,h=0;h<r.length;h++){var u=r[h];s=i.action(u,this._model),s=s||k.extend({},u),s.type=n.event||s.type,l.push(s),c&&E[o].call(this,u)}"none"!==o&&!c&&E[o].call(this,t),e||(s=a?{type:n.event||t.type,batch:l}:l[0],this._messageCenter.trigger(s.type,s))}},N.on=n("on"),N.off=n("off"),N.one=n("one");var O=["click","dblclick","mouseover","mouseout","mousedown","mouseup","globalout"];N._initEvents=function(){var t=this._zr;I(O,function(e){t.on(e,function(t){var i=this.getModel(),n=t.target;if(n&&null!=n.dataIndex){var o=n.dataModel||i.getSeriesByIndex(n.seriesIndex),r=o&&o.getDataParams(n.dataIndex)||{};r.event=t,r.type=e,this.trigger(e,r)}},this)},this),I(V,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)},N.isDisposed=function(){return this._disposed},N.clear=function(){this.setOption({},!0)},N.dispose=function(){this._disposed=!0;var t=this._api,e=this._model;I(this._componentsViews,function(i){i.dispose(e,t)}),I(this._chartsViews,function(i){i.dispose(e,t)}),this._zr.dispose(),delete j[this.id]},k.mixin(r,D);var z=[],V={},F=[],B={},H=[],$={},U={},j={},W={},G=new Date-0,q=new Date-0,Z="_echarts_instance_",Y={version:"3.1.6",dependencies:{zrender:"3.0.7"}};Y.init=function(t,e,i){if(C.version.replace(".","")-0<Y.dependencies.zrender.replace(".","")-0)throw new Error("ZRender "+C.version+" is too old for ECharts "+Y.version+". Current version need ZRender "+Y.dependencies.zrender+"+");if(!t)throw new Error("Initialize failed: invalid dom.");var n=new r(t,e,i);return n.id="ec_"+G++,j[n.id]=n,t.setAttribute&&t.setAttribute(Z,n.id),g(n),n},Y.connect=function(t){if(k.isArray(t)){var e=t;t=null,k.each(e,function(e){null!=e.group&&(t=e.group)}),t=t||"g_"+q++,k.each(e,function(e){e.group=t})}return W[t]=!0,t},Y.disConnect=function(t){W[t]=!1},Y.dispose=function(t){k.isDom(t)?t=Y.getInstanceByDom(t):"string"==typeof t&&(t=j[t]),t instanceof r&&!t.isDisposed()&&t.dispose()},Y.getInstanceByDom=function(t){var e=t.getAttribute(Z);return j[e]},Y.getInstanceById=function(t){return j[t]},Y.registerTheme=function(t,e){U[t]=e},Y.registerPreprocessor=function(t){H.push(t)},Y.registerProcessor=function(t,e){if(k.indexOf(P,t)<0)throw new Error("stage should be one of "+P);var i=B[t]||(B[t]=[]);i.push(e)},Y.registerAction=function(t,e,i){"function"==typeof e&&(i=e,e="");var n=k.isObject(t)?t.type:[t,t={event:e}][0];t.event=(t.event||n).toLowerCase(),e=t.event,z[n]||(z[n]={action:i,actionInfo:t}),V[e]=n},Y.registerCoordinateSystem=function(t,e){y.register(t,e)},Y.registerLayout=function(t){k.indexOf(F,t)<0&&F.push(t)},Y.registerVisualCoding=function(t,e){if(k.indexOf(L,t)<0)throw new Error("stage should be one of "+L);var i=$[t]||($[t]=[]);i.push(e)},Y.extendChartView=function(t){return T.extend(t)},Y.extendComponentModel=function(t){return b.extend(t)},Y.extendSeriesModel=function(t){return w.extend(t)},Y.extendComponentView=function(t){return _.extend(t)},Y.setCanvasCreator=function(t){k.createCanvas=t},Y.registerVisualCoding("echarts",k.curry(i(88),"","itemStyle")),Y.registerPreprocessor(i(89)),Y.registerAction({type:"highlight",event:"highlight",update:"highlight"},k.noop),Y.registerAction({type:"downplay",event:"downplay",update:"downplay"},k.noop),Y.graphic=i(42),Y.number=i(7),Y.format=i(6),Y.matrix=i(17),Y.vector=i(16),Y.util={},I(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend"],function(t){Y.util[t]=k[t]}),t.exports=Y},function(t,e,i){function n(t,e){for(var i in e)b.hasClass(i)||("object"==typeof e[i]?t[i]=t[i]?u.merge(t[i],e[i],!1):u.clone(e[i]):null==t[i]&&(t[i]=e[i]))}function o(t){t=t,this.option={},this.option[_]=1,this._componentsMap={},this._seriesIndices=null,n(t,this._theme.option),u.merge(t,w,!1),this.mergeOption(t)}function r(t,e){u.isArray(e)||(e=e?[e]:[]);var i={};return p(e,function(e){i[e]=(t[e]||[]).slice()}),i}function a(t,e){var i={};p(e,function(t,e){var n=t.exist;n&&(i[n.id]=t)}),p(e,function(e,n){var o=e.option;if(u.assert(!o||null==o.id||!i[o.id]||i[o.id]===e,"id duplicates: "+(o&&o.id)),o&&null!=o.id&&(i[o.id]=e),x(o)){var r=s(t,o,e.exist);e.keyInfo={mainType:t,subType:r}}}),p(e,function(t,e){var n=t.exist,o=t.option,r=t.keyInfo;if(x(o)){if(r.name=null!=o.name?o.name+"":n?n.name:"\x00-",n)r.id=n.id;else if(null!=o.id)r.id=o.id+"";else{var a=0;do r.id="\x00"+r.name+"\x00"+a++;while(i[r.id])}i[r.id]=t}})}function s(t,e,i){var n=e.type?e.type:i?i.subType:b.determineSubType(t,e);return n}function l(t){return m(t,function(t){return t.componentIndex})||[]}function c(t,e){return e.hasOwnProperty("subType")?g(t,function(t){return t.subType===e.subType}):t}function h(t){if(!t._seriesIndices)throw new Error("Series has not been initialized yet.")}var u=i(3),d=i(5),f=i(8),p=u.each,g=u.filter,m=u.map,v=u.isArray,y=u.indexOf,x=u.isObject,b=i(19),w=i(23),_="\x00_ec_inner",T=f.extend({constructor:T,init:function(t,e,i,n){i=i||{},this.option=null,this._theme=new f(i),this._optionManager=n},setOption:function(t,e){u.assert(!(_ in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption()},resetOption:function(t){var e=!1,i=this._optionManager;if(!t||"recreate"===t){var n=i.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(n)):o.call(this,n),e=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var r=i.getTimelineOption(this);r&&(this.mergeOption(r),e=!0)}if(!t||"recreate"===t||"media"===t){var a=i.getMediaOption(this,this._api);a.length&&p(a,function(t){this.mergeOption(t,e=!0)},this)}return e},mergeOption:function(t){function e(e,o){var s=d.normalizeToArray(t[e]),c=d.mappingToExists(n[e],s);a(e,c);var h=r(n,o);i[e]=[],n[e]=[],p(c,function(t,o){var r=t.exist,a=t.option;if(u.assert(x(a)||r,"Empty component definition"),a){var s=b.getClass(e,t.keyInfo.subType,!0);r&&r instanceof s?(r.mergeOption(a,this),r.optionUpdated(this)):(r=new s(a,this,this,u.extend({dependentModels:h,componentIndex:o},t.keyInfo)),r.optionUpdated(this))}else r.mergeOption({},this),r.optionUpdated(this);n[e][o]=r,i[e][o]=r.option},this),"series"===e&&(this._seriesIndices=l(n.series))}var i=this.option,n=this._componentsMap,o=[];p(t,function(t,e){null!=t&&(b.hasClass(e)?o.push(e):i[e]=null==i[e]?u.clone(t):u.merge(i[e],t,!0))}),b.topologicalTravel(o,b.getAllClassMainTypes(),e,this)},getOption:function(){var t=u.clone(this.option);return p(t,function(e,i){if(b.hasClass(i)){for(var e=d.normalizeToArray(e),n=e.length-1;n>=0;n--)d.isIdInner(e[n])&&e.splice(n,1);t[i]=e}}),delete t[_],t},getTheme:function(){return this._theme},getComponent:function(t,e){var i=this._componentsMap[t];return i?i[e||0]:void 0},queryComponents:function(t){var e=t.mainType;if(!e)return[];var i=t.index,n=t.id,o=t.name,r=this._componentsMap[e];if(!r||!r.length)return[];var a;if(null!=i)v(i)||(i=[i]),a=g(m(i,function(t){return r[t]}),function(t){return!!t});else if(null!=n){var s=v(n);a=g(r,function(t){return s&&y(n,t.id)>=0||!s&&t.id===n})}else if(null!=o){var l=v(o);a=g(r,function(t){return l&&y(o,t.name)>=0||!l&&t.name===o})}return c(a,t)},findComponents:function(t){function e(t){var e=o+"Index",i=o+"Id",n=o+"Name";return t&&(t.hasOwnProperty(e)||t.hasOwnProperty(i)||t.hasOwnProperty(n))?{mainType:o,index:t[e],id:t[i],name:t[n]}:null}function i(e){return t.filter?g(e,t.filter):e}var n=t.query,o=t.mainType,r=e(n),a=r?this.queryComponents(r):this._componentsMap[o];return i(c(a,t))},eachComponent:function(t,e,i){var n=this._componentsMap;if("function"==typeof t)i=e,e=t,p(n,function(t,n){p(t,function(t,o){e.call(i,n,t,o)})});else if(u.isString(t))p(n[t],e,i);else if(x(t)){var o=this.findComponents(t);p(o,e,i)}},getSeriesByName:function(t){var e=this._componentsMap.series;return g(e,function(e){return e.name===t})},getSeriesByIndex:function(t){return this._componentsMap.series[t]},getSeriesByType:function(t){var e=this._componentsMap.series;return g(e,function(e){return e.subType===t})},getSeries:function(){return this._componentsMap.series.slice()},eachSeries:function(t,e){h(this),p(this._seriesIndices,function(i){var n=this._componentsMap.series[i];t.call(e,n,i)},this)},eachRawSeries:function(t,e){p(this._componentsMap.series,t,e)},eachSeriesByType:function(t,e,i){h(this),p(this._seriesIndices,function(n){var o=this._componentsMap.series[n];o.subType===t&&e.call(i,o,n)},this)},eachRawSeriesByType:function(t,e,i){return p(this.getSeriesByType(t),e,i)},isSeriesFiltered:function(t){return h(this),u.indexOf(this._seriesIndices,t.componentIndex)<0},filterSeries:function(t,e){h(this);var i=g(this._componentsMap.series,t,e);this._seriesIndices=l(i)},restoreData:function(){var t=this._componentsMap;this._seriesIndices=l(t.series);var e=[];p(t,function(t,i){e.push(i)}),b.topologicalTravel(e,b.getAllClassMainTypes(),function(e,i){p(t[e],function(t){t.restoreData()})})}});t.exports=T},function(t,e,i){function n(t){if("object"==typeof t&&null!==t){
var e=t;if(t instanceof Array){e=[];for(var i=0,o=t.length;o>i;i++)e[i]=n(t[i])}else if(!C(t)&&!k(t)){e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=n(t[r]))}return e}return t}function o(t,e,i){if(!S(e)||!S(t))return i?n(e):t;for(var r in e)if(e.hasOwnProperty(r)){var a=t[r],s=e[r];!S(s)||!S(a)||w(s)||w(a)||k(s)||k(a)||C(s)||C(a)?!i&&r in t||(t[r]=n(e[r],!0)):o(a,s,i)}return t}function r(t,e){for(var i=t[0],n=1,r=t.length;r>n;n++)i=o(i,t[n],e);return i}function a(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function s(t,e,i){for(var n in e)e.hasOwnProperty(n)&&(i?null!=e[n]:null==t[n])&&(t[n]=e[n]);return t}function l(){return document.createElement("canvas")}function c(){return I||(I=B.createCanvas().getContext("2d")),I}function h(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i}return-1}function u(t,e){function i(){}var n=t.prototype;i.prototype=e.prototype,t.prototype=new i;for(var o in n)t.prototype[o]=n[o];t.prototype.constructor=t,t.superClass=e}function d(t,e,i){t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,s(t,e,i)}function f(t){return t?"string"==typeof t?!1:"number"==typeof t.length:void 0}function p(t,e,i){if(t&&e)if(t.forEach&&t.forEach===R)t.forEach(e,i);else if(t.length===+t.length)for(var n=0,o=t.length;o>n;n++)e.call(i,t[n],n,t);else for(var r in t)t.hasOwnProperty(r)&&e.call(i,t[r],r,t)}function g(t,e,i){if(t&&e){if(t.map&&t.map===V)return t.map(e,i);for(var n=[],o=0,r=t.length;r>o;o++)n.push(e.call(i,t[o],o,t));return n}}function m(t,e,i,n){if(t&&e){if(t.reduce&&t.reduce===F)return t.reduce(e,i,n);for(var o=0,r=t.length;r>o;o++)i=e.call(n,i,t[o],o,t);return i}}function v(t,e,i){if(t&&e){if(t.filter&&t.filter===O)return t.filter(e,i);for(var n=[],o=0,r=t.length;r>o;o++)e.call(i,t[o],o,t)&&n.push(t[o]);return n}}function y(t,e,i){if(t&&e)for(var n=0,o=t.length;o>n;n++)if(e.call(i,t[n],n,t))return t[n]}function x(t,e){var i=z.call(arguments,2);return function(){return t.apply(e,i.concat(z.call(arguments)))}}function b(t){var e=z.call(arguments,1);return function(){return t.apply(this,e.concat(z.call(arguments)))}}function w(t){return"[object Array]"===N.call(t)}function _(t){return"function"==typeof t}function T(t){return"[object String]"===N.call(t)}function S(t){var e=typeof t;return"function"===e||!!t&&"object"==e}function C(t){return!!P[N.call(t)]||t instanceof L}function k(t){return t&&1===t.nodeType&&"string"==typeof t.nodeName}function M(t){for(var e=0,i=arguments.length;i>e;e++)if(null!=arguments[e])return arguments[e]}function A(){return Function.call.apply(z,arguments)}function D(t,e){if(!t)throw new Error(e)}var I,L=i(4),P={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},N=Object.prototype.toString,E=Array.prototype,R=E.forEach,O=E.filter,z=E.slice,V=E.map,F=E.reduce,B={inherits:u,mixin:d,clone:n,merge:o,mergeAll:r,extend:a,defaults:s,getContext:c,createCanvas:l,indexOf:h,slice:A,find:y,isArrayLike:f,each:p,map:g,reduce:m,filter:v,bind:x,curry:b,isArray:w,isString:T,isObject:S,isFunction:_,isBuildInObject:C,isDom:k,retrieve:M,assert:D,noop:function(){}};t.exports=B},function(t,e){var i=function(t){this.colorStops=t||[]};i.prototype={constructor:i,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}},t.exports=i},function(t,e,i){var n=i(6),o=i(7),r=i(3),a=i(8),s=["x","y","z","radius","angle"],l={};l.createNameEach=function(t,e){t=t.slice();var i=r.map(t,l.capitalFirst);e=(e||[]).slice();var n=r.map(e,l.capitalFirst);return function(o,a){r.each(t,function(t,r){for(var s={name:t,capital:i[r]},l=0;l<e.length;l++)s[e[l]]=t+n[l];o.call(a,s)})}},l.capitalFirst=function(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t},l.eachAxisDim=l.createNameEach(s,["axisIndex","axis","index"]),l.normalizeToArray=function(t){return r.isArray(t)?t:null==t?[]:[t]},l.createLinkedNodesFinder=function(t,e,i){function n(t,e){return r.indexOf(e.nodes,t)>=0}function o(t,n){var o=!1;return e(function(e){r.each(i(t,e)||[],function(t){n.records[e.name][t]&&(o=!0)})}),o}function a(t,n){n.nodes.push(t),e(function(e){r.each(i(t,e)||[],function(t){n.records[e.name][t]=!0})})}return function(i){function r(t){!n(t,s)&&o(t,s)&&(a(t,s),l=!0)}var s={nodes:[],records:{}};if(e(function(t){s.records[t.name]={}}),!i)return s;a(i,s);var l;do l=!1,t(r);while(l);return s}},l.defaultEmphasis=function(t,e){if(t){var i=t.emphasis=t.emphasis||{},n=t.normal=t.normal||{};r.each(e,function(t){var e=r.retrieve(i[t],n[t]);null!=e&&(i[t]=e)})}},l.createDataFormatModel=function(t,e,i){var n=new a;return r.mixin(n,l.dataFormatMixin),n.seriesIndex=t.seriesIndex,n.name=t.name||"",n.getData=function(){return e},n.getRawDataArray=function(){return i},n},l.getDataItemValue=function(t){return t&&(null==t.value?t:t.value)},l.converDataValue=function(t,e){var i=e&&e.type;return"ordinal"===i?t:("time"!==i||isFinite(t)||null==t||"-"===t||(t=+o.parseDate(t)),null==t||""===t?NaN:+t)},l.dataFormatMixin={getDataParams:function(t){var e=this.getData(),i=this.seriesIndex,n=this.name,o=this.getRawValue(t),r=e.getRawIndex(t),a=e.getName(t,!0),s=this.getRawDataArray(),l=s&&s[r];return{seriesIndex:i,seriesName:n,name:a,dataIndex:r,data:l,value:o,color:e.getItemVisual(t,"color"),$vars:["seriesName","name","value"]}},getFormattedLabel:function(t,e,i){e=e||"normal";var o=this.getData(),r=o.getItemModel(t),a=this.getDataParams(t);return null==i&&(i=r.get(["label",e,"formatter"])),"function"==typeof i?(a.status=e,i(a)):"string"==typeof i?n.formatTpl(i,a):void 0},getRawValue:function(t){var e=this.getData().getItemModel(t);if(e&&null!=e.option){var i=e.option;return r.isObject(i)&&!r.isArray(i)?i.value:i}}},l.mappingToExists=function(t,e){e=(e||[]).slice();var i=r.map(t||[],function(t,e){return{exist:t}});return r.each(e,function(t,n){if(r.isObject(t))for(var o=0;o<i.length;o++){var a=i[o].exist;if(!i[o].option&&(null!=t.id&&a.id===t.id+""||null!=t.name&&!l.isIdInner(t)&&!l.isIdInner(a)&&a.name===t.name+"")){i[o].option=t,e[n]=null;break}}}),r.each(e,function(t,e){if(r.isObject(t)){for(var n=0;n<i.length;n++){var o=i[n].exist;if(!i[n].option&&!l.isIdInner(o)&&null==t.id){i[n].option=t;break}}n>=i.length&&i.push({option:t})}}),i},l.isIdInner=function(t){return r.isObject(t)&&t.id&&0===(t.id+"").indexOf("\x00_ec_\x00")},t.exports=l},function(t,e,i){function n(t){return isNaN(t)?"-":(t=(t+"").split("."),t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:""))}function o(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function r(t){var e=t.length;return"number"==typeof t?[t,t,t,t]:2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function a(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function s(t,e){return"{"+t+(null==e?"":e)+"}"}function l(t,e){u.isArray(e)||(e=[e]);var i=e.length;if(!i)return"";for(var n=e[0].$vars,o=0;o<n.length;o++){var r=f[o];t=t.replace(s(r),s(r,0))}for(var a=0;i>a;a++)for(var l=0;l<n.length;l++)t=t.replace(s(f[l],a),e[a][n[l]]);return t}function c(t,e){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var i=d.parseDate(e),n=i.getFullYear(),o=i.getMonth()+1,r=i.getDate(),a=i.getHours(),s=i.getMinutes(),l=i.getSeconds();return t=t.replace("MM",h(o)).toLowerCase().replace("yyyy",n).replace("yy",n%100).replace("dd",h(r)).replace("d",r).replace("hh",h(a)).replace("h",a).replace("mm",h(s)).replace("m",s).replace("ss",h(l)).replace("s",l)}function h(t){return 10>t?"0"+t:t}var u=i(3),d=i(7),f=["a","b","c","d","e","f","g"];t.exports={normalizeCssArray:r,addCommas:n,toCamelCase:o,encodeHTML:a,formatTpl:l,formatTime:c}},function(t,e){function i(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")}var n={},o=1e-4;n.linearMap=function(t,e,i,n){var o=e[1]-e[0];if(0===o)return(i[0]+i[1])/2;var r=(t-e[0])/o;return n&&(r=Math.min(Math.max(r,0),1)),r*(i[1]-i[0])+i[0]},n.parsePercent=function(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?i(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t},n.round=function(t){return+(+t).toFixed(12)},n.asc=function(t){return t.sort(function(t,e){return t-e}),t},n.getPrecision=function(t){if(isNaN(t))return 0;for(var e=1,i=0;Math.round(t*e)/e!==t;)e*=10,i++;return i},n.getPixelPrecision=function(t,e){var i=Math.log,n=Math.LN10,o=Math.floor(i(t[1]-t[0])/n),r=Math.round(i(Math.abs(e[1]-e[0]))/n);return Math.max(-o+r,0)},n.MAX_SAFE_INTEGER=9007199254740991,n.remRadian=function(t){var e=2*Math.PI;return(t%e+e)%e},n.isRadianAroundZero=function(t){return t>-o&&o>t},n.parseDate=function(t){return t instanceof Date?t:new Date("string"==typeof t?t.replace(/-/g,"/"):Math.round(t))},n.nice=function(t,e){var i,n=Math.floor(Math.log(t)/Math.LN10),o=Math.pow(10,n),r=t/o;return i=e?1.5>r?1:2.5>r?2:4>r?3:7>r?5:10:1>r?1:2>r?2:3>r?3:5>r?5:10,i*o},t.exports=n},function(t,e,i){function n(t,e,i,n){this.parentModel=e,this.ecModel=i,this.option=t,this.init&&(arguments.length<=4?this.init(t,e,i,n):this.init.apply(this,arguments))}var o=i(3),r=i(9);n.prototype={constructor:n,init:null,mergeOption:function(t){o.merge(this.option,t,!0)},get:function(t,e){if(!t)return this.option;"string"==typeof t&&(t=t.split("."));for(var i=this.option,n=this.parentModel,o=0;o<t.length&&(i=i&&"object"==typeof i?i[t[o]]:null,null!=i);o++);return null==i&&n&&!e&&(i=n.get(t)),i},getShallow:function(t,e){var i=this.option,n=i&&i[t],o=this.parentModel;return null==n&&o&&!e&&(n=o.getShallow(t)),n},getModel:function(t,e){var i=this.get(t,!0),o=this.parentModel,r=new n(i,e||o&&o.getModel(t),this.ecModel);return r},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var t=this.constructor;return new t(o.clone(this.option))},setReadOnly:function(t){r.setReadOnly(this,t)}},r.enableClassExtend(n);var a=o.mixin;a(n,i(10)),a(n,i(12)),a(n,i(13)),a(n,i(18)),t.exports=n},function(t,e,i){function n(t,e){var i=r.slice(arguments,2);return this.superClass.prototype[e].apply(t,i)}function o(t,e,i){return this.superClass.prototype[e].apply(t,i)}var r=i(3),a={},s=".",l="___EC__COMPONENT__CONTAINER___",c=a.parseClassType=function(t){var e={main:"",sub:""};return t&&(t=t.split(s),e.main=t[0]||"",e.sub=t[1]||""),e};a.enableClassExtend=function(t,e){t.extend=function(i){var a=function(){e&&e.apply(this,arguments),t.apply(this,arguments)};return r.extend(a.prototype,i),a.extend=this.extend,a.superCall=n,a.superApply=o,r.inherits(a,this),a.superClass=this,a}},a.enableClassManagement=function(t,e){function i(t){var e=n[t.main];return e&&e[l]||(e=n[t.main]={},e[l]=!0),e}e=e||{};var n={};if(t.registerClass=function(t,e){if(e)if(e=c(e),e.sub){if(e.sub!==l){var o=i(e);o[e.sub]=t}}else{if(n[e.main])throw new Error(e.main+"exists.");n[e.main]=t}return t},t.getClass=function(t,e,i){var o=n[t];if(o&&o[l]&&(o=e?o[e]:null),i&&!o)throw new Error("Component "+t+"."+(e||"")+" not exists. Load it first.");return o},t.getClassesByMainType=function(t){t=c(t);var e=[],i=n[t.main];return i&&i[l]?r.each(i,function(t,i){i!==l&&e.push(t)}):e.push(i),e},t.hasClass=function(t){return t=c(t),!!n[t.main]},t.getAllClassMainTypes=function(){var t=[];return r.each(n,function(e,i){t.push(i)}),t},t.hasSubTypes=function(t){t=c(t);var e=n[t.main];return e&&e[l]},t.parseClassType=c,e.registerWhenExtend){var o=t.extend;o&&(t.extend=function(e){var i=o.call(this,e);return t.registerClass(i,e.type)})}return t},a.setReadOnly=function(t,e){},t.exports=a},function(t,e,i){var n=i(11)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);t.exports={getLineStyle:function(t){var e=n.call(this,t),i=this.getLineDash();return i&&(e.lineDash=i),e},getLineDash:function(){var t=this.get("type");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}}},function(t,e,i){var n=i(3);t.exports=function(t){for(var e=0;e<t.length;e++)t[e][1]||(t[e][1]=t[e][0]);return function(e){for(var i={},o=0;o<t.length;o++){var r=t[o][1];if(!(e&&n.indexOf(e,r)>=0)){var a=this.getShallow(r);null!=a&&(i[t[o][0]]=a)}}return i}}},function(t,e,i){t.exports={getAreaStyle:i(11)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]])}},function(t,e,i){function n(t,e){return t&&t.getShallow(e)}var o=i(14);t.exports={getTextColor:function(){var t=this.ecModel;return this.getShallow("color")||t&&t.get("textStyle.color")},getFont:function(){var t=this.ecModel,e=t&&t.getModel("textStyle");return[this.getShallow("fontStyle")||n(e,"fontStyle"),this.getShallow("fontWeight")||n(e,"fontWeight"),(this.getShallow("fontSize")||n(e,"fontSize")||12)+"px",this.getShallow("fontFamily")||n(e,"fontFamily")||"sans-serif"].join(" ")},getTextRect:function(t){var e=this.get("textStyle")||{};return o.getBoundingRect(t,this.getFont(),e.align,e.baseline)},ellipsis:function(t,e,i){return o.ellipsis(t,this.getFont(),e,i)}}},function(t,e,i){function n(t,e){var i=t+":"+e;if(c[i])return c[i];for(var n=(t+"").split("\n"),o=0,r=0,a=n.length;a>r;r++)o=Math.max(p.measureText(n[r],e).width,o);return h>u&&(h=0,c={}),h++,c[i]=o,o}function o(t,e,i,o){var r=((t||"")+"").split("\n").length,a=n(t,e),s=n("国",e),l=r*s,c=new f(0,0,a,l);switch(c.lineHeight=s,o){case"bottom":case"alphabetic":c.y-=s;break;case"middle":c.y-=s/2}switch(i){case"end":case"right":c.x-=c.width;break;case"center":c.x-=c.width/2}return c}function r(t,e,i,n){var o=e.x,r=e.y,a=e.height,s=e.width,l=i.height,c=a/2-l/2,h="left";switch(t){case"left":o-=n,r+=c,h="right";break;case"right":o+=n+s,r+=c,h="left";break;case"top":o+=s/2,r-=n+l,h="center";break;case"bottom":o+=s/2,r+=a+n,h="center";break;case"inside":o+=s/2,r+=c,h="center";break;case"insideLeft":o+=n,r+=c,h="left";break;case"insideRight":o+=s-n,r+=c,h="right";break;case"insideTop":o+=s/2,r+=n,h="center";break;case"insideBottom":o+=s/2,r+=a-l-n,h="center";break;case"insideTopLeft":o+=n,r+=n,h="left";break;case"insideTopRight":o+=s-n,r+=n,h="right";break;case"insideBottomLeft":o+=n,r+=a-l-n;break;case"insideBottomRight":o+=s-n,r+=a-l-n,h="right"}return{x:o,y:r,textAlign:h,textBaseline:"top"}}function a(t,e,i,o){if(!i)return"";o=d.defaults({ellipsis:"...",minCharacters:3,maxIterations:3,cnCharWidth:n("国",e),ascCharWidth:n("a",e)},o,!0),i-=n(o.ellipsis);for(var r=(t+"").split("\n"),a=0,l=r.length;l>a;a++)r[a]=s(r[a],e,i,o);return r.join("\n")}function s(t,e,i,o){for(var r=0;;r++){var a=n(t,e);if(i>a||r>=o.maxIterations){t+=o.ellipsis;break}var s=0===r?l(t,i,o):Math.floor(t.length*i/a);if(s<o.minCharacters){t="";break}t=t.substr(0,s)}return t}function l(t,e,i){for(var n=0,o=0,r=t.length;r>o&&e>n;o++){var a=t.charCodeAt(o);n+=a>=0&&127>=a?i.ascCharWidth:i.cnCharWidth}return o}var c={},h=0,u=5e3,d=i(3),f=i(15),p={getWidth:n,getBoundingRect:o,adjustTextPositionOnRect:r,ellipsis:a,measureText:function(t,e){var i=d.getContext();return i.font=e,i.measureText(t)}};t.exports=p},function(t,e,i){"use strict";function n(t,e,i,n){this.x=t,this.y=e,this.width=i,this.height=n}var o=i(16),r=i(17),a=o.applyTransform,s=Math.min,l=Math.abs,c=Math.max;n.prototype={constructor:n,union:function(t){var e=s(t.x,this.x),i=s(t.y,this.y);this.width=c(t.x+t.width,this.x+this.width)-e,this.height=c(t.y+t.height,this.y+this.height)-i,this.x=e,this.y=i},applyTransform:function(){var t=[],e=[];return function(i){i&&(t[0]=this.x,t[1]=this.y,e[0]=this.x+this.width,e[1]=this.y+this.height,a(t,t,i),a(e,e,i),this.x=s(t[0],e[0]),this.y=s(t[1],e[1]),this.width=l(e[0]-t[0]),this.height=l(e[1]-t[1]))}}(),calculateTransform:function(t){var e=this,i=t.width/e.width,n=t.height/e.height,o=r.create();return r.translate(o,o,[-e.x,-e.y]),r.scale(o,o,[i,n]),r.translate(o,o,[t.x,t.y]),o},intersect:function(t){var e=this,i=e.x,n=e.x+e.width,o=e.y,r=e.y+e.height,a=t.x,s=t.x+t.width,l=t.y,c=t.y+t.height;return!(a>n||i>s||l>r||o>c)},contain:function(t,e){var i=this;return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},clone:function(){return new n(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height}},t.exports=n},function(t,e){var i="undefined"==typeof Float32Array?Array:Float32Array,n={create:function(t,e){var n=new i(2);return n[0]=t||0,n[1]=e||0,n},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},clone:function(t){var e=new i(2);return e[0]=t[0],e[1]=t[1],e},set:function(t,e,i){return t[0]=e,t[1]=i,t},add:function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},scaleAndAdd:function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t},sub:function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t},len:function(t){return Math.sqrt(this.lenSquare(t))},lenSquare:function(t){return t[0]*t[0]+t[1]*t[1]},mul:function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},div:function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},normalize:function(t,e){var i=n.len(e);return 0===i?(t[0]=0,t[1]=0):(t[0]=e[0]/i,t[1]=e[1]/i),t},distance:function(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))},distanceSquare:function(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])},negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:function(t,e,i,n){return t[0]=e[0]+n*(i[0]-e[0]),t[1]=e[1]+n*(i[1]-e[1]),t},applyTransform:function(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[2]*o+i[4],t[1]=i[1]*n+i[3]*o+i[5],t},min:function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t},max:function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}};n.length=n.len,n.lengthSquare=n.lenSquare,n.dist=n.distance,n.distSquare=n.distanceSquare,t.exports=n},function(t,e){var i="undefined"==typeof Float32Array?Array:Float32Array,n={create:function(){var t=new i(6);return n.identity(t),t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},mul:function(t,e,i){var n=e[0]*i[0]+e[2]*i[1],o=e[1]*i[0]+e[3]*i[1],r=e[0]*i[2]+e[2]*i[3],a=e[1]*i[2]+e[3]*i[3],s=e[0]*i[4]+e[2]*i[5]+e[4],l=e[1]*i[4]+e[3]*i[5]+e[5];return t[0]=n,t[1]=o,t[2]=r,t[3]=a,t[4]=s,t[5]=l,t},translate:function(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t},rotate:function(t,e,i){var n=e[0],o=e[2],r=e[4],a=e[1],s=e[3],l=e[5],c=Math.sin(i),h=Math.cos(i);return t[0]=n*h+a*c,t[1]=-n*c+a*h,t[2]=o*h+s*c,t[3]=-o*c+h*s,t[4]=h*r+c*l,t[5]=h*l-c*r,t},scale:function(t,e,i){var n=i[0],o=i[1];return t[0]=e[0]*n,t[1]=e[1]*o,t[2]=e[2]*n,t[3]=e[3]*o,t[4]=e[4]*n,t[5]=e[5]*o,t},invert:function(t,e){var i=e[0],n=e[2],o=e[4],r=e[1],a=e[3],s=e[5],l=i*a-r*n;return l?(l=1/l,t[0]=a*l,t[1]=-r*l,t[2]=-n*l,t[3]=i*l,t[4]=(n*s-a*o)*l,t[5]=(r*o-i*s)*l,t):null}};t.exports=n},function(t,e,i){t.exports={getItemStyle:i(11)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]])}},function(t,e,i){function n(t){var e=[];return r.each(h.getClassesByMainType(t),function(t){a.apply(e,t.prototype.dependencies||[])}),r.map(e,function(t){return l.parseClassType(t).main})}var o=i(8),r=i(3),a=Array.prototype.push,s=i(20),l=i(9),c=i(21),h=o.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,init:function(t,e,i,n){this.mergeDefaultAndTheme(this.option,this.ecModel)},mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,n=i?c.getLayoutParams(t):{},o=e.getTheme();r.merge(t,o.get(this.mainType)),r.merge(t,this.getDefaultOption()),i&&c.mergeLayoutParam(t,n,i)},mergeOption:function(t){r.merge(this.option,t,!0);var e=this.layoutMode;e&&c.mergeLayoutParam(this.option,t,e)},optionUpdated:function(t){},getDefaultOption:function(){if(!this.hasOwnProperty("__defaultOption")){for(var t=[],e=this.constructor;e;){var i=e.prototype.defaultOption;i&&t.push(i),e=e.superClass}for(var n={},o=t.length-1;o>=0;o--)n=r.merge(n,t[o],!0);this.__defaultOption=n}return this.__defaultOption}});l.enableClassExtend(h,function(t,e,i,n){r.extend(this,n),this.uid=s.getUID("componentModel")}),l.enableClassManagement(h,{registerWhenExtend:!0}),s.enableSubTypeDefaulter(h),s.enableTopologicalTravel(h,n),r.mixin(h,i(22)),t.exports=h},function(t,e,i){var n=i(3),o=i(9),r=o.parseClassType,a=0,s={},l="_";s.getUID=function(t){return[t||"",a++,Math.random()].join(l)},s.enableSubTypeDefaulter=function(t){var e={};return t.registerSubTypeDefaulter=function(t,i){t=r(t),e[t.main]=i},t.determineSubType=function(i,n){var o=n.type;if(!o){var a=r(i).main;t.hasSubTypes(i)&&e[a]&&(o=e[a](n))}return o},t},s.enableTopologicalTravel=function(t,e){function i(t){var i={},a=[];return n.each(t,function(s){var l=o(i,s),c=l.originalDeps=e(s),h=r(c,t);l.entryCount=h.length,0===l.entryCount&&a.push(s),n.each(h,function(t){n.indexOf(l.predecessor,t)<0&&l.predecessor.push(t);var e=o(i,t);n.indexOf(e.successor,t)<0&&e.successor.push(s)})}),{graph:i,noEntryList:a}}function o(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}function r(t,e){var i=[];return n.each(t,function(t){n.indexOf(e,t)>=0&&i.push(t)}),i}t.topologicalTravel=function(t,e,o,r){function a(t){c[t].entryCount--,0===c[t].entryCount&&h.push(t)}function s(t){u[t]=!0,a(t)}if(t.length){var l=i(e),c=l.graph,h=l.noEntryList,u={};for(n.each(t,function(t){u[t]=!0});h.length;){var d=h.pop(),f=c[d],p=!!u[d];p&&(o.call(r,d,f.originalDeps.slice()),delete u[d]),n.each(f.successor,p?s:a)}n.each(u,function(){throw new Error("Circle dependency may exists")})}}},t.exports=s},function(t,e,i){"use strict";function n(t,e,i,n,o){var r=0,a=0;null==n&&(n=1/0),null==o&&(o=1/0);var s=0;e.eachChild(function(l,c){var h,u,d=l.position,f=l.getBoundingRect(),p=e.childAt(c+1),g=p&&p.getBoundingRect();if("horizontal"===t){var m=f.width+(g?-g.x+f.x:0);h=r+m,h>n||l.newline?(r=0,h=m,a+=s+i,s=f.height):s=Math.max(s,f.height)}else{var v=f.height+(g?-g.y+f.y:0);u=a+v,u>o||l.newline?(r+=s+i,a=0,u=v,s=f.width):s=Math.max(s,f.width)}l.newline||(d[0]=r,d[1]=a,"horizontal"===t?r=h+i:a=u+i)})}var o=i(3),r=i(15),a=i(7),s=i(6),l=a.parsePercent,c=o.each,h={},u=["left","right","top","bottom","width","height"];h.box=n,h.vbox=o.curry(n,"vertical"),h.hbox=o.curry(n,"horizontal"),h.getAvailableSize=function(t,e,i){var n=e.width,o=e.height,r=l(t.x,n),a=l(t.y,o),c=l(t.x2,n),h=l(t.y2,o);return(isNaN(r)||isNaN(parseFloat(t.x)))&&(r=0),(isNaN(c)||isNaN(parseFloat(t.x2)))&&(c=n),(isNaN(a)||isNaN(parseFloat(t.y)))&&(a=0),(isNaN(h)||isNaN(parseFloat(t.y2)))&&(h=o),i=s.normalizeCssArray(i||0),{width:Math.max(c-r-i[1]-i[3],0),height:Math.max(h-a-i[0]-i[2],0)}},h.getLayoutRect=function(t,e,i){i=s.normalizeCssArray(i||0);var n=e.width,o=e.height,a=l(t.left,n),c=l(t.top,o),h=l(t.right,n),u=l(t.bottom,o),d=l(t.width,n),f=l(t.height,o),p=i[2]+i[0],g=i[1]+i[3],m=t.aspect;switch(isNaN(d)&&(d=n-h-g-a),isNaN(f)&&(f=o-u-p-c),isNaN(d)&&isNaN(f)&&(m>n/o?d=.8*n:f=.8*o),null!=m&&(isNaN(d)&&(d=m*f),isNaN(f)&&(f=d/m)),isNaN(a)&&(a=n-h-d-g),isNaN(c)&&(c=o-u-f-p),t.left||t.right){case"center":a=n/2-d/2-i[3];break;case"right":a=n-d-g}switch(t.top||t.bottom){case"middle":case"center":c=o/2-f/2-i[0];break;case"bottom":c=o-f-p}a=a||0,c=c||0,isNaN(d)&&(d=n-a-(h||0)),isNaN(f)&&(f=o-c-(u||0));var v=new r(a+i[3],c+i[0],d,f);return v.margin=i,v},h.positionGroup=function(t,e,i,n){var r=t.getBoundingRect();e=o.extend(o.clone(e),{width:r.width,height:r.height}),e=h.getLayoutRect(e,i,n),t.position=[e.x-r.x,e.y-r.y]},h.mergeLayoutParam=function(t,e,i){function n(n){var o={},s=0,l={},h=0,u=i.ignoreSize?1:2;if(c(n,function(e){l[e]=t[e]}),c(n,function(t){r(e,t)&&(o[t]=l[t]=e[t]),a(o,t)&&s++,a(l,t)&&h++}),h!==u&&s){if(s>=u)return o;for(var d=0;d<n.length;d++){var f=n[d];if(!r(o,f)&&r(t,f)){o[f]=t[f];break}}return o}return l}function r(t,e){return t.hasOwnProperty(e)}function a(t,e){return null!=t[e]&&"auto"!==t[e]}function s(t,e,i){c(t,function(t){e[t]=i[t]})}!o.isObject(i)&&(i={});var l=["width","left","right"],h=["height","top","bottom"],u=n(l),d=n(h);s(l,t,u),s(h,t,d)},h.getLayoutParams=function(t){return h.copyLayoutParams({},t)},h.copyLayoutParams=function(t,e){return e&&t&&c(u,function(i){e.hasOwnProperty(i)&&(t[i]=e[i])}),t},t.exports=h},function(t,e){t.exports={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}},function(t,e){var i="";"undefined"!=typeof navigator&&(i=navigator.platform||""),t.exports={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],grid:{},textStyle:{fontFamily:i.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},animation:!0,animationThreshold:2e3,animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut"}},function(t,e,i){"use strict";function n(t){o.each(r,function(e){this[e]=o.bind(t[e],t)},this)}var o=i(3),r=["getDom","getZr","getWidth","getHeight","dispatchAction","on","off","getDataURL","getConnectedDataURL","getModel","getOption"];t.exports=n},function(t,e){"use strict";function i(){this._coordinateSystems=[]}var n={};i.prototype={constructor:i,create:function(t,e){var i=[];for(var o in n){var r=n[o].create(t,e);r&&(i=i.concat(r))}this._coordinateSystems=i},update:function(t,e){for(var i=this._coordinateSystems,n=0;n<i.length;n++)i[n].update&&i[n].update(t,e)}},i.register=function(t,e){n[t]=e},i.get=function(t){return n[t]},t.exports=i},function(t,e,i){function n(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newOptionBackup}function o(t,e){var i,n,o=[],r=[],a=t.timeline;if(t.baseOption&&(n=t.baseOption),(a||t.options)&&(n=n||{},o=(t.options||[]).slice()),t.media){n=n||{};var s=t.media;d(s,function(t){t&&t.option&&(t.query?r.push(t):i||(i=t))})}return n||(n=t),n.timeline||(n.timeline=a),d([n].concat(o).concat(c.map(r,function(t){return t.option})),function(t){d(e,function(e){e(t)})}),{baseOption:n,timelineOptions:o,mediaDefault:i,mediaList:r}}function r(t,e,i){var n={width:e,height:i,aspectratio:e/i},o=!0;return c.each(t,function(t,e){var i=e.match(m);if(i&&i[1]&&i[2]){var r=i[1],s=i[2].toLowerCase();a(n[s],t,r)||(o=!1)}}),o}function a(t,e,i){return"min"===i?t>=e:"max"===i?e>=t:t===e}function s(t,e){return t.join(",")===e.join(",")}function l(t,e){e=e||{},d(e,function(e,i){if(null!=e){var n=t[i];if(u.hasClass(i)){e=h.normalizeToArray(e),n=h.normalizeToArray(n);var o=h.mappingToExists(n,e);t[i]=p(o,function(t){return t.option&&t.exist?g(t.exist,t.option,!0):t.exist||t.option})}else t[i]=g(n,e,!0)}})}var c=i(3),h=i(5),u=i(19),d=c.each,f=c.clone,p=c.map,g=c.merge,m=/^(min|max)?(.+)$/;n.prototype={constructor:n,setOption:function(t,e){t=f(t,!0);var i=this._optionBackup,n=this._newOptionBackup=o.call(this,t,e);i?(l(i.baseOption,n.baseOption),n.timelineOptions.length&&(i.timelineOptions=n.timelineOptions),n.mediaList.length&&(i.mediaList=n.mediaList),n.mediaDefault&&(i.mediaDefault=n.mediaDefault)):this._optionBackup=n},mountOption:function(t){var e=t?this._optionBackup:this._newOptionBackup;return this._timelineOptions=p(e.timelineOptions,f),this._mediaList=p(e.mediaList,f),this._mediaDefault=f(e.mediaDefault),this._currentMediaIndices=[],f(e.baseOption)},getTimelineOption:function(t){var e,i=this._timelineOptions;if(i.length){var n=t.getComponent("timeline");n&&(e=f(i[n.getCurrentIndex()],!0))}return e},getMediaOption:function(t){var e=this._api.getWidth(),i=this._api.getHeight(),n=this._mediaList,o=this._mediaDefault,a=[],l=[];if(!n.length&&!o)return l;for(var c=0,h=n.length;h>c;c++)r(n[c].query,e,i)&&a.push(c);return!a.length&&o&&(a=[-1]),a.length&&!s(a,this._currentMediaIndices)&&(l=p(a,function(t){return f(-1===t?o.option:n[t].option)})),this._currentMediaIndices=a,l}},t.exports=n},function(t,e,i){"use strict";var n=i(3),o=i(6),r=i(5),a=i(19),s=o.encodeHTML,l=o.addCommas,c=a.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,init:function(t,e,i,n){this.seriesIndex=this.componentIndex,this.mergeDefaultAndTheme(t,i),this._dataBeforeProcessed=this.getInitialData(t,i),this._data=this._dataBeforeProcessed.cloneShallow()},mergeDefaultAndTheme:function(t,e){n.merge(t,e.getTheme().get(this.subType)),n.merge(t,this.getDefaultOption()),r.defaultEmphasis(t.label,["position","show","textStyle","distance","formatter"]);for(var i=t.data||[],o=0;o<i.length;o++)i[o]&&i[o].label&&r.defaultEmphasis(i[o].label,["position","show","textStyle","distance","formatter"])},mergeOption:function(t,e){t=n.merge(this.option,t,!0);var i=this.getInitialData(t,e);i&&(this._data=i,this._dataBeforeProcessed=i.cloneShallow())},getInitialData:function(){},getData:function(){return this._data},setData:function(t){this._data=t},getRawData:function(){return this._dataBeforeProcessed},getRawDataArray:function(){return this.option.data},coordDimToDataDim:function(t){return[t]},dataDimToCoordDim:function(t){return t},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e){var i=this._data,o=this.getRawValue(t),r=n.isArray(o)?n.map(o,l).join(", "):l(o),a=i.getName(t),c=i.getItemVisual(t,"color"),h='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+c+'"></span>';return e?h+s(this.name)+" : "+r:s(this.name)+"<br />"+h+(a?s(a)+" : "+r:r)},restoreData:function(){this._data=this._dataBeforeProcessed.cloneShallow()}});n.mixin(c,r.dataFormatMixin),t.exports=c},function(t,e,i){var n=i(29),o=i(20),r=i(9),a=function(){this.group=new n,this.uid=o.getUID("viewComponent")};a.prototype={constructor:a,init:function(t,e){},render:function(t,e,i,n){},dispose:function(){}};var s=a.prototype;s.updateView=s.updateLayout=s.updateVisual=function(t,e,i,n){},r.enableClassExtend(a),r.enableClassManagement(a,{registerWhenExtend:!0}),t.exports=a},function(t,e,i){var n=i(3),o=i(30),r=i(15),a=function(t){t=t||{},o.call(this,t);for(var e in t)this[e]=t[e];this._children=[],this.__storage=null,this.__dirty=!0};a.prototype={constructor:a,type:"group",children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,i=0;i<e.length;i++)if(e[i].name===t)return e[i]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var i=this._children,n=i.indexOf(e);n>=0&&(i.splice(n,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,i=this.__zr;e&&e!==t.__storage&&(e.addToMap(t),t instanceof a&&t.addChildrenToStorage(e)),i&&i.refresh()},remove:function(t){var e=this.__zr,i=this.__storage,o=this._children,r=n.indexOf(o,t);return 0>r?this:(o.splice(r,1),t.parent=null,i&&(i.delFromMap(t.id),t instanceof a&&t.delChildrenFromStorage(i)),e&&e.refresh(),this)},removeAll:function(){var t,e,i=this._children,n=this.__storage;for(e=0;e<i.length;e++)t=i[e],n&&(n.delFromMap(t.id),t instanceof a&&t.delChildrenFromStorage(n)),t.parent=null;return i.length=0,this},eachChild:function(t,e){for(var i=this._children,n=0;n<i.length;n++){var o=i[n];t.call(e,o,n)}return this},traverse:function(t,e){for(var i=0;i<this._children.length;i++){var n=this._children[i];t.call(e,n),"group"===n.type&&n.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.addToMap(i),i instanceof a&&i.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){
for(var e=0;e<this._children.length;e++){var i=this._children[e];t.delFromMap(i.id),i instanceof a&&i.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,i=new r(0,0,0,0),n=t||this._children,o=[],a=0;a<n.length;a++){var s=n[a];if(!s.ignore&&!s.invisible){var l=s.getBoundingRect(),c=s.getLocalTransform(o);c?(i.copy(l),i.applyTransform(c),e=e||i.clone(),e.union(i)):(e=e||l.clone(),e.union(l))}}return e||i}},n.inherits(a,o),t.exports=a},function(t,e,i){"use strict";var n=i(31),o=i(32),r=i(33),a=i(34),s=i(3),l=function(t){r.call(this,t),o.call(this,t),a.call(this,t),this.id=t.id||n()};l.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.dirty()},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var i=this[t];i||(i=this[t]=[]),i[0]=e[0],i[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(s.isObject(t))for(var i in t)t.hasOwnProperty(i)&&this.attrKV(i,t[i]);return this.dirty(),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty()},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty())},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},s.mixin(l,a),s.mixin(l,r),s.mixin(l,o),t.exports=l},function(t,e){var i=2311;t.exports=function(){return"zr_"+i++}},function(t,e,i){var n=Array.prototype.slice,o=i(3),r=o.indexOf,a=function(){this._$handlers={}};a.prototype={constructor:a,one:function(t,e,i){var n=this._$handlers;return e&&t?(n[t]||(n[t]=[]),r(n[t],t)>=0?this:(n[t].push({h:e,one:!0,ctx:i||this}),this)):this},on:function(t,e,i){var n=this._$handlers;return e&&t?(n[t]||(n[t]=[]),n[t].push({h:e,one:!1,ctx:i||this}),this):this},isSilent:function(t){var e=this._$handlers;return e[t]&&e[t].length},off:function(t,e){var i=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var n=[],o=0,r=i[t].length;r>o;o++)i[t][o].h!=e&&n.push(i[t][o]);i[t]=n}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},trigger:function(t){if(this._$handlers[t]){var e=arguments,i=e.length;i>3&&(e=n.call(e,1));for(var o=this._$handlers[t],r=o.length,a=0;r>a;){switch(i){case 1:o[a].h.call(o[a].ctx);break;case 2:o[a].h.call(o[a].ctx,e[1]);break;case 3:o[a].h.call(o[a].ctx,e[1],e[2]);break;default:o[a].h.apply(o[a].ctx,e)}o[a].one?(o.splice(a,1),r--):a++}}return this},triggerWithContext:function(t){if(this._$handlers[t]){var e=arguments,i=e.length;i>4&&(e=n.call(e,1,e.length-1));for(var o=e[e.length-1],r=this._$handlers[t],a=r.length,s=0;a>s;){switch(i){case 1:r[s].h.call(o);break;case 2:r[s].h.call(o,e[1]);break;case 3:r[s].h.call(o,e[1],e[2]);break;default:r[s].h.apply(o,e)}r[s].one?(r.splice(s,1),a--):s++}}return this}},t.exports=a},function(t,e,i){"use strict";function n(t){return t>s||-s>t}var o=i(17),r=i(16),a=o.identity,s=5e-5,l=function(t){t=t||{},t.position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},c=l.prototype;c.transform=null,c.needLocalTransform=function(){return n(this.rotation)||n(this.position[0])||n(this.position[1])||n(this.scale[0]-1)||n(this.scale[1]-1)},c.updateTransform=function(){var t=this.parent,e=t&&t.transform,i=this.needLocalTransform(),n=this.transform;return i||e?(n=n||o.create(),i?this.getLocalTransform(n):a(n),e&&(i?o.mul(n,t.transform,n):o.copy(n,t.transform)),this.transform=n,this.invTransform=this.invTransform||o.create(),void o.invert(this.invTransform,n)):void(n&&a(n))},c.getLocalTransform=function(t){t=t||[],a(t);var e=this.origin,i=this.scale,n=this.rotation,r=this.position;return e&&(t[4]-=e[0],t[5]-=e[1]),o.scale(t,t,i),n&&o.rotate(t,t,n),e&&(t[4]+=e[0],t[5]+=e[1]),t[4]+=r[0],t[5]+=r[1],t},c.setTransform=function(t){var e=this.transform;e&&t.transform(e[0],e[1],e[2],e[3],e[4],e[5])};var h=[];c.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(o.mul(h,t.invTransform,e),e=h);var i=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],a=this.position,s=this.scale;n(i-1)&&(i=Math.sqrt(i)),n(r-1)&&(r=Math.sqrt(r)),e[0]<0&&(i=-i),e[3]<0&&(r=-r),a[0]=e[4],a[1]=e[5],s[0]=i,s[1]=r,this.rotation=Math.atan2(-e[1]/r,e[0]/i)}},c.transformCoordToLocal=function(t,e){var i=[t,e],n=this.invTransform;return n&&r.applyTransform(i,i,n),i},c.transformCoordToGlobal=function(t,e){var i=[t,e],n=this.transform;return n&&r.applyTransform(i,i,n),i},t.exports=l},function(t,e,i){"use strict";var n=i(35),o=i(3),r=o.isString,a=o.isFunction,s=o.isObject,l=i(39),c=function(){this.animators=[]};c.prototype={constructor:c,animate:function(t,e){var i,r=!1,a=this,s=this.__zr;if(t){var c=t.split("."),h=a;r="shape"===c[0];for(var u=0,d=c.length;d>u;u++)h&&(h=h[c[u]]);h&&(i=h)}else i=a;if(!i)return void l('Property "'+t+'" is not existed in element '+a.id);var f=a.animators,p=new n(i,e);return p.during(function(t){a.dirty(r)}).done(function(){f.splice(o.indexOf(f,p),1)}),f.push(p),s&&s.animation.addAnimator(p),p},stopAnimation:function(t){for(var e=this.animators,i=e.length,n=0;i>n;n++)e[n].stop(t);return e.length=0,this},animateTo:function(t,e,i,n,o){function s(){c--,c||o&&o()}r(i)?(o=n,n=i,i=0):a(n)?(o=n,n="linear",i=0):a(i)?(o=i,i=0):a(e)?(o=e,e=500):e||(e=500),this.stopAnimation(),this._animateToShallow("",this,t,e,i,n,o);var l=this.animators.slice(),c=l.length;c||o&&o();for(var h=0;h<l.length;h++)l[h].done(s).start(n)},_animateToShallow:function(t,e,i,n,r){var a={},l=0;for(var c in i)if(null!=e[c])s(i[c])&&!o.isArrayLike(i[c])?this._animateToShallow(t?t+"."+c:c,e[c],i[c],n,r):(a[c]=i[c],l++);else if(null!=i[c])if(t){var h={};h[t]={},h[t][c]=i[c],this.attr(h)}else this.attr(c,i[c]);return l>0&&this.animate(t,!1).when(null==n?500:n,a).delay(r||0),this}},t.exports=c},function(t,e,i){function n(t,e){return t[e]}function o(t,e,i){t[e]=i}function r(t,e,i){return(e-t)*i+t}function a(t,e,i){return i>.5?e:t}function s(t,e,i,n,o){var a=t.length;if(1==o)for(var s=0;a>s;s++)n[s]=r(t[s],e[s],i);else for(var l=t[0].length,s=0;a>s;s++)for(var c=0;l>c;c++)n[s][c]=r(t[s][c],e[s][c],i)}function l(t,e,i){var n=t.length,o=e.length;if(n!==o){var r=n>o;if(r)t.length=o;else for(var a=n;o>a;a++)t.push(1===i?e[a]:x.call(e[a]))}}function c(t,e,i){if(t===e)return!0;var n=t.length;if(n!==e.length)return!1;if(1===i){for(var o=0;n>o;o++)if(t[o]!==e[o])return!1}else for(var r=t[0].length,o=0;n>o;o++)for(var a=0;r>a;a++)if(t[o][a]!==e[o][a])return!1;return!0}function h(t,e,i,n,o,r,a,s,l){var c=t.length;if(1==l)for(var h=0;c>h;h++)s[h]=u(t[h],e[h],i[h],n[h],o,r,a);else for(var d=t[0].length,h=0;c>h;h++)for(var f=0;d>f;f++)s[h][f]=u(t[h][f],e[h][f],i[h][f],n[h][f],o,r,a)}function u(t,e,i,n,o,r,a){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*a+(-3*(e-i)-2*s-l)*r+s*o+e}function d(t){if(y(t)){var e=t.length;if(y(t[0])){for(var i=[],n=0;e>n;n++)i.push(x.call(t[n]));return i}return x.call(t)}return t}function f(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function p(t,e,i,n,o){var d=t._getter,p=t._setter,v="spline"===e,x=n.length;if(x){var b,w=n[0].value,_=y(w),T=!1,S=!1,C=_&&y(w[0])?2:1;n.sort(function(t,e){return t.time-e.time}),b=n[x-1].time;for(var k=[],M=[],A=n[0].value,D=!0,I=0;x>I;I++){k.push(n[I].time/b);var L=n[I].value;if(_&&c(L,A,C)||!_&&L===A||(D=!1),A=L,"string"==typeof L){var P=m.parse(L);P?(L=P,T=!0):S=!0}M.push(L)}if(!D){if(_){for(var N=M[x-1],I=0;x-1>I;I++)l(M[I],N,C);l(d(t._target,o),N,C)}var E,R,O,z,V,F,B=0,H=0;if(T)var $=[0,0,0,0];var U=function(t,e){var i;if(H>e){for(E=Math.min(B+1,x-1),i=E;i>=0&&!(k[i]<=e);i--);i=Math.min(i,x-2)}else{for(i=B;x>i&&!(k[i]>e);i++);i=Math.min(i-1,x-2)}B=i,H=e;var n=k[i+1]-k[i];if(0!==n)if(R=(e-k[i])/n,v)if(z=M[i],O=M[0===i?i:i-1],V=M[i>x-2?x-1:i+1],F=M[i>x-3?x-1:i+2],_)h(O,z,V,F,R,R*R,R*R*R,d(t,o),C);else{var l;if(T)l=h(O,z,V,F,R,R*R,R*R*R,$,1),l=f($);else{if(S)return a(z,V,R);l=u(O,z,V,F,R,R*R,R*R*R)}p(t,o,l)}else if(_)s(M[i],M[i+1],R,d(t,o),C);else{var l;if(T)s(M[i],M[i+1],R,$,1),l=f($);else{if(S)return a(M[i],M[i+1],R);l=r(M[i],M[i+1],R)}p(t,o,l)}},j=new g({target:t._target,life:b,loop:t._loop,delay:t._delay,onframe:U,ondestroy:i});return e&&"spline"!==e&&(j.easing=e),j}}}var g=i(36),m=i(38),v=i(3),y=v.isArrayLike,x=Array.prototype.slice,b=function(t,e,i,r){this._tracks={},this._target=t,this._loop=e||!1,this._getter=i||n,this._setter=r||o,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};b.prototype={when:function(t,e){var i=this._tracks;for(var n in e){if(!i[n]){i[n]=[];var o=this._getter(this._target,n);if(null==o)continue;0!==t&&i[n].push({time:0,value:d(o)})}i[n].push({time:t,value:e[n]})}return this},during:function(t){return this._onframeList.push(t),this},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,i=0;e>i;i++)t[i].call(this)},start:function(t){var e,i=this,n=0,o=function(){n--,n||i._doneCallback()};for(var r in this._tracks){var a=p(this,t,o,this._tracks[r],r);a&&(this._clipList.push(a),n++,this.animation&&this.animation.addClip(a),e=a)}if(e){var s=e.onframe;e.onframe=function(t,e){s(t,e);for(var n=0;n<i._onframeList.length;n++)i._onframeList[n](t,e)}}return n||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,i=this.animation,n=0;n<e.length;n++){var o=e[n];t&&o.onframe(this._target,1),i&&i.removeClip(o)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}},t.exports=b},function(t,e,i){function n(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null==t.loop?!1:t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart}var o=i(37);n.prototype={constructor:n,step:function(t){this._initialized||(this._startTime=(new Date).getTime()+this._delay,this._initialized=!0);var e=(t-this._startTime)/this._life;if(!(0>e)){e=Math.min(e,1);var i=this.easing,n="string"==typeof i?o[i]:i,r="function"==typeof n?n(e):e;return this.fire("frame",r),1==e?this.loop?(this.restart(),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(){var t=(new Date).getTime(),e=(t-this._startTime)%this._life;this._startTime=(new Date).getTime()-e+this.gap,this._needsRemove=!1},fire:function(t,e){t="on"+t,this[t]&&this[t](this._target,e)}},t.exports=n},function(t,e){var i={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),-(i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)))},elasticOut:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},elasticInOut:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)):i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-i.bounceOut(1-t)},bounceOut:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return.5>t?.5*i.bounceIn(2*t):.5*i.bounceOut(2*t-1)+.5}};t.exports=i},function(t,e){function i(t){return t=Math.round(t),0>t?0:t>255?255:t}function n(t){return t=Math.round(t),0>t?0:t>360?360:t}function o(t){return 0>t?0:t>1?1:t}function r(t){return i(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function a(t){return o(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function s(t,e,i){return 0>i?i+=1:i>1&&(i-=1),1>6*i?t+(e-t)*i*6:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}function l(t,e,i){return t+(e-t)*i}function c(t){if(t){t+="";var e=t.replace(/ /g,"").toLowerCase();if(e in b)return b[e].slice();if("#"!==e.charAt(0)){var i=e.indexOf("("),n=e.indexOf(")");if(-1!==i&&n+1===e.length){var o=e.substr(0,i),s=e.substr(i+1,n-(i+1)).split(","),l=1;switch(o){case"rgba":if(4!==s.length)return;l=a(s.pop());case"rgb":if(3!==s.length)return;return[r(s[0]),r(s[1]),r(s[2]),l];case"hsla":if(4!==s.length)return;return s[3]=a(s[3]),h(s);case"hsl":if(3!==s.length)return;return h(s);default:return}}}else{if(4===e.length){var c=parseInt(e.substr(1),16);if(!(c>=0&&4095>=c))return;return[(3840&c)>>4|(3840&c)>>8,240&c|(240&c)>>4,15&c|(15&c)<<4,1]}if(7===e.length){var c=parseInt(e.substr(1),16);if(!(c>=0&&16777215>=c))return;return[(16711680&c)>>16,(65280&c)>>8,255&c,1]}}}}function h(t){var e=(parseFloat(t[0])%360+360)%360/360,n=a(t[1]),o=a(t[2]),r=.5>=o?o*(n+1):o+n-o*n,l=2*o-r,c=[i(255*s(l,r,e+1/3)),i(255*s(l,r,e)),i(255*s(l,r,e-1/3))];return 4===t.length&&(c[3]=t[3]),c}function u(t){if(t){var e,i,n=t[0]/255,o=t[1]/255,r=t[2]/255,a=Math.min(n,o,r),s=Math.max(n,o,r),l=s-a,c=(s+a)/2;if(0===l)e=0,i=0;else{i=.5>c?l/(s+a):l/(2-s-a);var h=((s-n)/6+l/2)/l,u=((s-o)/6+l/2)/l,d=((s-r)/6+l/2)/l;n===s?e=d-u:o===s?e=1/3+h-d:r===s&&(e=2/3+u-h),0>e&&(e+=1),e>1&&(e-=1)}var f=[360*e,i,c];return null!=t[3]&&f.push(t[3]),f}}function d(t,e){var i=c(t);if(i){for(var n=0;3>n;n++)0>e?i[n]=i[n]*(1-e)|0:i[n]=(255-i[n])*e+i[n]|0;return x(i,4===i.length?"rgba":"rgb")}}function f(t,e){var i=c(t);return i?((1<<24)+(i[0]<<16)+(i[1]<<8)+ +i[2]).toString(16).slice(1):void 0}function p(t,e,n){if(e&&e.length&&t>=0&&1>=t){n=n||[0,0,0,0];var o=t*(e.length-1),r=Math.floor(o),a=Math.ceil(o),s=e[r],c=e[a],h=o-r;return n[0]=i(l(s[0],c[0],h)),n[1]=i(l(s[1],c[1],h)),n[2]=i(l(s[2],c[2],h)),n[3]=i(l(s[3],c[3],h)),n}}function g(t,e,n){if(e&&e.length&&t>=0&&1>=t){var r=t*(e.length-1),a=Math.floor(r),s=Math.ceil(r),h=c(e[a]),u=c(e[s]),d=r-a,f=x([i(l(h[0],u[0],d)),i(l(h[1],u[1],d)),i(l(h[2],u[2],d)),o(l(h[3],u[3],d))],"rgba");return n?{color:f,leftIndex:a,rightIndex:s,value:r}:f}}function m(t,e){if(!(2!==t.length||t[1]<t[0])){for(var i=g(t[0],e,!0),n=g(t[1],e,!0),o=[{color:i.color,offset:0}],r=n.value-i.value,a=Math.max(i.value,i.rightIndex),s=Math.min(n.value,n.leftIndex),l=a;r>0&&s>=l;l++)o.push({color:e[l],offset:(l-i.value)/r});return o.push({color:n.color,offset:1}),o}}function v(t,e,i,o){return t=c(t),t?(t=u(t),null!=e&&(t[0]=n(e)),null!=i&&(t[1]=a(i)),null!=o&&(t[2]=a(o)),x(h(t),"rgba")):void 0}function y(t,e){return t=c(t),t&&null!=e?(t[3]=o(e),x(t,"rgba")):void 0}function x(t,e){return"rgb"!==e&&"hsv"!==e&&"hsl"!==e||(t=t.slice(0,3)),e+"("+t.join(",")+")"}var b={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};t.exports={parse:c,lift:d,toHex:f,fastMapToColor:p,mapToColor:g,mapIntervalToColor:m,modifyHSL:v,modifyAlpha:y,stringify:x}},function(t,e,i){var n=i(40);t.exports=function(){if(0!==n.debugMode)if(1==n.debugMode)for(var t in arguments)throw new Error(arguments[t]);else if(n.debugMode>1)for(var t in arguments)console.log(arguments[t])}},function(t,e){var i=1;"undefined"!=typeof window&&(i=Math.max(window.devicePixelRatio||1,1));var n={debugMode:0,devicePixelRatio:i};t.exports=n},function(t,e,i){function n(){this.group=new a,this.uid=s.getUID("viewChart")}function o(t,e){if(t&&(t.trigger(e),"group"===t.type))for(var i=0;i<t.childCount();i++)o(t.childAt(i),e)}function r(t,e,i){if(null!=e.dataIndex){var n=t.getItemGraphicEl(e.dataIndex);o(n,i)}else if(e.name){var r=t.indexOfName(e.name),n=t.getItemGraphicEl(r);o(n,i)}else t.eachItemGraphicEl(function(t){o(t,i)})}var a=i(29),s=i(20),l=i(9);n.prototype={type:"chart",init:function(t,e){},render:function(t,e,i,n){},highlight:function(t,e,i,n){r(t.getData(),n,"emphasis")},downplay:function(t,e,i,n){r(t.getData(),n,"normal")},remove:function(t,e){this.group.removeAll()},dispose:function(){}};var c=n.prototype;c.updateView=c.updateLayout=c.updateVisual=function(t,e,i,n){this.render(t,e,i,n)},l.enableClassExtend(n),l.enableClassManagement(n,{registerWhenExtend:!0}),t.exports=n},function(t,e,i){"use strict";function n(t){if(!t.__isHover){if(t.__hoverStlDirty){var e=t.style.stroke,i=t.style.fill,n=t.__hoverStl,o=v.lift;n.fill=n.fill||i&&(i instanceof b?i:o(i,-.1)),n.stroke=n.stroke||e&&(e instanceof b?e:o(e,-.1));var r={};for(var a in n)n.hasOwnProperty(a)&&(r[a]=t.style[a]);t.__normalStl=r,t.__hoverStlDirty=!1}t.setStyle(t.__hoverStl),t.z2+=1,t.__isHover=!0}}function o(t){if(t.__isHover){var e=t.__normalStl;e&&t.setStyle(e),t.z2-=1,t.__isHover=!1}}function r(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&n(t)}):n(t)}function a(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&o(t)}):o(t)}function s(t,e){t.__hoverStl=t.hoverStyle||e||{},t.__hoverStlDirty=!0}function l(){!this.__isEmphasis&&r(this)}function c(){!this.__isEmphasis&&a(this)}function h(){this.__isEmphasis=!0,r(this)}function u(){this.__isEmphasis=!1,a(this)}function d(t,e,i,n,o){var r=t?"Update":"",a=n&&n.getShallow("animationDuration"+r),s=n&&n.getShallow("animationEasing"+r);n&&n.getShallow("animation")?e.animateTo(i,a,s,o):(e.attr(i),o&&o())}var f=i(3),p=i(43),g=Math.round,m=i(44),v=i(38),y=i(17),x=i(16),b=i(4),w={};w.Group=i(29),w.Image=i(59),w.Text=i(62),w.Circle=i(63),w.Sector=i(64),w.Ring=i(65),w.Polygon=i(66),w.Polyline=i(70),w.Rect=i(71),w.Line=i(72),w.BezierCurve=i(73),w.Arc=i(74),w.LinearGradient=i(75),w.RadialGradient=i(76),w.BoundingRect=i(15),w.extendShape=function(t){return m.extend(t)},w.extendPath=function(t,e){return p.extendFromString(t,e)},w.makePath=function(t,e,i,n){var o=p.createFromString(t,e),r=o.getBoundingRect();if(i){var a=r.width/r.height;if("center"===n){var s,l=i.height*a;l<=i.width?s=i.height:(l=i.width,s=l/a);var c=i.x+i.width/2,h=i.y+i.height/2;i.x=c-l/2,i.y=h-s/2,i.width=l,i.height=s}this.resizePath(o,i)}return o},w.mergePath=p.mergePath,w.resizePath=function(t,e){if(t.applyTransform){var i=t.getBoundingRect(),n=i.calculateTransform(e);t.applyTransform(n)}},w.subPixelOptimizeLine=function(t){var e=w.subPixelOptimize,i=t.shape,n=t.style.lineWidth;return g(2*i.x1)===g(2*i.x2)&&(i.x1=i.x2=e(i.x1,n,!0)),g(2*i.y1)===g(2*i.y2)&&(i.y1=i.y2=e(i.y1,n,!0)),t},w.subPixelOptimizeRect=function(t){var e=w.subPixelOptimize,i=t.shape,n=t.style.lineWidth,o=i.x,r=i.y,a=i.width,s=i.height;return i.x=e(i.x,n,!0),i.y=e(i.y,n,!0),i.width=Math.max(e(o+a,n,!1)-i.x,0===a?0:1),i.height=Math.max(e(r+s,n,!1)-i.y,0===s?0:1),t},w.subPixelOptimize=function(t,e,i){var n=g(2*t);return(n+g(e))%2===0?n/2:(n+(i?1:-1))/2},w.setHoverStyle=function(t,e){"group"===t.type?t.traverse(function(t){"group"!==t.type&&s(t,e)}):s(t,e),t.on("mouseover",l).on("mouseout",c),t.on("emphasis",h).on("normal",u)},w.setText=function(t,e,i){var n=e.getShallow("position")||"inside",o=n.indexOf("inside")>=0?"white":i,r=e.getModel("textStyle");f.extend(t,{textDistance:e.getShallow("distance")||5,textFont:r.getFont(),textPosition:n,textFill:r.getTextColor()||o})},w.updateProps=f.curry(d,!0),w.initProps=f.curry(d,!1),w.getTransform=function(t,e){for(var i=y.identity([]);t&&t!==e;)y.mul(i,t.getLocalTransform(),i),t=t.parent;return i},w.applyTransform=function(t,e,i){return i&&(e=y.invert([],e)),x.applyTransform([],t,e)},w.transformDirection=function(t,e,i){var n=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),o=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),r=["left"===t?-n:"right"===t?n:0,"top"===t?-o:"bottom"===t?o:0];return r=w.applyTransform(r,e,i),Math.abs(r[0])>Math.abs(r[1])?r[0]>0?"right":"left":r[1]>0?"bottom":"top"},t.exports=w},function(t,e,i){function n(t,e,i,n,o,r,a,s,l,c,h){var g=l*(p/180),y=f(g)*(t-i)/2+d(g)*(e-n)/2,x=-1*d(g)*(t-i)/2+f(g)*(e-n)/2,b=y*y/(a*a)+x*x/(s*s);b>1&&(a*=u(b),s*=u(b));var w=(o===r?-1:1)*u((a*a*(s*s)-a*a*(x*x)-s*s*(y*y))/(a*a*(x*x)+s*s*(y*y)))||0,_=w*a*x/s,T=w*-s*y/a,S=(t+i)/2+f(g)*_-d(g)*T,C=(e+n)/2+d(g)*_+f(g)*T,k=v([1,0],[(y-_)/a,(x-T)/s]),M=[(y-_)/a,(x-T)/s],A=[(-1*y-_)/a,(-1*x-T)/s],D=v(M,A);m(M,A)<=-1&&(D=p),m(M,A)>=1&&(D=0),0===r&&D>0&&(D-=2*p),1===r&&0>D&&(D+=2*p),h.addData(c,S,C,a,s,k,D,g,r)}function o(t){if(!t)return[];var e,i=t.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(e=0;e<h.length;e++)i=i.replace(new RegExp(h[e],"g"),"|"+h[e]);var o,r=i.split("|"),a=0,l=0,c=new s,u=s.CMD;for(e=1;e<r.length;e++){var d,f=r[e],p=f.charAt(0),g=0,m=f.slice(1).replace(/e,-/g,"e-").split(",");m.length>0&&""===m[0]&&m.shift();for(var v=0;v<m.length;v++)m[v]=parseFloat(m[v]);for(;g<m.length&&!isNaN(m[g])&&!isNaN(m[0]);){var y,x,b,w,_,T,S,C=a,k=l;switch(p){case"l":a+=m[g++],l+=m[g++],d=u.L,c.addData(d,a,l);break;case"L":a=m[g++],l=m[g++],d=u.L,c.addData(d,a,l);break;case"m":a+=m[g++],l+=m[g++],d=u.M,c.addData(d,a,l),p="l";break;case"M":a=m[g++],l=m[g++],d=u.M,c.addData(d,a,l),p="L";break;case"h":a+=m[g++],d=u.L,c.addData(d,a,l);break;case"H":a=m[g++],d=u.L,c.addData(d,a,l);break;case"v":l+=m[g++],d=u.L,c.addData(d,a,l);break;case"V":l=m[g++],d=u.L,c.addData(d,a,l);break;case"C":d=u.C,c.addData(d,m[g++],m[g++],m[g++],m[g++],m[g++],m[g++]),a=m[g-2],l=m[g-1];break;case"c":d=u.C,c.addData(d,m[g++]+a,m[g++]+l,m[g++]+a,m[g++]+l,m[g++]+a,m[g++]+l),a+=m[g-2],l+=m[g-1];break;case"S":y=a,x=l;var M=c.len(),A=c.data;o===u.C&&(y+=a-A[M-4],x+=l-A[M-3]),d=u.C,C=m[g++],k=m[g++],a=m[g++],l=m[g++],c.addData(d,y,x,C,k,a,l);break;case"s":y=a,x=l;var M=c.len(),A=c.data;o===u.C&&(y+=a-A[M-4],x+=l-A[M-3]),d=u.C,C=a+m[g++],k=l+m[g++],a+=m[g++],l+=m[g++],c.addData(d,y,x,C,k,a,l);break;case"Q":C=m[g++],k=m[g++],a=m[g++],l=m[g++],d=u.Q,c.addData(d,C,k,a,l);break;case"q":C=m[g++]+a,k=m[g++]+l,a+=m[g++],l+=m[g++],d=u.Q,c.addData(d,C,k,a,l);break;case"T":y=a,x=l;var M=c.len(),A=c.data;o===u.Q&&(y+=a-A[M-4],x+=l-A[M-3]),a=m[g++],l=m[g++],d=u.Q,c.addData(d,y,x,a,l);break;case"t":y=a,x=l;var M=c.len(),A=c.data;o===u.Q&&(y+=a-A[M-4],x+=l-A[M-3]),a+=m[g++],l+=m[g++],d=u.Q,c.addData(d,y,x,a,l);break;case"A":b=m[g++],w=m[g++],_=m[g++],T=m[g++],S=m[g++],C=a,k=l,a=m[g++],l=m[g++],d=u.A,n(C,k,a,l,T,S,b,w,_,d,c);break;case"a":b=m[g++],w=m[g++],_=m[g++],T=m[g++],S=m[g++],C=a,k=l,a+=m[g++],l+=m[g++],d=u.A,n(C,k,a,l,T,S,b,w,_,d,c)}}"z"!==p&&"Z"!==p||(d=u.Z,c.addData(d)),o=d}return c.toStatic(),c}function r(t,e){var i,n=o(t);return e=e||{},e.buildPath=function(t){t.setData(n.data),i&&l(t,i);var e=t.getContext();e&&t.rebuildPath(e)},e.applyTransform=function(t){i||(i=c.create()),c.mul(i,t,i)},e}var a=i(44),s=i(48),l=i(58),c=i(17),h=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],u=Math.sqrt,d=Math.sin,f=Math.cos,p=Math.PI,g=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},m=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(g(t)*g(e))},v=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(m(t,e))};t.exports={createFromString:function(t,e){return new a(r(t,e))},extendFromString:function(t,e){return a.extend(r(t,e))},mergePath:function(t,e){var i,n,o=[],r=t.length;for(n=0;r>n;n++)i=t[n],i.__dirty&&i.buildPath(i.path,i.shape),o.push(i.path);var s=new a(e);return s.buildPath=function(t){t.appendPath(o);var e=t.getContext();e&&t.rebuildPath(e)},s}}},function(t,e,i){function n(t){var e=t.fill;return null!=e&&"none"!==e}function o(t){var e=t.stroke;return null!=e&&"none"!==e&&t.lineWidth>0}function r(t){a.call(this,t),this.path=new l}var a=i(45),s=i(3),l=i(48),c=i(51),h=i(4),u=Math.abs;r.prototype={constructor:r,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(t){t.save();var e=this.style,i=this.path,r=o(e),a=n(e);this.__dirtyPath&&(a&&e.fill instanceof h&&e.fill.updateCanvasGradient(this,t),r&&e.stroke instanceof h&&e.stroke.updateCanvasGradient(this,t)),e.bind(t,this),this.setTransform(t);var s=e.lineDash,l=e.lineDashOffset,c=!!t.setLineDash;this.__dirtyPath||s&&!c&&r?(i=this.path.beginPath(t),s&&!c&&(i.setLineDash(s),i.setLineDashOffset(l)),this.buildPath(i,this.shape),this.__dirtyPath=!1):(t.beginPath(),this.path.rebuildPath(t)),a&&i.fill(t),s&&c&&(t.setLineDash(s),t.lineDashOffset=l),r&&i.stroke(t),null!=e.text&&this.drawRectText(t,this.getBoundingRect()),t.restore()},buildPath:function(t,e){},getBoundingRect:function(){var t=this._rect,e=this.style,i=!t;if(i){var r=this.path;this.__dirtyPath&&(r.beginPath(),this.buildPath(r,this.shape)),t=r.getBoundingRect()}if(this._rect=t,o(e)){var a=this._rectWithStroke;if(this.__dirty||i){var a=this._rectWithStroke||(this._rectWithStroke=t.clone());a.copy(t);var s=e.lineWidth,l=e.strokeNoScale?this.getLineScale():1;n(e)||(s=Math.max(s,this.strokeContainThreshold)),l>1e-10&&(a.width+=s/l,a.height+=s/l,a.x-=s/l/2,a.y-=s/l/2)}return a}return t},contain:function(t,e){var i=this.transformCoordToLocal(t,e),r=this.getBoundingRect(),a=this.style;if(t=i[0],e=i[1],r.contain(t,e)){var s=this.path.data;if(o(a)){var l=a.lineWidth,h=a.strokeNoScale?this.getLineScale():1;if(h>1e-10&&(n(a)||(l=Math.max(l,this.strokeContainThreshold)),c.containStroke(s,l/h,t,e)))return!0}if(n(a))return c.contain(s,t,e)}return!1},dirty:function(t){0===arguments.length&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?this.setShape(e):a.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var i=this.shape;if(i){if(s.isObject(t))for(var n in t)i[n]=t[n];else i[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&u(t[0]-1)>1e-10&&u(t[3]-1)>1e-10?Math.sqrt(u(t[0]*t[3]-t[2]*t[1])):1}},r.extend=function(t){var e=function(e){r.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var i=t.shape;if(i){this.shape=this.shape||{};var n=this.shape;for(var o in i)!n.hasOwnProperty(o)&&i.hasOwnProperty(o)&&(n[o]=i[o])}t.init&&t.init.call(this,e)};s.inherits(e,r);for(var i in t)"style"!==i&&"shape"!==i&&(e.prototype[i]=t[i]);return e},s.inherits(r,a),t.exports=r},function(t,e,i){function n(t){t=t||{},a.call(this,t);for(var e in t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new r(t.style),this._rect=null,this.__clipPaths=[]}var o=i(3),r=i(46),a=i(30),s=i(47);n.prototype={constructor:n,type:"displayable",__dirty:!0,invisible:!1,z:0,
z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect();return n.contain(i[0],i[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?a.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this}},o.inherits(n,a),o.mixin(n,s),t.exports=n},function(t,e){var i=["lineCap","lineJoin","miterLimit","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor"],n=function(t){this.extendFrom(t)};n.prototype={constructor:n,fill:"#000000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,textFill:"#000",textStroke:null,textPosition:"inside",textBaseline:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,bind:function(t,e){for(var n=this.fill,o=this.stroke,r=0;r<i.length;r++){var a=i[r];null!=this[a]&&(t[a]=this[a])}if(null!=o){var s=this.lineWidth;t.lineWidth=s/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}null!=n&&(t.fillStyle=n.canvasGradient?n.canvasGradient:n),null!=o&&(t.strokeStyle=o.canvasGradient?o.canvasGradient:o),null!=this.opacity&&(t.globalAlpha=this.opacity)},extendFrom:function(t,e){if(t){var i=this;for(var n in t)!t.hasOwnProperty(n)||!e&&i.hasOwnProperty(n)||(i[n]=t[n])}},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t}};var o,r,a=n.prototype;for(r=0;r<i.length;r++)o=i[r],o in a||(a[o]=null);t.exports=n},function(t,e,i){function n(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function o(t,e){t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}var r=i(14),a=i(15),s=new a,l=function(){};l.prototype={constructor:l,drawRectText:function(t,e,i){var a=this.style,l=a.text;if(null!=l&&(l+=""),l){var c,h,u=a.textPosition,d=a.textDistance,f=a.textAlign,p=a.textFont||a.font,g=a.textBaseline,m=a.textVerticalAlign;i=i||r.getBoundingRect(l,p,f,g);var v=this.transform,y=this.invTransform;if(v&&(s.copy(e),s.applyTransform(v),e=s,o(t,y)),u instanceof Array)c=e.x+n(u[0],e.width),h=e.y+n(u[1],e.height),f=f||"left",g=g||"top";else{var x=r.adjustTextPositionOnRect(u,e,i,d);c=x.x,h=x.y,f=f||x.textAlign,g=g||x.textBaseline}if(t.textAlign=f,m){switch(m){case"middle":h-=i.height/2;break;case"bottom":h-=i.height}t.textBaseline="top"}else t.textBaseline=g;var b=a.textFill,w=a.textStroke;b&&(t.fillStyle=b),w&&(t.strokeStyle=w),t.font=p,t.shadowColor=a.textShadowColor,t.shadowBlur=a.textShadowBlur,t.shadowOffsetX=a.textShadowOffsetX,t.shadowOffsetY=a.textShadowOffsetY;for(var _=l.split("\n"),T=0;T<_.length;T++)b&&t.fillText(_[T],c,h),w&&t.strokeText(_[T],c,h),h+=i.lineHeight;v&&o(t,v)}}},t.exports=l},function(t,e,i){"use strict";var n=i(49),o=i(16),r=i(50),a=i(15),s={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},l=[],c=[],h=[],u=[],d=Math.min,f=Math.max,p=Math.cos,g=Math.sin,m=Math.sqrt,v="undefined"!=typeof Float32Array,y=function(){this.data=[],this._len=0,this._ctx=null,this._xi=0,this._yi=0,this._x0=0,this._y0=0};y.prototype={constructor:y,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),this._len=0,this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(s.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){return this.addData(s.L,t,e),this._ctx&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),this._xi=t,this._yi=e,this},bezierCurveTo:function(t,e,i,n,o,r){return this.addData(s.C,t,e,i,n,o,r),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,i,n,o,r):this._ctx.bezierCurveTo(t,e,i,n,o,r)),this._xi=o,this._yi=r,this},quadraticCurveTo:function(t,e,i,n){return this.addData(s.Q,t,e,i,n),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,i,n):this._ctx.quadraticCurveTo(t,e,i,n)),this._xi=i,this._yi=n,this},arc:function(t,e,i,n,o,r){return this.addData(s.A,t,e,i,i,n,o-n,0,r?0:1),this._ctx&&this._ctx.arc(t,e,i,n,o,r),this._xi=p(o)*i+t,this._xi=g(o)*i+t,this},arcTo:function(t,e,i,n,o){return this._ctx&&this._ctx.arcTo(t,e,i,n,o),this},rect:function(t,e,i,n){return this._ctx&&this._ctx.rect(t,e,i,n),this.addData(s.R,t,e,i,n),this},closePath:function(){this.addData(s.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length==e||!v||(this.data=new Float32Array(e));for(var i=0;e>i;i++)this.data[i]=t[i];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,n=this._len,o=0;e>o;o++)i+=t[o].len();v&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+i));for(var o=0;e>o;o++)for(var r=t[o].data,a=0;a<r.length;a++)this.data[n++]=r[a];this._len=n},addData:function(t){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var i=0;i<arguments.length;i++)e[this._len++]=arguments[i];this._prevCmd=t},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var i,n,o=this._dashSum,r=this._dashOffset,a=this._lineDash,s=this._ctx,l=this._xi,c=this._yi,h=t-l,u=e-c,p=m(h*h+u*u),g=l,v=c,y=a.length;for(h/=p,u/=p,0>r&&(r=o+r),r%=o,g-=r*h,v-=r*u;h>=0&&t>=g||0>h&&g>t;)n=this._dashIdx,i=a[n],g+=h*i,v+=u*i,this._dashIdx=(n+1)%y,h>0&&l>g||0>h&&g>l||s[n%2?"moveTo":"lineTo"](h>=0?d(g,t):f(g,t),u>=0?d(v,e):f(v,e));h=g-t,u=v-e,this._dashOffset=-m(h*h+u*u)},_dashedBezierTo:function(t,e,i,o,r,a){var s,l,c,h,u,d=this._dashSum,f=this._dashOffset,p=this._lineDash,g=this._ctx,v=this._xi,y=this._yi,x=n.cubicAt,b=0,w=this._dashIdx,_=p.length,T=0;for(0>f&&(f=d+f),f%=d,s=0;1>s;s+=.1)l=x(v,t,i,r,s+.1)-x(v,t,i,r,s),c=x(y,e,o,a,s+.1)-x(y,e,o,a,s),b+=m(l*l+c*c);for(;_>w&&(T+=p[w],!(T>f));w++);for(s=(T-f)/b;1>=s;)h=x(v,t,i,r,s),u=x(y,e,o,a,s),w%2?g.moveTo(h,u):g.lineTo(h,u),s+=p[w]/b,w=(w+1)%_;w%2!==0&&g.lineTo(r,a),l=r-h,c=a-u,this._dashOffset=-m(l*l+c*c)},_dashedQuadraticTo:function(t,e,i,n){var o=i,r=n;i=(i+2*t)/3,n=(n+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,i,n,o,r)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,v&&(this.data=new Float32Array(t)))},getBoundingRect:function(){l[0]=l[1]=h[0]=h[1]=Number.MAX_VALUE,c[0]=c[1]=u[0]=u[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,i=0,n=0,d=0,f=0;f<t.length;){var m=t[f++];switch(1==f&&(e=t[f],i=t[f+1],n=e,d=i),m){case s.M:n=t[f++],d=t[f++],e=n,i=d,h[0]=n,h[1]=d,u[0]=n,u[1]=d;break;case s.L:r.fromLine(e,i,t[f],t[f+1],h,u),e=t[f++],i=t[f++];break;case s.C:r.fromCubic(e,i,t[f++],t[f++],t[f++],t[f++],t[f],t[f+1],h,u),e=t[f++],i=t[f++];break;case s.Q:r.fromQuadratic(e,i,t[f++],t[f++],t[f],t[f+1],h,u),e=t[f++],i=t[f++];break;case s.A:var v=t[f++],y=t[f++],x=t[f++],b=t[f++],w=t[f++],_=t[f++]+w,T=(t[f++],1-t[f++]);1==f&&(n=p(w)*x+v,d=g(w)*b+y),r.fromArc(v,y,x,b,w,_,T,h,u),e=p(_)*x+v,i=g(_)*b+y;break;case s.R:n=e=t[f++],d=i=t[f++];var S=t[f++],C=t[f++];r.fromLine(n,d,n+S,d+C,h,u);break;case s.Z:e=n,i=d}o.min(l,l,h),o.max(c,c,u)}return 0===f&&(l[0]=l[1]=c[0]=c[1]=0),new a(l[0],l[1],c[0]-l[0],c[1]-l[1])},rebuildPath:function(t){for(var e=this.data,i=0;i<this._len;){var n=e[i++];switch(n){case s.M:t.moveTo(e[i++],e[i++]);break;case s.L:t.lineTo(e[i++],e[i++]);break;case s.C:t.bezierCurveTo(e[i++],e[i++],e[i++],e[i++],e[i++],e[i++]);break;case s.Q:t.quadraticCurveTo(e[i++],e[i++],e[i++],e[i++]);break;case s.A:var o=e[i++],r=e[i++],a=e[i++],l=e[i++],c=e[i++],h=e[i++],u=e[i++],d=e[i++],f=a>l?a:l,p=a>l?1:a/l,g=a>l?l/a:1,m=Math.abs(a-l)>.001;m?(t.translate(o,r),t.rotate(u),t.scale(p,g),t.arc(0,0,f,c,c+h,1-d),t.scale(1/p,1/g),t.rotate(-u),t.translate(-o,-r)):t.arc(o,r,f,c,c+h,1-d);break;case s.R:t.rect(e[i++],e[i++],e[i++],e[i++]);break;case s.Z:t.closePath()}}}},y.CMD=s,t.exports=y},function(t,e,i){"use strict";function n(t){return t>-_&&_>t}function o(t){return t>_||-_>t}function r(t,e,i,n,o){var r=1-o;return r*r*(r*t+3*o*e)+o*o*(o*n+3*r*i)}function a(t,e,i,n,o){var r=1-o;return 3*(((e-t)*r+2*(i-e)*o)*r+(n-i)*o*o)}function s(t,e,i,o,r,a){var s=o+3*(e-i)-t,l=3*(i-2*e+t),c=3*(e-t),h=t-r,u=l*l-3*s*c,d=l*c-9*s*h,f=c*c-3*l*h,p=0;if(n(u)&&n(d))if(n(l))a[0]=0;else{var g=-c/l;g>=0&&1>=g&&(a[p++]=g)}else{var m=d*d-4*u*f;if(n(m)){var v=d/u,g=-l/s+v,y=-v/2;g>=0&&1>=g&&(a[p++]=g),y>=0&&1>=y&&(a[p++]=y)}else if(m>0){var x=w(m),_=u*l+1.5*s*(-d+x),T=u*l+1.5*s*(-d-x);_=0>_?-b(-_,C):b(_,C),T=0>T?-b(-T,C):b(T,C);var g=(-l-(_+T))/(3*s);g>=0&&1>=g&&(a[p++]=g)}else{var k=(2*u*l-3*s*d)/(2*w(u*u*u)),M=Math.acos(k)/3,A=w(u),D=Math.cos(M),g=(-l-2*A*D)/(3*s),y=(-l+A*(D+S*Math.sin(M)))/(3*s),I=(-l+A*(D-S*Math.sin(M)))/(3*s);g>=0&&1>=g&&(a[p++]=g),y>=0&&1>=y&&(a[p++]=y),I>=0&&1>=I&&(a[p++]=I)}}return p}function l(t,e,i,r,a){var s=6*i-12*e+6*t,l=9*e+3*r-3*t-9*i,c=3*e-3*t,h=0;if(n(l)){if(o(s)){var u=-c/s;u>=0&&1>=u&&(a[h++]=u)}}else{var d=s*s-4*l*c;if(n(d))a[0]=-s/(2*l);else if(d>0){var f=w(d),u=(-s+f)/(2*l),p=(-s-f)/(2*l);u>=0&&1>=u&&(a[h++]=u),p>=0&&1>=p&&(a[h++]=p)}}return h}function c(t,e,i,n,o,r){var a=(e-t)*o+t,s=(i-e)*o+e,l=(n-i)*o+i,c=(s-a)*o+a,h=(l-s)*o+s,u=(h-c)*o+c;r[0]=t,r[1]=a,r[2]=c,r[3]=u,r[4]=u,r[5]=h,r[6]=l,r[7]=n}function h(t,e,i,n,o,a,s,l,c,h,u){var d,f,p,g,m,v=.005,y=1/0;k[0]=c,k[1]=h;for(var b=0;1>b;b+=.05)M[0]=r(t,i,o,s,b),M[1]=r(e,n,a,l,b),g=x(k,M),y>g&&(d=b,y=g);y=1/0;for(var _=0;32>_&&!(T>v);_++)f=d-v,p=d+v,M[0]=r(t,i,o,s,f),M[1]=r(e,n,a,l,f),g=x(M,k),f>=0&&y>g?(d=f,y=g):(A[0]=r(t,i,o,s,p),A[1]=r(e,n,a,l,p),m=x(A,k),1>=p&&y>m?(d=p,y=m):v*=.5);return u&&(u[0]=r(t,i,o,s,d),u[1]=r(e,n,a,l,d)),w(y)}function u(t,e,i,n){var o=1-n;return o*(o*t+2*n*e)+n*n*i}function d(t,e,i,n){return 2*((1-n)*(e-t)+n*(i-e))}function f(t,e,i,r,a){var s=t-2*e+i,l=2*(e-t),c=t-r,h=0;if(n(s)){if(o(l)){var u=-c/l;u>=0&&1>=u&&(a[h++]=u)}}else{var d=l*l-4*s*c;if(n(d)){var u=-l/(2*s);u>=0&&1>=u&&(a[h++]=u)}else if(d>0){var f=w(d),u=(-l+f)/(2*s),p=(-l-f)/(2*s);u>=0&&1>=u&&(a[h++]=u),p>=0&&1>=p&&(a[h++]=p)}}return h}function p(t,e,i){var n=t+i-2*e;return 0===n?.5:(t-e)/n}function g(t,e,i,n,o){var r=(e-t)*n+t,a=(i-e)*n+e,s=(a-r)*n+r;o[0]=t,o[1]=r,o[2]=s,o[3]=s,o[4]=a,o[5]=i}function m(t,e,i,n,o,r,a,s,l){var c,h=.005,d=1/0;k[0]=a,k[1]=s;for(var f=0;1>f;f+=.05){M[0]=u(t,i,o,f),M[1]=u(e,n,r,f);var p=x(k,M);d>p&&(c=f,d=p)}d=1/0;for(var g=0;32>g&&!(T>h);g++){var m=c-h,v=c+h;M[0]=u(t,i,o,m),M[1]=u(e,n,r,m);var p=x(M,k);if(m>=0&&d>p)c=m,d=p;else{A[0]=u(t,i,o,v),A[1]=u(e,n,r,v);var y=x(A,k);1>=v&&d>y?(c=v,d=y):h*=.5}}return l&&(l[0]=u(t,i,o,c),l[1]=u(e,n,r,c)),w(d)}var v=i(16),y=v.create,x=v.distSquare,b=Math.pow,w=Math.sqrt,_=1e-8,T=1e-4,S=w(3),C=1/3,k=y(),M=y(),A=y();t.exports={cubicAt:r,cubicDerivativeAt:a,cubicRootAt:s,cubicExtrema:l,cubicSubdivide:c,cubicProjectPoint:h,quadraticAt:u,quadraticDerivativeAt:d,quadraticRootAt:f,quadraticExtremum:p,quadraticSubdivide:g,quadraticProjectPoint:m}},function(t,e,i){var n=i(16),o=i(49),r={},a=Math.min,s=Math.max,l=Math.sin,c=Math.cos,h=n.create(),u=n.create(),d=n.create(),f=2*Math.PI;r.fromPoints=function(t,e,i){if(0!==t.length){var n,o=t[0],r=o[0],l=o[0],c=o[1],h=o[1];for(n=1;n<t.length;n++)o=t[n],r=a(r,o[0]),l=s(l,o[0]),c=a(c,o[1]),h=s(h,o[1]);e[0]=r,e[1]=c,i[0]=l,i[1]=h}},r.fromLine=function(t,e,i,n,o,r){o[0]=a(t,i),o[1]=a(e,n),r[0]=s(t,i),r[1]=s(e,n)};var p=[],g=[];r.fromCubic=function(t,e,i,n,r,l,c,h,u,d){var f,m=o.cubicExtrema,v=o.cubicAt,y=m(t,i,r,c,p);for(u[0]=1/0,u[1]=1/0,d[0]=-(1/0),d[1]=-(1/0),f=0;y>f;f++){var x=v(t,i,r,c,p[f]);u[0]=a(x,u[0]),d[0]=s(x,d[0])}for(y=m(e,n,l,h,g),f=0;y>f;f++){var b=v(e,n,l,h,g[f]);u[1]=a(b,u[1]),d[1]=s(b,d[1])}u[0]=a(t,u[0]),d[0]=s(t,d[0]),u[0]=a(c,u[0]),d[0]=s(c,d[0]),u[1]=a(e,u[1]),d[1]=s(e,d[1]),u[1]=a(h,u[1]),d[1]=s(h,d[1])},r.fromQuadratic=function(t,e,i,n,r,l,c,h){var u=o.quadraticExtremum,d=o.quadraticAt,f=s(a(u(t,i,r),1),0),p=s(a(u(e,n,l),1),0),g=d(t,i,r,f),m=d(e,n,l,p);c[0]=a(t,r,g),c[1]=a(e,l,m),h[0]=s(t,r,g),h[1]=s(e,l,m)},r.fromArc=function(t,e,i,o,r,a,s,p,g){var m=n.min,v=n.max,y=Math.abs(r-a);if(1e-4>y%f&&y>1e-4)return p[0]=t-i,p[1]=e-o,g[0]=t+i,void(g[1]=e+o);if(h[0]=c(r)*i+t,h[1]=l(r)*o+e,u[0]=c(a)*i+t,u[1]=l(a)*o+e,m(p,h,u),v(g,h,u),r%=f,0>r&&(r+=f),a%=f,0>a&&(a+=f),r>a&&!s?a+=f:a>r&&s&&(r+=f),s){var x=a;a=r,r=x}for(var b=0;a>b;b+=Math.PI/2)b>r&&(d[0]=c(b)*i+t,d[1]=l(b)*o+e,m(p,d,p),v(g,d,g))},t.exports=r},function(t,e,i){"use strict";function n(t,e){return Math.abs(t-e)<x}function o(){var t=w[0];w[0]=w[1],w[1]=t}function r(t,e,i,n,r,a,s,l,c,h){if(h>e&&h>n&&h>a&&h>l||e>h&&n>h&&a>h&&l>h)return 0;var u=g.cubicRootAt(e,n,a,l,h,b);if(0===u)return 0;for(var d,f,p=0,m=-1,v=0;u>v;v++){var y=b[v],x=g.cubicAt(t,i,r,s,y);c>x||(0>m&&(m=g.cubicExtrema(e,n,a,l,w),w[1]<w[0]&&m>1&&o(),d=g.cubicAt(e,n,a,l,w[0]),m>1&&(f=g.cubicAt(e,n,a,l,w[1]))),p+=2==m?y<w[0]?e>d?1:-1:y<w[1]?d>f?1:-1:f>l?1:-1:y<w[0]?e>d?1:-1:d>l?1:-1)}return p}function a(t,e,i,n,o,r,a,s){if(s>e&&s>n&&s>r||e>s&&n>s&&r>s)return 0;var l=g.quadraticRootAt(e,n,r,s,b);if(0===l)return 0;var c=g.quadraticExtremum(e,n,r);if(c>=0&&1>=c){for(var h=0,u=g.quadraticAt(e,n,r,c),d=0;l>d;d++){var f=g.quadraticAt(t,i,o,b[d]);a>f||(h+=b[d]<c?e>u?1:-1:u>r?1:-1)}return h}var f=g.quadraticAt(t,i,o,b[0]);return a>f?0:e>r?1:-1}function s(t,e,i,n,o,r,a,s){if(s-=e,s>i||-i>s)return 0;var l=Math.sqrt(i*i-s*s);b[0]=-l,b[1]=l;var c=Math.abs(n-o);if(1e-4>c)return 0;if(1e-4>c%y){n=0,o=y;var h=r?1:-1;return a>=b[0]+t&&a<=b[1]+t?h:0}if(r){var l=n;n=p(o),o=p(l)}else n=p(n),o=p(o);n>o&&(o+=y);for(var u=0,d=0;2>d;d++){var f=b[d];if(f+t>a){var g=Math.atan2(s,f),h=r?1:-1;0>g&&(g=y+g),(g>=n&&o>=g||g+y>=n&&o>=g+y)&&(g>Math.PI/2&&g<1.5*Math.PI&&(h=-h),u+=h)}}return u}function l(t,e,i,o,l){for(var h=0,p=0,g=0,y=0,x=0,b=0;b<t.length;){var w=t[b++];if(w===c.M&&b>1&&(i||(h+=m(p,g,y,x,o,l)),0!==h))return!0;switch(1==b&&(p=t[b],g=t[b+1],y=p,x=g),w){case c.M:y=t[b++],x=t[b++],p=y,g=x;break;case c.L:if(i){if(v(p,g,t[b],t[b+1],e,o,l))return!0}else h+=m(p,g,t[b],t[b+1],o,l)||0;p=t[b++],g=t[b++];break;case c.C:if(i){if(u.containStroke(p,g,t[b++],t[b++],t[b++],t[b++],t[b],t[b+1],e,o,l))return!0}else h+=r(p,g,t[b++],t[b++],t[b++],t[b++],t[b],t[b+1],o,l)||0;p=t[b++],g=t[b++];break;case c.Q:if(i){if(d.containStroke(p,g,t[b++],t[b++],t[b],t[b+1],e,o,l))return!0}else h+=a(p,g,t[b++],t[b++],t[b],t[b+1],o,l)||0;p=t[b++],g=t[b++];break;case c.A:var _=t[b++],T=t[b++],S=t[b++],C=t[b++],k=t[b++],M=t[b++],A=(t[b++],1-t[b++]),D=Math.cos(k)*S+_,I=Math.sin(k)*C+T;b>1?h+=m(p,g,D,I,o,l):(y=D,x=I);var L=(o-_)*C/S+_;if(i){if(f.containStroke(_,T,C,k,k+M,A,e,L,l))return!0}else h+=s(_,T,C,k,k+M,A,L,l);p=Math.cos(k+M)*S+_,g=Math.sin(k+M)*C+T;break;case c.R:y=p=t[b++],x=g=t[b++];var P=t[b++],N=t[b++],D=y+P,I=x+N;if(i){if(v(y,x,D,x,e,o,l)||v(D,x,D,I,e,o,l)||v(D,I,y,I,e,o,l)||v(y,I,D,I,e,o,l))return!0}else h+=m(D,x,D,I,o,l),h+=m(y,I,y,x,o,l);break;case c.Z:if(i){if(v(p,g,y,x,e,o,l))return!0}else if(h+=m(p,g,y,x,o,l),0!==h)return!0;p=y,g=x}}return i||n(g,x)||(h+=m(p,g,y,x,o,l)||0),0!==h}var c=i(48).CMD,h=i(52),u=i(53),d=i(54),f=i(55),p=i(56).normalizeRadian,g=i(49),m=i(57),v=h.containStroke,y=2*Math.PI,x=1e-4,b=[-1,-1,-1],w=[-1,-1];t.exports={contain:function(t,e,i){return l(t,0,!1,e,i)},containStroke:function(t,e,i,n){return l(t,e,!0,i,n)}}},function(t,e){t.exports={containStroke:function(t,e,i,n,o,r,a){if(0===o)return!1;var s=o,l=0,c=t;if(a>e+s&&a>n+s||e-s>a&&n-s>a||r>t+s&&r>i+s||t-s>r&&i-s>r)return!1;if(t===i)return Math.abs(r-t)<=s/2;l=(e-n)/(t-i),c=(t*n-i*e)/(t-i);var h=l*r-a+c,u=h*h/(l*l+1);return s/2*s/2>=u}}},function(t,e,i){var n=i(49);t.exports={containStroke:function(t,e,i,o,r,a,s,l,c,h,u){if(0===c)return!1;var d=c;if(u>e+d&&u>o+d&&u>a+d&&u>l+d||e-d>u&&o-d>u&&a-d>u&&l-d>u||h>t+d&&h>i+d&&h>r+d&&h>s+d||t-d>h&&i-d>h&&r-d>h&&s-d>h)return!1;var f=n.cubicProjectPoint(t,e,i,o,r,a,s,l,h,u,null);return d/2>=f}}},function(t,e,i){var n=i(49);t.exports={containStroke:function(t,e,i,o,r,a,s,l,c){if(0===s)return!1;var h=s;if(c>e+h&&c>o+h&&c>a+h||e-h>c&&o-h>c&&a-h>c||l>t+h&&l>i+h&&l>r+h||t-h>l&&i-h>l&&r-h>l)return!1;var u=n.quadraticProjectPoint(t,e,i,o,r,a,l,c,null);return h/2>=u}}},function(t,e,i){var n=i(56).normalizeRadian,o=2*Math.PI;t.exports={containStroke:function(t,e,i,r,a,s,l,c,h){if(0===l)return!1;var u=l;c-=t,h-=e;var d=Math.sqrt(c*c+h*h);if(d-u>i||i>d+u)return!1;if(Math.abs(r-a)%o<1e-4)return!0;if(s){var f=r;r=n(a),a=n(f)}else r=n(r),a=n(a);r>a&&(a+=o);var p=Math.atan2(h,c);return 0>p&&(p+=o),p>=r&&a>=p||p+o>=r&&a>=p+o}}},function(t,e){var i=2*Math.PI;t.exports={normalizeRadian:function(t){return t%=i,0>t&&(t+=i),t}}},function(t,e){t.exports=function(t,e,i,n,o,r){if(r>e&&r>n||e>r&&n>r)return 0;if(n===e)return 0;var a=e>n?1:-1,s=(r-e)/(n-e),l=s*(i-t)+t;return l>o?a:0}},function(t,e,i){function n(t,e){var i,n,r,h,u,d,f=t.data,p=o.M,g=o.C,m=o.L,v=o.R,y=o.A,x=o.Q;for(r=0,h=0;r<f.length;){switch(i=f[r++],h=r,n=0,i){case p:n=1;break;case m:n=1;break;case g:n=3;break;case x:n=2;break;case y:var b=e[4],w=e[5],_=l(e[0]*e[0]+e[1]*e[1]),T=l(e[2]*e[2]+e[3]*e[3]),S=c(-e[1]/T,e[0]/_);f[r++]+=b,f[r++]+=w,f[r++]*=_,f[r++]*=T,f[r++]+=S,f[r++]+=S,r+=2,h=r;break;case v:d[0]=f[r++],d[1]=f[r++],a(d,d,e),f[h++]=d[0],f[h++]=d[1],d[0]+=f[r++],d[1]+=f[r++],a(d,d,e),f[h++]=d[0],f[h++]=d[1]}for(u=0;n>u;u++){var d=s[u];d[0]=f[r++],d[1]=f[r++],a(d,d,e),f[h++]=d[0],f[h++]=d[1]}}}var o=i(48).CMD,r=i(16),a=r.applyTransform,s=[[],[],[]],l=Math.sqrt,c=Math.atan2;t.exports=n},function(t,e,i){function n(t){o.call(this,t)}var o=i(45),r=i(15),a=i(3),s=i(60),l=i(61),c=new l(50);n.prototype={constructor:n,type:"image",brush:function(t){var e,i=this.style,n=i.image;if(e="string"==typeof n?this._image:n,!e&&n){var o=c.get(n);if(!o)return e=new Image,e.onload=function(){e.onload=null;for(var t=0;t<o.pending.length;t++)o.pending[t].dirty()},o={image:e,pending:[this]},e.src=n,c.put(n,o),void(this._image=e);if(e=o.image,this._image=e,!e.width||!e.height)return void o.pending.push(this)}if(e){var r=i.width||e.width,a=i.height||e.height,l=i.x||0,h=i.y||0;if(!e.width||!e.height)return;if(t.save(),i.bind(t),this.setTransform(t),i.r&&(t.beginPath(),s.buildPath(t,i),t.clip()),i.sWidth&&i.sHeight){var u=i.sx||0,d=i.sy||0;t.drawImage(e,u,d,i.sWidth,i.sHeight,l,h,r,a)}else if(i.sx&&i.sy){var u=i.sx,d=i.sy,f=r-u,p=a-d;t.drawImage(e,u,d,f,p,l,h,r,a)}else t.drawImage(e,l,h,r,a);null==i.width&&(i.width=r),null==i.height&&(i.height=a),null!=i.text&&this.drawRectText(t,this.getBoundingRect()),t.restore()}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new r(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},a.inherits(n,o),t.exports=n},function(t,e){t.exports={buildPath:function(t,e){var i,n,o,r,a=e.x,s=e.y,l=e.width,c=e.height,h=e.r;0>l&&(a+=l,l=-l),0>c&&(s+=c,c=-c),"number"==typeof h?i=n=o=r=h:h instanceof Array?1===h.length?i=n=o=r=h[0]:2===h.length?(i=o=h[0],n=r=h[1]):3===h.length?(i=h[0],n=r=h[1],o=h[2]):(i=h[0],n=h[1],o=h[2],r=h[3]):i=n=o=r=0;var u;i+n>l&&(u=i+n,i*=l/u,n*=l/u),o+r>l&&(u=o+r,o*=l/u,r*=l/u),n+o>c&&(u=n+o,n*=c/u,o*=c/u),i+r>c&&(u=i+r,i*=c/u,r*=c/u),t.moveTo(a+i,s),t.lineTo(a+l-n,s),0!==n&&t.quadraticCurveTo(a+l,s,a+l,s+n),t.lineTo(a+l,s+c-o),0!==o&&t.quadraticCurveTo(a+l,s+c,a+l-o,s+c),t.lineTo(a+r,s+c),0!==r&&t.quadraticCurveTo(a,s+c,a,s+c-r),t.lineTo(a,s+i),0!==i&&t.quadraticCurveTo(a,s,a+i,s)}}},function(t,e){var i=function(){this.head=null,this.tail=null,this._len=0},n=i.prototype;n.insert=function(t){var e=new o(t);return this.insertEntry(e),e},n.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,this.tail=t):this.head=this.tail=t,this._len++},n.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},n.len=function(){return this._len};var o=function(t){this.value=t,this.next,this.prev},r=function(t){this._list=new i,this._map={},this._maxSize=t||10},a=r.prototype;a.put=function(t,e){var i=this._list,n=this._map;if(null==n[t]){var o=i.len();if(o>=this._maxSize&&o>0){var r=i.head;i.remove(r),delete n[r.key]}var a=i.insert(e);a.key=t,n[t]=a}},a.get=function(t){var e=this._map[t],i=this._list;return null!=e?(e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value):void 0},a.clear=function(){this._list.clear(),this._map={}},t.exports=r},function(t,e,i){var n=i(45),o=i(3),r=i(14),a=function(t){n.call(this,t)};a.prototype={constructor:a,type:"text",brush:function(t){var e=this.style,i=e.x||0,n=e.y||0,o=e.text,a=e.fill,s=e.stroke;if(null!=o&&(o+=""),o){if(t.save(),this.style.bind(t),this.setTransform(t),a&&(t.fillStyle=a),s&&(t.strokeStyle=s),t.font=e.textFont||e.font,t.textAlign=e.textAlign,e.textVerticalAlign){var l=r.getBoundingRect(o,t.font,e.textAlign,"top");switch(t.textBaseline="top",e.textVerticalAlign){case"middle":n-=l.height/2;break;case"bottom":n-=l.height}}else t.textBaseline=e.textBaseline;for(var c=r.measureText("国",t.font).width,h=o.split("\n"),u=0;u<h.length;u++)a&&t.fillText(h[u],i,n),s&&t.strokeText(h[u],i,n),n+=c;t.restore()}},getBoundingRect:function(){if(!this._rect){var t=this.style,e=t.textVerticalAlign,i=r.getBoundingRect(t.text+"",t.textFont||t.font,t.textAlign,e?"top":t.textBaseline);switch(e){case"middle":i.y-=i.height/2;break;case"bottom":i.y-=i.height}i.x+=t.x||0,i.y+=t.y||0,this._rect=i}return this._rect}},o.inherits(a,n),t.exports=a},function(t,e,i){"use strict";t.exports=i(44).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e){t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}})},function(t,e,i){t.exports=i(44).extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=Math.max(e.r0||0,0),r=Math.max(e.r,0),a=e.startAngle,s=e.endAngle,l=e.clockwise,c=Math.cos(a),h=Math.sin(a);t.moveTo(c*o+i,h*o+n),t.lineTo(c*r+i,h*r+n),t.arc(i,n,r,a,s,!l),t.lineTo(Math.cos(s)*o+i,Math.sin(s)*o+n),0!==o&&t.arc(i,n,o,s,a,l),t.closePath()}})},function(t,e,i){t.exports=i(44).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=2*Math.PI;t.moveTo(i+e.r,n),t.arc(i,n,e.r,0,o,!1),t.moveTo(i+e.r0,n),t.arc(i,n,e.r0,0,o,!0)}})},function(t,e,i){var n=i(67);t.exports=i(44).extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){n.buildPath(t,e,!0)}})},function(t,e,i){var n=i(68),o=i(69);t.exports={buildPath:function(t,e,i){var r=e.points,a=e.smooth;if(r&&r.length>=2){if(a&&"spline"!==a){var s=o(r,a,i,e.smoothConstraint);t.moveTo(r[0][0],r[0][1]);for(var l=r.length,c=0;(i?l:l-1)>c;c++){var h=s[2*c],u=s[2*c+1],d=r[(c+1)%l];t.bezierCurveTo(h[0],h[1],u[0],u[1],d[0],d[1])}}else{"spline"===a&&(r=n(r,i)),t.moveTo(r[0][0],r[0][1]);for(var c=1,f=r.length;f>c;c++)t.lineTo(r[c][0],r[c][1])}i&&t.closePath()}}}},function(t,e,i){function n(t,e,i,n,o,r,a){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*a+(-3*(e-i)-2*s-l)*r+s*o+e}var o=i(16);t.exports=function(t,e){for(var i=t.length,r=[],a=0,s=1;i>s;s++)a+=o.distance(t[s-1],t[s]);var l=a/2;l=i>l?i:l;for(var s=0;l>s;s++){var c,h,u,d=s/(l-1)*(e?i:i-1),f=Math.floor(d),p=d-f,g=t[f%i];e?(c=t[(f-1+i)%i],h=t[(f+1)%i],u=t[(f+2)%i]):(c=t[0===f?f:f-1],h=t[f>i-2?i-1:f+1],u=t[f>i-3?i-1:f+2]);var m=p*p,v=p*m;r.push([n(c[0],g[0],h[0],u[0],p,m,v),n(c[1],g[1],h[1],u[1],p,m,v)])}return r}},function(t,e,i){var n=i(16),o=n.min,r=n.max,a=n.scale,s=n.distance,l=n.add;t.exports=function(t,e,i,c){var h,u,d,f,p=[],g=[],m=[],v=[];if(c){d=[1/0,1/0],f=[-(1/0),-(1/0)];for(var y=0,x=t.length;x>y;y++)o(d,d,t[y]),r(f,f,t[y]);o(d,d,c[0]),r(f,f,c[1])}for(var y=0,x=t.length;x>y;y++){var b=t[y];if(i)h=t[y?y-1:x-1],u=t[(y+1)%x];else{if(0===y||y===x-1){p.push(n.clone(t[y]));continue}h=t[y-1],u=t[y+1]}n.sub(g,u,h),a(g,g,e);var w=s(b,h),_=s(b,u),T=w+_;0!==T&&(w/=T,_/=T),a(m,g,-w),a(v,g,_);var S=l([],b,m),C=l([],b,v);c&&(r(S,S,d),o(S,S,f),r(C,C,d),o(C,C,f)),p.push(S),p.push(C)}return i&&p.push(p.shift()),p}},function(t,e,i){var n=i(67);t.exports=i(44).extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){n.buildPath(t,e,!1)}})},function(t,e,i){var n=i(60);t.exports=i(44).extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,o=e.y,r=e.width,a=e.height;e.r?n.buildPath(t,e):t.rect(i,o,r,a),t.closePath()}})},function(t,e,i){t.exports=i(44).extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.x1,n=e.y1,o=e.x2,r=e.y2,a=e.percent;0!==a&&(t.moveTo(i,n),1>a&&(o=i*(1-a)+o*a,r=n*(1-a)+r*a),t.lineTo(o,r))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}})},function(t,e,i){"use strict";var n=i(49),o=n.quadraticSubdivide,r=n.cubicSubdivide,a=n.quadraticAt,s=n.cubicAt,l=[];t.exports=i(44).extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.x1,n=e.y1,a=e.x2,s=e.y2,c=e.cpx1,h=e.cpy1,u=e.cpx2,d=e.cpy2,f=e.percent;0!==f&&(t.moveTo(i,n),null==u||null==d?(1>f&&(o(i,c,a,f,l),c=l[1],a=l[2],o(n,h,s,f,l),h=l[1],s=l[2]),t.quadraticCurveTo(c,h,a,s)):(1>f&&(r(i,c,u,a,f,l),c=l[1],u=l[2],a=l[3],r(n,h,d,s,f,l),h=l[1],d=l[2],s=l[3]),t.bezierCurveTo(c,h,u,d,a,s)))},pointAt:function(t){var e=this.shape,i=e.cpx2,n=e.cpy2;return null===i||null===n?[a(e.x1,e.cpx1,e.x2,t),a(e.y1,e.cpy1,e.y2,t)]:[s(e.x1,e.cpx1,e.cpx1,e.x2,t),s(e.y1,e.cpy1,e.cpy1,e.y2,t)]}})},function(t,e,i){t.exports=i(44).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.cx,n=e.cy,o=Math.max(e.r,0),r=e.startAngle,a=e.endAngle,s=e.clockwise,l=Math.cos(r),c=Math.sin(r);t.moveTo(l*o+i,c*o+n),t.arc(i,n,o,r,a,!s)}})},function(t,e,i){"use strict";var n=i(3),o=i(4),r=function(t,e,i,n,r){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==i?1:i,this.y2=null==n?0:n,o.call(this,r)};r.prototype={constructor:r,type:"linear",updateCanvasGradient:function(t,e){for(var i=t.getBoundingRect(),n=this.x*i.width+i.x,o=this.x2*i.width+i.x,r=this.y*i.height+i.y,a=this.y2*i.height+i.y,s=e.createLinearGradient(n,r,o,a),l=this.colorStops,c=0;c<l.length;c++)s.addColorStop(l[c].offset,l[c].color);this.canvasGradient=s}},n.inherits(r,o),t.exports=r},function(t,e,i){"use strict";var n=i(3),o=i(4),r=function(t,e,i,n){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==i?.5:i,o.call(this,n)};r.prototype={constructor:r,type:"radial",updateCanvasGradient:function(t,e){for(var i=t.getBoundingRect(),n=i.width,o=i.height,r=Math.min(n,o),a=this.x*n+i.x,s=this.y*o+i.y,l=this.r*r,c=e.createRadialGradient(a,s,0,a,s,l),h=this.colorStops,u=0;u<h.length;u++)c.addColorStop(h[u].offset,h[u].color);this.canvasGradient=c}},n.inherits(r,o),t.exports=r},function(t,e,i){function n(t){delete u[t]}var o=i(31),r=i(78),a=i(79),s=i(83),l=i(84),c=!r.canvasSupported,h={canvas:i(85)},u={},d={};d.version="3.0.7",d.init=function(t,e){var i=new f(o(),t,e);return u[i.id]=i,i},d.dispose=function(t){if(t)t.dispose();else{for(var e in u)u[e].dispose();u={}}return d},d.getInstance=function(t){return u[t]},d.registerPainter=function(t,e){h[t]=e};var f=function(t,e,i){i=i||{},this.dom=e,this.id=t;var n=this,o=new s,u=i.renderer;if(c){if(!h.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");u="vml"}else u&&h[u]||(u="canvas");var d=new h[u](e,o,i);this.storage=o,this.painter=d,r.node||(this.handler=new a(d.getViewportRoot(),o,d)),this.animation=new l({stage:{update:function(){n._needsRefresh&&n.refreshImmediately()}}}),this.animation.start(),this._needsRefresh;var f=o.delFromMap,p=o.addToMap;o.delFromMap=function(t){var e=o.get(t);f.call(o,t),e&&e.removeSelfFromZr(n)},o.addToMap=function(t){p.call(o,t),t.addSelfToZr(n)}};f.prototype={constructor:f,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer(t,e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},resize:function(){this.painter.resize(),this.handler&&this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},toDataURL:function(t,e,i){return this.painter.toDataURL(t,e,i)},pathToImage:function(t,e,i){var n=o();return this.painter.pathToImage(n,t,e,i)},setDefaultCursorStyle:function(t){this.handler.setDefaultCursorStyle(t)},on:function(t,e,i){this.handler&&this.handler.on(t,e,i)},off:function(t,e){this.handler&&this.handler.off(t,e)},trigger:function(t,e){this.handler&&this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler&&this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,n(this.id)}},t.exports=d},function(t,e){function i(t){var e={},i={},n=t.match(/Web[kK]it[\/]{0,1}([\d.]+)/),o=t.match(/(Android);?[\s\/]+([\d.]+)?/),r=t.match(/(iPad).*OS\s([\d_]+)/),a=t.match(/(iPod)(.*OS\s([\d_]+))?/),s=!r&&t.match(/(iPhone\sOS)\s([\d_]+)/),l=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),c=l&&t.match(/TouchPad/),h=t.match(/Kindle\/([\d.]+)/),u=t.match(/Silk\/([\d._]+)/),d=t.match(/(BlackBerry).*Version\/([\d.]+)/),f=t.match(/(BB10).*Version\/([\d.]+)/),p=t.match(/(RIM\sTablet\sOS)\s([\d.]+)/),g=t.match(/PlayBook/),m=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/),v=t.match(/Firefox\/([\d.]+)/),y=n&&t.match(/Mobile\//)&&!m,x=t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!m,b=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),w=t.match(/Edge\/([\d.]+)/);return(i.webkit=!!n)&&(i.version=n[1]),o&&(e.android=!0,e.version=o[2]),s&&!a&&(e.ios=e.iphone=!0,e.version=s[2].replace(/_/g,".")),r&&(e.ios=e.ipad=!0,e.version=r[2].replace(/_/g,".")),a&&(e.ios=e.ipod=!0,e.version=a[3]?a[3].replace(/_/g,"."):null),l&&(e.webos=!0,e.version=l[2]),c&&(e.touchpad=!0),d&&(e.blackberry=!0,e.version=d[2]),f&&(e.bb10=!0,e.version=f[2]),p&&(e.rimtabletos=!0,e.version=p[2]),g&&(i.playbook=!0),h&&(e.kindle=!0,e.version=h[1]),u&&(i.silk=!0,i.version=u[1]),!u&&e.android&&t.match(/Kindle Fire/)&&(i.silk=!0),m&&(i.chrome=!0,i.version=m[1]),v&&(i.firefox=!0,i.version=v[1]),b&&(i.ie=!0,i.version=b[1]),y&&(t.match(/Safari/)||e.ios)&&(i.safari=!0),x&&(i.webview=!0),b&&(i.ie=!0,i.version=b[1]),w&&(i.edge=!0,i.version=w[1]),e.tablet=!!(r||g||o&&!t.match(/Mobile/)||v&&t.match(/Tablet/)||b&&!t.match(/Phone/)&&t.match(/Touch/)),e.phone=!(e.tablet||e.ipod||!(o||s||l||d||f||m&&t.match(/Android/)||m&&t.match(/CriOS\/([\d.]+)/)||v&&t.match(/Mobile/)||b&&t.match(/Touch/))),{browser:i,os:e,node:!1,canvasSupported:!!document.createElement("canvas").getContext,touchEventsSupported:"ontouchstart"in window&&!i.ie&&!i.edge,pointerEventsSupported:"onpointerdown"in window&&(i.edge||i.ie&&i.version>=10)}}var n={};n="undefined"==typeof navigator?{browser:{},
os:{},node:!0,canvasSupported:!0}:i(navigator.userAgent),t.exports=n},function(t,e,i){"use strict";function n(t,e,i){return{type:t,event:i,target:e,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta}}function o(t,e,i){var n=t._gestureMgr;"start"===i&&n.clear();var o=n.recognize(e,t.findHover(e.zrX,e.zrY,null));if("end"===i&&n.clear(),o){var r=o.type;e.gestureEvent=r,t._dispatchProxy(o.target,r,o.event)}}function r(t){function e(t,e){return function(){return e._touching?void 0:t.apply(e,arguments)}}for(var i=y.concat(x),n=0;n<i.length;n++){var o=i[n];t._handlers[o]=f.bind(S[o],t)}for(var n=0;n<v.length;n++){var o=v[n];t._handlers[o]=e(S[o],t)}}function a(t,e,i){if(t[t.rectHover?"rectContain":"contain"](e,i)){for(var n=t.parent;n;){if(n.clipPath&&!n.clipPath.contain(e,i))return!1;n=n.parent}return!0}return!1}function s(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}function l(){return!1}function c(){return u.touchEventsSupported}function h(t){return"mousewheel"===t&&u.browser.firefox?"DOMMouseScroll":t}var u=i(78),d=i(80),f=i(3),p=i(81),g=i(82),m=i(32),v=["click","dblclick","mousewheel","mouseout"];!l()&&v.push("mouseup","mousedown","mousemove");var y=["touchstart","touchend","touchmove"],x=["pointerdown","pointerup","pointermove"],b=300,w=d.addEventListener,_=d.removeEventListener,T=d.normalizeEvent,S={mousemove:function(t){t=T(this.root,t);var e=t.zrX,i=t.zrY,n=this.findHover(e,i,null),o=this._hovered;this._hovered=n,this.root.style.cursor=n?n.cursor:this._defaultCursorStyle,o&&n!==o&&o.__zr&&this._dispatchProxy(o,"mouseout",t),this._dispatchProxy(n,"mousemove",t),n&&n!==o&&this._dispatchProxy(n,"mouseover",t)},mouseout:function(t){t=T(this.root,t);var e=t.toElement||t.relatedTarget;if(e!=this.root)for(;e&&9!=e.nodeType;){if(e===this.root)return;e=e.parentNode}this._dispatchProxy(this._hovered,"mouseout",t),this.trigger("globalout",{event:t})},touchstart:function(t){t=T(this.root,t),this._lastTouchMoment=new Date,o(this,t,"start"),S.mousemove.call(this,t),S.mousedown.call(this,t),s(this)},touchmove:function(t){t=T(this.root,t),o(this,t,"change"),S.mousemove.call(this,t),s(this)},touchend:function(t){t=T(this.root,t),o(this,t,"end"),S.mouseup.call(this,t),+new Date-this._lastTouchMoment<b&&S.click.call(this,t),s(this)}};f.each(["click","mousedown","mouseup","mousewheel","dblclick"],function(t){S[t]=function(e){e=T(this.root,e);var i=this.findHover(e.zrX,e.zrY,null);this._dispatchProxy(i,t,e)}});var C=function(t,e,i){function n(e,i){f.each(e,function(e){w(t,h(e),i._handlers[e])},i)}m.call(this),this.root=t,this.storage=e,this.painter=i,this._hovered,this._lastTouchMoment,this._lastX,this._lastY,this._defaultCursorStyle="default",this._gestureMgr=new g,this._handlers=[],this._touching=!1,this._touchTimer,r(this),l()?n(x,this):c()&&n(y,this),n(v,this),p.call(this)};C.prototype={constructor:C,resize:function(t){this._hovered=null},dispatch:function(t,e){var i=this._handlers[t];i&&i.call(this,e)},dispose:function(){for(var t=this.root,e=v.concat(y),i=0;i<e.length;i++){var n=e[i];_(t,h(n),this._handlers[n])}this.root=this.storage=this.painter=null},setDefaultCursorStyle:function(t){this._defaultCursorStyle=t},_dispatchProxy:function(t,e,i){for(var o="on"+e,r=n(e,t,i),a=t;a&&(a[o]&&(r.cancelBubble=a[o].call(a,r)),a.trigger(e,r),a=a.parent,!r.cancelBubble););r.cancelBubble||(this.trigger(e,r),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[o]&&t[o].call(t,r),t.trigger&&t.trigger(e,r)}))},findHover:function(t,e,i){for(var n=this.storage.getDisplayList(),o=n.length-1;o>=0;o--)if(!n[o].silent&&n[o]!==i&&!n[o].ignore&&a(n[o],t,e))return n[o]}},f.mixin(C,m),f.mixin(C,p),t.exports=C},function(t,e,i){"use strict";function n(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}function o(t,e){if(e=e||window.event,null!=e.zrX)return e;var i=e.type,o=i&&i.indexOf("touch")>=0;if(o){var r="touchend"!=i?e.targetTouches[0]:e.changedTouches[0];if(r){var a=n(t);e.zrX=r.clientX-a.left,e.zrY=r.clientY-a.top}}else{var s=n(t);e.zrX=e.clientX-s.left,e.zrY=e.clientY-s.top,e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3}return e}function r(t,e,i){l?t.addEventListener(e,i):t.attachEvent("on"+e,i)}function a(t,e,i){l?t.removeEventListener(e,i):t.detachEvent("on"+e,i)}var s=i(32),l="undefined"!=typeof window&&!!window.addEventListener,c=l?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};t.exports={normalizeEvent:o,addEventListener:r,removeEventListener:a,stop:c,Dispatcher:s}},function(t,e){function i(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}i.prototype={constructor:i,_dragStart:function(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this._dispatchProxy(e,"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,n=t.offsetY,o=i-this._x,r=n-this._y;this._x=i,this._y=n,e.drift(o,r,t),this._dispatchProxy(e,"drag",t.event);var a=this.findHover(i,n,e),s=this._dropTarget;this._dropTarget=a,e!==a&&(s&&a!==s&&this._dispatchProxy(s,"dragleave",t.event),a&&a!==s&&this._dispatchProxy(a,"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this._dispatchProxy(e,"dragend",t.event),this._dropTarget&&this._dispatchProxy(this._dropTarget,"drop",t.event),this._draggingTarget=null,this._dropTarget=null}},t.exports=i},function(t,e){"use strict";function i(t){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(e*e+i*i)}function n(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var o=function(){this._track=[]};o.prototype={constructor:o,recognize:function(t,e){return this._doTrack(t,e),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e){var i=t.touches;if(i){for(var n={points:[],touches:[],target:e,event:t},o=0,r=i.length;r>o;o++){var a=i[o];n.points.push([a.clientX,a.clientY]),n.touches.push(a)}this._track.push(n)}},_recognize:function(t){for(var e in r)if(r.hasOwnProperty(e)){var i=r[e](this._track,t);if(i)return i}}};var r={pinch:function(t,e){var o=t.length;if(o){var r=(t[o-1]||{}).points,a=(t[o-2]||{}).points||r;if(a&&a.length>1&&r&&r.length>1){var s=i(r)/i(a);!isFinite(s)&&(s=1),e.pinchScale=s;var l=n(r);return e.pinchX=l[0],e.pinchY=l[1],{type:"pinch",target:t[0].target,event:e}}}}};t.exports=o},function(t,e,i){"use strict";function n(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2===e.z2?t.__renderidx-e.__renderidx:t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var o=i(3),r=i(29),a=function(){this._elements={},this._roots=[],this._displayList=[],this._displayListLen=0};a.prototype={constructor:a,getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,o=0,r=e.length;r>o;o++)this._updateAndAddDisplayable(e[o],null,t);i.length=this._displayListLen;for(var o=0,r=i.length;r>o;o++)i[o].__renderidx=o;i.sort(n)},_updateAndAddDisplayable:function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.update(),t.afterUpdate();var n=t.clipPath;if(n&&(n.parent=t,n.updateTransform(),e?(e=e.slice(),e.push(n)):e=[n]),"group"==t.type){for(var o=t._children,r=0;r<o.length;r++){var a=o[r];a.__dirty=t.__dirty||a.__dirty,this._updateAndAddDisplayable(a,e,i)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){this._elements[t.id]||(t instanceof r&&t.addChildrenToStorage(this),this.addToMap(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var i=this._roots[e];i instanceof r&&i.delChildrenFromStorage(this)}return this._elements={},this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array)for(var e=0,n=t.length;n>e;e++)this.delRoot(t[e]);else{var a;a="string"==typeof t?this._elements[t]:t;var s=o.indexOf(this._roots,a);s>=0&&(this.delFromMap(a.id),this._roots.splice(s,1),a instanceof r&&a.delChildrenFromStorage(this))}},addToMap:function(t){return t instanceof r&&(t.__storage=this),t.dirty(),this._elements[t.id]=t,this},get:function(t){return this._elements[t]},delFromMap:function(t){var e=this._elements,i=e[t];return i&&(delete e[t],i instanceof r&&(i.__storage=null)),this},dispose:function(){this._elements=this._renderList=this._roots=null}},t.exports=a},function(t,e,i){"use strict";var n=i(3),o=i(80).Dispatcher,r="undefined"!=typeof window&&(window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},a=i(35),s=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time=0,o.call(this)};s.prototype={constructor:s,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),i=0;i<e.length;i++)this.addClip(e[i])},removeClip:function(t){var e=n.indexOf(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),i=0;i<e.length;i++)this.removeClip(e[i]);t.animation=null},_update:function(){for(var t=(new Date).getTime(),e=t-this._time,i=this._clips,n=i.length,o=[],r=[],a=0;n>a;a++){var s=i[a],l=s.step(t);l&&(o.push(l),r.push(s))}for(var a=0;n>a;)i[a]._needsRemove?(i[a]=i[n-1],i.pop(),n--):a++;n=o.length;for(var a=0;n>a;a++)r[a].fire(o[a]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},start:function(){function t(){e._running&&(r(t),e._update())}var e=this;this._running=!0,this._time=(new Date).getTime(),r(t)},stop:function(){this._running=!1},clear:function(){this._clips=[]},animate:function(t,e){e=e||{};var i=new a(t,e.loop,e.getter,e.setter);return i}},n.mixin(s,o),t.exports=s},function(t,e,i){"use strict";function n(t){return parseInt(t,10)}function o(t){return t?t.isBuildin?!0:"function"==typeof t.resize&&"function"==typeof t.refresh:!1}function r(t){t.__unusedCount++}function a(t){t.__dirty=!1,1==t.__unusedCount&&t.clear()}function s(t,e,i){return g.copy(t.getBoundingRect()),t.transform&&g.applyTransform(t.transform),m.width=e,m.height=i,!g.intersect(m)}function l(t,e){if(!t||!e||t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!0}function c(t,e){for(var i=0;i<t.length;i++){var n,o=t[i];o.transform&&(n=o.transform,e.transform(n[0],n[1],n[2],n[3],n[4],n[5]));var r=o.path;r.beginPath(e),o.buildPath(r,o.shape),e.clip(),o.transform&&(n=o.invTransform,e.transform(n[0],n[1],n[2],n[3],n[4],n[5]))}}var h=i(40),u=i(3),d=i(39),f=i(15),p=i(86),g=new f(0,0,0,0),m=new f(0,0,0,0),v=function(t,e,i){var n=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();i=i||{},this.dpr=i.devicePixelRatio||h.devicePixelRatio,this._singleCanvas=n,this.root=t;var o=t.style;if(o&&(o["-webkit-tap-highlight-color"]="transparent",o["-webkit-user-select"]="none",o["user-select"]="none",o["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e,n){var r=t.width,a=t.height;this._width=r,this._height=a;var s=new p(t,this,1);s.initContext(),this._layers={0:s},this._zlevelList=[0]}else{var r=this._getWidth(),a=this._getHeight();this._width=r,this._height=a;var l=document.createElement("div");this._domRoot=l;var c=l.style;c.position="relative",c.overflow="hidden",c.width=this._width+"px",c.height=this._height+"px",t.appendChild(l),this._layers={},this._zlevelList=[]}this._layerConfig={},this.pathToImage=this._createPathToImage()};v.prototype={constructor:v,isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._singleCanvas?this._layers[0].dom:this._domRoot},refresh:function(t){var e=this.storage.getDisplayList(!0),i=this._zlevelList;this._paintList(e,t);for(var n=0;n<i.length;n++){var o=i[n],r=this._layers[o];!r.isBuildin&&r.refresh&&r.refresh()}return this},_paintList:function(t,e){null==e&&(e=!1),this._updateLayerStatus(t);var i,n,o,h=this._width,u=this._height;this.eachBuildinLayer(r);for(var f=null,p=0,g=t.length;g>p;p++){var m=t[p],v=this._singleCanvas?0:m.zlevel;if(n!==v&&(n=v,i=this.getLayer(n),i.isBuildin||d("ZLevel "+n+" has been used by unkown layer "+i.id),o=i.ctx,i.__unusedCount=0,(i.__dirty||e)&&i.clear()),(i.__dirty||e)&&!m.invisible&&0!==m.style.opacity&&m.scale[0]&&m.scale[1]&&(!m.culling||!s(m,h,u))){var y=m.__clipPaths;l(y,f)&&(f&&o.restore(),y&&(o.save(),c(y,o)),f=y),m.beforeBrush&&m.beforeBrush(o),m.brush(o,!1),m.afterBrush&&m.afterBrush(o)}m.__dirty=!1}f&&o.restore(),this.eachBuildinLayer(a)},getLayer:function(t){if(this._singleCanvas)return this._layers[0];var e=this._layers[t];return e||(e=new p("zr_"+t,this,this.dpr),e.isBuildin=!0,this._layerConfig[t]&&u.merge(e,this._layerConfig[t],!0),this.insertLayer(t,e),e.initContext()),e},insertLayer:function(t,e){var i=this._layers,n=this._zlevelList,r=n.length,a=null,s=-1,l=this._domRoot;if(i[t])return void d("ZLevel "+t+" has been used already");if(!o(e))return void d("Layer of zlevel "+t+" is not valid");if(r>0&&t>n[0]){for(s=0;r-1>s&&!(n[s]<t&&n[s+1]>t);s++);a=i[n[s]]}if(n.splice(s+1,0,t),a){var c=a.dom;c.nextSibling?l.insertBefore(e.dom,c.nextSibling):l.appendChild(e.dom)}else l.firstChild?l.insertBefore(e.dom,l.firstChild):l.appendChild(e.dom);i[t]=e},eachLayer:function(t,e){var i,n,o=this._zlevelList;for(n=0;n<o.length;n++)i=o[n],t.call(e,this._layers[i],i)},eachBuildinLayer:function(t,e){var i,n,o,r=this._zlevelList;for(o=0;o<r.length;o++)n=r[o],i=this._layers[n],i.isBuildin&&t.call(e,i,n)},eachOtherLayer:function(t,e){var i,n,o,r=this._zlevelList;for(o=0;o<r.length;o++)n=r[o],i=this._layers[n],i.isBuildin||t.call(e,i,n)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){var e=this._layers,i={};this.eachBuildinLayer(function(t,e){i[e]=t.elCount,t.elCount=0});for(var n=0,o=t.length;o>n;n++){var r=t[n],a=this._singleCanvas?0:r.zlevel,s=e[a];if(s){if(s.elCount++,s.__dirty)continue;s.__dirty=r.__dirty}}this.eachBuildinLayer(function(t,e){i[e]!==t.elCount&&(t.__dirty=!0)})},clear:function(){return this.eachBuildinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},configLayer:function(t,e){if(e){var i=this._layerConfig;i[t]?u.merge(i[t],e,!0):i[t]=e;var n=this._layers[t];n&&u.merge(n,i[t],!0)}},delLayer:function(t){var e=this._layers,i=this._zlevelList,n=e[t];n&&(n.dom.parentNode.removeChild(n.dom),delete e[t],i.splice(u.indexOf(i,t),1))},resize:function(t,e){var i=this._domRoot;if(i.style.display="none",t=t||this._getWidth(),e=e||this._getHeight(),i.style.display="",this._width!=t||e!=this._height){i.style.width=t+"px",i.style.height=e+"px";for(var n in this._layers)this._layers[n].resize(t,e);this.refresh(!0)}return this._width=t,this._height=e,this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas)return this._layers[0].dom;var e=new p("image",this,t.pixelRatio||this.dpr);e.initContext();var i=e.ctx;e.clearColor=t.backgroundColor,e.clear();for(var n=this.storage.getDisplayList(!0),o=0;o<n.length;o++){var r=n[o];r.invisible||(r.beforeBrush&&r.beforeBrush(i),r.brush(i,!1),r.afterBrush&&r.afterBrush(i))}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getWidth:function(){var t=this.root,e=document.defaultView.getComputedStyle(t);return(t.clientWidth||n(e.width)||n(t.style.width))-(n(e.paddingLeft)||0)-(n(e.paddingRight)||0)|0},_getHeight:function(){var t=this.root,e=document.defaultView.getComputedStyle(t);return(t.clientHeight||n(e.height)||n(t.style.height))-(n(e.paddingTop)||0)-(n(e.paddingBottom)||0)|0},_pathToImage:function(t,e,n,o,r){var a=document.createElement("canvas"),s=a.getContext("2d");a.width=n*r,a.height=o*r,s.clearRect(0,0,n*r,o*r);var l={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[0,0,0],e.rotation=0,e.scale=[1,1],e&&e.brush(s);var c=i(59),h=new c({id:t,style:{x:0,y:0,image:a}});return null!=l.position&&(h.position=e.position=l.position),null!=l.rotation&&(h.rotation=e.rotation=l.rotation),null!=l.scale&&(h.scale=e.scale=l.scale),h},_createPathToImage:function(){var t=this;return function(e,i,n,o){return t._pathToImage(e,i,n,o,t.dpr)}}},t.exports=v},function(t,e,i){function n(){return!1}function o(t,e,i,n){var o=document.createElement(e),r=i.getWidth(),a=i.getHeight(),s=o.style;return s.position="absolute",s.left=0,s.top=0,s.width=r+"px",s.height=a+"px",o.width=r*n,o.height=a*n,o.setAttribute("data-zr-dom-id",t),o}var r=i(3),a=i(40),s=function(t,e,i){var s;i=i||a.devicePixelRatio,"string"==typeof t?s=o(t,"canvas",e,i):r.isObject(t)&&(s=t,t=s.id),this.id=t,this.dom=s;var l=s.style;l&&(s.onselectstart=n,l["-webkit-user-select"]="none",l["user-select"]="none",l["-webkit-touch-callout"]="none",l["-webkit-tap-highlight-color"]="rgba(0,0,0,0)"),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=i};s.prototype={constructor:s,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d");var t=this.dpr;1!=t&&this.ctx.scale(t,t)},createBackBuffer:function(){var t=this.dpr;this.domBack=o("back-"+this.id,"canvas",this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!=t&&this.ctxBack.scale(t,t)},resize:function(t,e){var i=this.dpr,n=this.dom,o=n.style,r=this.domBack;o.width=t+"px",o.height=e+"px",n.width=t*i,n.height=e*i,1!=i&&this.ctx.scale(i,i),r&&(r.width=t*i,r.height=e*i,1!=i&&this.ctxBack.scale(i,i))},clear:function(t){var e=this.dom,i=this.ctx,n=e.width,o=e.height,r=this.clearColor,a=this.motionBlur&&!t,s=this.lastFrameAlpha,l=this.dpr;if(a&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(e,0,0,n/l,o/l)),i.clearRect(0,0,n/l,o/l),r&&(i.save(),i.fillStyle=this.clearColor,i.fillRect(0,0,n/l,o/l),i.restore()),a){var c=this.domBack;i.save(),i.globalAlpha=s,i.drawImage(c,0,0,n/l,o/l),i.restore()}}},t.exports=s},function(t,e,i){var n=i(42),o=i(3),r=Math.PI;t.exports=function(t,e){e=e||{},o.defaults(e,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var i=new n.Rect({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4}),a=new n.Arc({shape:{startAngle:-r/2,endAngle:-r/2+.1,r:10},style:{stroke:e.color,lineCap:"round",lineWidth:5},zlevel:e.zlevel,z:10001}),s=new n.Rect({style:{fill:"none",text:e.text,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});a.animateShape(!0).when(1e3,{endAngle:3*r/2}).start("circularInOut"),a.animateShape(!0).when(1e3,{startAngle:3*r/2}).delay(300).start("circularInOut");var l=new n.Group;return l.add(a),l.add(s),l.add(i),l.resize=function(){var e=t.getWidth()/2,n=t.getHeight()/2;a.setShape({cx:e,cy:n});var o=a.shape.r;s.setShape({x:e-o,y:n-o,width:2*o,height:2*o}),i.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},l.resize(),l}},function(t,e,i){var n=i(4);t.exports=function(t,e,i){function o(t){var o=[e,"normal","color"],r=i.get("color"),a=t.getData(),s=t.get(o)||r[t.seriesIndex%r.length];a.setVisual("color",s),i.isSeriesFiltered(t)||("function"!=typeof s||s instanceof n||a.each(function(e){a.setItemVisual(e,"color",s(t.getDataParams(e)))}),a.each(function(t){var e=a.getItemModel(t),i=e.get(o,!0);null!=i&&a.setItemVisual(t,"color",i)}))}t?i.eachSeriesByType(t,o):i.eachSeries(o)}},function(t,e,i){function n(t,e){e=e.split(",");for(var i=t,n=0;n<e.length&&(i=i&&i[e[n]],null!=i);n++);return i}function o(t,e,i,n){e=e.split(",");for(var o,r=t,a=0;a<e.length-1;a++)o=e[a],null==r[o]&&(r[o]={}),r=r[o];(n||null==r[e[a]])&&(r[e[a]]=i)}function r(t){u(l,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var a=i(3),s=i(90),l=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],c=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],h=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"],u=a.each;t.exports=function(t){u(t.series,function(t){if(a.isObject(t)){var e=t.type;if(s(t),"pie"!==e&&"gauge"!==e||null!=t.clockWise&&(t.clockwise=t.clockWise),"gauge"===e){var i=n(t,"pointer.color");null!=i&&o(t,"itemStyle.normal.color",i)}for(var l=0;l<h.length;l++)if(h[l]===t.type){r(t);break}}}),t.dataRange&&(t.visualMap=t.dataRange),u(c,function(e){var i=t[e];i&&(a.isArray(i)||(i=[i]),u(i,function(t){r(t)}))})}},function(t,e,i){function n(t){var e=t&&t.itemStyle;e&&o.each(r,function(i){var n=e.normal,r=e.emphasis;n&&n[i]&&(t[i]=t[i]||{},t[i].normal?o.merge(t[i].normal,n[i]):t[i].normal=n[i],n[i]=null),r&&r[i]&&(t[i]=t[i]||{},t[i].emphasis?o.merge(t[i].emphasis,r[i]):t[i].emphasis=r[i],r[i]=null)})}var o=i(3),r=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];t.exports=function(t){if(t){n(t),n(t.markPoint),n(t.markLine);var e=t.data;if(e){for(var i=0;i<e.length;i++)n(e[i]);var r=t.markPoint;if(r&&r.data)for(var a=r.data,i=0;i<a.length;i++)n(a[i]);var s=t.markLine;if(s&&s.data)for(var l=s.data,i=0;i<l.length;i++)o.isArray(l[i])?(n(l[i][0]),n(l[i][1])):n(l[i])}}}},function(t,e,i){var n=i(3),o=i(1);i(92),i(97),o.registerVisualCoding("chart",n.curry(i(103),"line","circle","line")),o.registerLayout(n.curry(i(104),"line")),o.registerProcessor("statistic",n.curry(i(105),"line")),i(106)},function(t,e,i){"use strict";var n=i(93),o=i(27);t.exports=o.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(t,e){return n(t.data,this,e)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,polarIndex:0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},symbol:"emptyCircle",symbolSize:4,showSymbol:!0,animationEasing:"linear"}})},function(t,e,i){"use strict";function n(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}function o(t){var e=n(t);return null!=e&&!u.isArray(p(e))}function r(t,e,i){t=t||[];var n=e.get("coordinateSystem"),r=m[n],a=f.get(n),s=r&&r(t,e,i),u=s&&s.dimensions;u||(u=a&&a.dimensions||["x","y"],u=h(u,t,u.concat(["value"])));var d=s&&s.categoryAxisModel,v="ordinal"===u[0].type?0:"ordinal"===u[1].type?1:-1,y=new c(u,e),x=l(s,t),b=d&&o(t)?function(t,e,i,n){return n===v?i:g(p(t),u[n])}:function(t,e,i,n){var o=p(t);return g(o&&o[n],u[n])};return y.initData(t,x,b),y}function a(t){return"category"!==t&&"time"!==t}function s(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function l(t,e){var i=[];if(t&&t.categoryAxisModel){var n=t.categoryAxisModel.getCategories();if(n){var o=e.length;if(u.isArray(e[0])&&e[0].length>1){i=[];for(var r=0;o>r;r++)i[r]=n[e[r][t.categoryIndex||0]]}else i=n.slice(0)}}return i}var c=i(94),h=i(96),u=i(3),d=i(5),f=i(25),p=d.getDataItemValue,g=d.converDataValue,m={cartesian2d:function(t,e,i){var n=i.getComponent("xAxis",e.get("xAxisIndex")),o=i.getComponent("yAxis",e.get("yAxisIndex")),r=n.get("type"),l=o.get("type"),c=[{name:"x",type:s(r),stackable:a(r)},{name:"y",type:s(l),stackable:a(l)}],u="category"===r;return h(c,t,["x","y","z"]),{dimensions:c,categoryIndex:u?0:1,categoryAxisModel:u?n:"category"===l?o:null}},polar:function(t,e,i){var n=e.get("polarIndex")||0,o=function(t){return t.get("polarIndex")===n},r=i.findComponents({mainType:"angleAxis",filter:o})[0],l=i.findComponents({mainType:"radiusAxis",filter:o})[0],c=l.get("type"),u=r.get("type"),d=[{name:"radius",type:s(c),stackable:a(c)},{name:"angle",type:s(u),stackable:a(u)}],f="category"===u;return h(d,t,["radius","angle","value"]),{dimensions:d,categoryIndex:f?1:0,categoryAxisModel:f?r:"category"===c?l:null}},geo:function(t,e,i){return{dimensions:h([{name:"lng"},{name:"lat"}],t,["lng","lat","value"])}}};t.exports=r},function(t,e,i){(function(e){function n(t){return d.isArray(t)||(t=[t]),t}function o(t,e){var i=t.dimensions,n=new v(d.map(i,t.getDimensionInfo,t),t.hostModel);m(n,t,t._wrappedMethods);for(var o=n._storage={},r=t._storage,a=0;a<i.length;a++){var s=i[a],l=r[s];d.indexOf(e,s)>=0?o[s]=new l.constructor(r[s].length):o[s]=r[s]}return n}var r="undefined",a="undefined"==typeof window?e:window,s=typeof a.Float64Array===r?Array:a.Float64Array,l=typeof a.Int32Array===r?Array:a.Int32Array,c={"float":s,"int":l,ordinal:Array,number:Array,time:Array},h=i(8),u=i(95),d=i(3),f=i(5),p=d.isObject,g=["stackedOn","_nameList","_idList","_rawData"],m=function(t,e,i){d.each(g.concat(i||[]),function(i){e.hasOwnProperty(i)&&(t[i]=e[i])})},v=function(t,e){t=t||["x","y"];for(var i={},n=[],o=0;o<t.length;o++){var r,a={};"string"==typeof t[o]?(r=t[o],a={name:r,stackable:!1,type:"number"}):(a=t[o],r=a.name,a.type=a.type||"number"),n.push(r),i[r]=a}this.dimensions=n,this._dimensionInfos=i,this.hostModel=e,this.indices=[],this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawData,this._extent},y=v.prototype;y.type="list",y.getDimension=function(t){return isNaN(t)||(t=this.dimensions[t]||t),t},y.getDimensionInfo=function(t){return d.clone(this._dimensionInfos[this.getDimension(t)])},y.initData=function(t,e,i){t=t||[],this._rawData=t;var n=this._storage={},o=this.indices=[],r=this.dimensions,a=t.length,s=this._dimensionInfos,l=[],h={};e=e||[];for(var u=0;u<r.length;u++){var p=s[r[u]],g=c[p.type];n[r[u]]=new g(a)}i=i||function(t,e,i,n){var o=f.getDataItemValue(t);return f.converDataValue(d.isArray(o)?o[n]:o,s[e])};for(var m=0;m<t.length;m++){for(var v=t[m],y=0;y<r.length;y++){var x=r[y],b=n[x];b[m]=i(v,x,m,y)}o.push(m)}for(var u=0;u<t.length;u++){var w="";e[u]||(e[u]=t[u].name,w=t[u].id);var _=e[u]||"";!w&&_&&(h[_]=h[_]||0,w=_,h[_]>0&&(w+="__ec__"+h[_]),h[_]++),w&&(l[u]=w)}this._nameList=e,this._idList=l},y.count=function(){return this.indices.length},y.get=function(t,e,i){var n=this._storage,o=this.indices[e];if(null==o)return NaN;var r=n[t]&&n[t][o];if(i){var a=this._dimensionInfos[t];if(a&&a.stackable)for(var s=this.stackedOn;s;){var l=s.get(t,e);(r>=0&&l>0||0>=r&&0>l)&&(r+=l),s=s.stackedOn}}return r},y.getValues=function(t,e,i){var n=[];d.isArray(t)||(i=e,e=t,t=this.dimensions);for(var o=0,r=t.length;r>o;o++)n.push(this.get(t[o],e,i));return n},y.hasValue=function(t){for(var e=this.dimensions,i=this._dimensionInfos,n=0,o=e.length;o>n;n++)if("ordinal"!==i[e[n]].type&&isNaN(this.get(e[n],t)))return!1;return!0},y.getDataExtent=function(t,e){var i=this._storage[t],n=this.getDimensionInfo(t);e=n&&n.stackable&&e;var o,r=(this._extent||(this._extent={}))[t+!!e];if(r)return r;if(i){for(var a=1/0,s=-(1/0),l=0,c=this.count();c>l;l++)o=this.get(t,l,e),a>o&&(a=o),o>s&&(s=o);return this._extent[t+e]=[a,s]}return[1/0,-(1/0)]},y.getSum=function(t,e){var i=this._storage[t],n=0;if(i)for(var o=0,r=this.count();r>o;o++){var a=this.get(t,o,e);isNaN(a)||(n+=a)}return n},y.indexOf=function(t,e){var i=this._storage,n=i[t],o=this.indices;if(n)for(var r=0,a=o.length;a>r;r++){var s=o[r];if(n[s]===e)return r}return-1},y.indexOfName=function(t){for(var e=this.indices,i=this._nameList,n=0,o=e.length;o>n;n++){var r=e[n];if(i[r]===t)return n}return-1},y.indexOfNearest=function(t,e,i){var n=this._storage,o=n[t];if(o){for(var r=Number.MAX_VALUE,a=-1,s=0,l=this.count();l>s;s++){var c=e-this.get(t,s,i),h=Math.abs(c);(r>h||h===r&&c>0)&&(r=h,a=s)}return a}return-1},y.getRawIndex=function(t){var e=this.indices[t];return null==e?-1:e},y.getName=function(t){return this._nameList[this.indices[t]]||""},y.getId=function(t){return this._idList[this.indices[t]]||this.getRawIndex(t)+""},y.each=function(t,e,i,o){"function"==typeof t&&(o=i,i=e,e=t,t=[]),t=d.map(n(t),this.getDimension,this);var r=[],a=t.length,s=this.indices;o=o||this;for(var l=0;l<s.length;l++)if(0===a)e.call(o,l);else if(1===a)e.call(o,this.get(t[0],l,i),l);else{for(var c=0;a>c;c++)r[c]=this.get(t[c],l,i);r[c]=l,e.apply(o,r)}},y.filterSelf=function(t,e,i,o){"function"==typeof t&&(o=i,i=e,e=t,t=[]),t=d.map(n(t),this.getDimension,this);var r=[],a=[],s=t.length,l=this.indices;o=o||this;for(var c=0;c<l.length;c++){var h;if(1===s)h=e.call(o,this.get(t[0],c,i),c);else{for(var u=0;s>u;u++)a[u]=this.get(t[u],c,i);a[u]=c,h=e.apply(o,a)}h&&r.push(l[c])}return this.indices=r,this._extent={},this},y.mapArray=function(t,e,i,n){"function"==typeof t&&(n=i,i=e,e=t,t=[]);var o=[];return this.each(t,function(){o.push(e&&e.apply(this,arguments))},i,n),o},y.map=function(t,e,i,r){t=d.map(n(t),this.getDimension,this);var a=o(this,t),s=a.indices=this.indices,l=a._storage,c=[];return this.each(t,function(){var i=arguments[arguments.length-1],n=e&&e.apply(this,arguments);if(null!=n){"number"==typeof n&&(c[0]=n,n=c);for(var o=0;o<n.length;o++){var r=t[o],a=l[r],h=s[i];a&&(a[h]=n[o])}}},i,r),a},y.downSample=function(t,e,i,n){for(var r=o(this,[t]),a=this._storage,s=r._storage,l=this.indices,c=r.indices=[],h=[],u=[],d=Math.floor(1/e),f=s[t],p=this.count(),g=0;g<a[t].length;g++)s[t][g]=a[t][g];for(var g=0;p>g;g+=d){d>p-g&&(d=p-g,h.length=d);for(var m=0;d>m;m++){var v=l[g+m];h[m]=f[v],u[m]=v}var y=i(h),v=u[n(h,y)||0];f[v]=y,c.push(v)}return r},y.getItemModel=function(t){var e=this.hostModel;return t=this.indices[t],new h(this._rawData[t],e,e.ecModel)},y.diff=function(t){var e=this._idList,i=t&&t._idList;return new u(t?t.indices:[],this.indices,function(t){return i[t]||t+""},function(t){return e[t]||t+""})},y.getVisual=function(t){var e=this._visual;return e&&e[t]},y.setVisual=function(t,e){if(p(t))for(var i in t)t.hasOwnProperty(i)&&this.setVisual(i,t[i]);else this._visual=this._visual||{},this._visual[t]=e},y.setLayout=function(t,e){if(p(t))for(var i in t)t.hasOwnProperty(i)&&this.setLayout(i,t[i]);else this._layout[t]=e},y.getLayout=function(t){return this._layout[t]},y.getItemLayout=function(t){return this._itemLayouts[t]},y.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?d.extend(this._itemLayouts[t]||{},e):e},y.getItemVisual=function(t,e,i){var n=this._itemVisuals[t],o=n&&n[e];return null!=o||i?o:this.getVisual(e)},y.setItemVisual=function(t,e,i){var n=this._itemVisuals[t]||{};if(this._itemVisuals[t]=n,p(e))for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);else n[e]=i};var x=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex};y.setItemGraphicEl=function(t,e){var i=this.hostModel;e&&(e.dataIndex=t,e.seriesIndex=i&&i.seriesIndex,"group"===e.type&&e.traverse(x,e)),this._graphicEls[t]=e},y.getItemGraphicEl=function(t){return this._graphicEls[t]},y.eachItemGraphicEl=function(t,e){d.each(this._graphicEls,function(i,n){i&&t&&t.call(e,i,n)})},y.cloneShallow=function(){var t=d.map(this.dimensions,this.getDimensionInfo,this),e=new v(t,this.hostModel);return e._storage=this._storage,m(e,this,this._wrappedMethods),e.indices=this.indices.slice(),e},y.wrapMethod=function(t,e){var i=this[t];"function"==typeof i&&(this._wrappedMethods=this._wrappedMethods||[],this._wrappedMethods.push(t),this[t]=function(){var t=i.apply(this,arguments);return e.call(this,t)})},t.exports=v}).call(e,function(){return this}())},function(t,e){"use strict";function i(t){return t}function n(t,e,n,o){this._old=t,this._new=e,this._oldKeyGetter=n||i,this._newKeyGetter=o||i}function o(t,e,i){for(var n=0;n<t.length;n++){var o=i(t[n]),r=e[o];null==r?e[o]=n:(r.length||(e[o]=r=[r]),r.push(n))}}n.prototype={constructor:n,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t,e=this._old,i=this._new,n=this._oldKeyGetter,r=this._newKeyGetter,a={},s={};for(o(e,a,n),o(i,s,r),t=0;t<e.length;t++){var l=n(e[t]),c=s[l];if(null!=c){var h=c.length;h?(1===h&&(s[l]=null),
c=c.unshift()):s[l]=null,this._update&&this._update(c,t)}else this._remove&&this._remove(t)}for(var l in s)if(s.hasOwnProperty(l)){var c=s[l];if(null==c)continue;if(c.length)for(var t=0,h=c.length;h>t;t++)this._add&&this._add(c[t]);else this._add&&this._add(c)}}},t.exports=n},function(t,e,i){function n(t,e,i,n){if(!e)return t;var s=r(e[0]),l=a.isArray(s)&&s.length||1;i=i||[],n=n||"extra";for(var c=0;l>c;c++)if(!t[c]){var h=i[c]||n+(c-i.length);t[c]=o(e,c)?{type:"ordinal",name:h}:h}return t}function o(t,e){for(var i=0,n=t.length;n>i;i++){var o=r(t[i]);if(!a.isArray(o))return!1;var o=o[e];if(null!=o&&isFinite(o))return!1;if(a.isString(o)&&"-"!==o)return!0}return!1}function r(t){return a.isArray(t)?t:a.isObject(t)?t.value:t}var a=i(3);t.exports=n},function(t,e,i){"use strict";function n(t,e){if(t.length===e.length){for(var i=0;i<t.length;i++){var n=t[i],o=e[i];if(n[0]!==o[0]||n[1]!==o[1])return}return!0}}function o(t){return"number"==typeof t?t:t?.3:0}function r(t){var e=t.getGlobalExtent();if(t.onBand){var i=t.getBandWidth()/2-1,n=e[1]>e[0]?1:-1;e[0]+=n*i,e[1]-=n*i}return e}function a(t){return t>=0?1:-1}function s(t,e){var i=t.getBaseAxis(),n=t.getOtherAxis(i),o=i.onZero?0:n.scale.getExtent()[0],r=n.dim,s="x"===r||"radius"===r?1:0;return e.mapArray([r],function(n,l){for(var c,h=e.stackedOn;h&&a(h.get(r,l))===a(n);){c=h;break}var u=[];return u[s]=e.get(i.dim,l),u[1-s]=c?c.get(r,l,!0):o,t.dataToPoint(u)},!0)}function l(t,e){return null!=e.dataIndex?e.dataIndex:null!=e.name?t.indexOfName(e.name):void 0}function c(t,e,i){var n=r(t.getAxis("x")),o=r(t.getAxis("y")),a=t.getBaseAxis().isHorizontal(),s=n[0],l=o[0],c=n[1]-s,h=o[1]-l;i.get("clipOverflow")||(a?(l-=h,h*=3):(s-=c,c*=3));var u=new m.Rect({shape:{x:s,y:l,width:c,height:h}});return e&&(u.shape[a?"width":"height"]=0,m.initProps(u,{shape:{width:c,height:h}},i)),u}function h(t,e,i){var n=t.getAngleAxis(),o=t.getRadiusAxis(),r=o.getExtent(),a=n.getExtent(),s=Math.PI/180,l=new m.Sector({shape:{cx:t.cx,cy:t.cy,r0:r[0],r:r[1],startAngle:-a[0]*s,endAngle:-a[1]*s,clockwise:n.inverse}});return e&&(l.shape.endAngle=-a[0]*s,m.initProps(l,{shape:{endAngle:-a[1]*s}},i)),l}function u(t,e,i){return"polar"===t.type?h(t,e,i):c(t,e,i)}var d=i(3),f=i(98),p=i(99),g=i(101),m=i(42),v=i(102),y=i(41);t.exports=y.extend({type:"line",init:function(){var t=new m.Group,e=new f;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,i){var r=t.coordinateSystem,a=this.group,l=t.getData(),c=t.getModel("lineStyle.normal"),h=t.getModel("areaStyle.normal"),f=l.mapArray(l.getItemLayout,!0),p="polar"===r.type,g=this._coordSys,m=this._symbolDraw,v=this._polyline,y=this._polygon,x=this._lineGroup,b=t.get("animation"),w=!h.isEmpty(),_=s(r,l),T=t.get("showSymbol"),S=T&&!p&&!t.get("showAllSymbol")&&this._getSymbolIgnoreFunc(l,r),C=this._data;C&&C.eachItemGraphicEl(function(t,e){t.__temp&&(a.remove(t),C.setItemGraphicEl(e,null))}),T||m.remove(),a.add(x),v&&g.type===r.type?(w&&!y?y=this._newPolygon(f,_,r,b):y&&!w&&(x.remove(y),y=this._polygon=null),x.setClipPath(u(r,!1,t)),T&&m.updateData(l,S),l.eachItemGraphicEl(function(t){t.stopAnimation(!0)}),n(this._stackedOnPoints,_)&&n(this._points,f)||(b?this._updateAnimation(l,_,r,i):(v.setShape({points:f}),y&&y.setShape({points:f,stackedOnPoints:_})))):(T&&m.updateData(l,S),v=this._newPolyline(f,r,b),w&&(y=this._newPolygon(f,_,r,b)),x.setClipPath(u(r,!0,t))),v.setStyle(d.defaults(c.getLineStyle(),{stroke:l.getVisual("color"),lineJoin:"bevel"}));var k=t.get("smooth");if(k=o(t.get("smooth")),v.setShape({smooth:k,smoothMonotone:t.get("smoothMonotone")}),y){var M=l.stackedOn,A=0;if(y.style.opacity=.7,y.setStyle(d.defaults(h.getAreaStyle(),{fill:l.getVisual("color"),lineJoin:"bevel"})),M){var D=M.hostModel;A=o(D.get("smooth"))}y.setShape({smooth:k,stackedOnSmooth:A,smoothMonotone:t.get("smoothMonotone")})}this._data=l,this._coordSys=r,this._stackedOnPoints=_,this._points=f},highlight:function(t,e,i,n){var o=t.getData(),r=l(o,n);if(null!=r&&r>=0){var a=o.getItemGraphicEl(r);if(!a){var s=o.getItemLayout(r);a=new p(o,r,i),a.position=s,a.setZ(t.get("zlevel"),t.get("z")),a.ignore=isNaN(s[0])||isNaN(s[1]),a.__temp=!0,o.setItemGraphicEl(r,a),a.stopSymbolAnimation(!0),this.group.add(a)}a.highlight()}else y.prototype.highlight.call(this,t,e,i,n)},downplay:function(t,e,i,n){var o=t.getData(),r=l(o,n);if(null!=r&&r>=0){var a=o.getItemGraphicEl(r);a&&(a.__temp?(o.setItemGraphicEl(r,null),this.group.remove(a)):a.downplay())}else y.prototype.downplay.call(this,t,e,i,n)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new v.Polyline({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e},_newPolygon:function(t,e){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new v.Polygon({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(i),this._polygon=i,i},_getSymbolIgnoreFunc:function(t,e){var i=e.getAxesByScale("ordinal")[0];return i&&i.isLabelIgnored?d.bind(i.isLabelIgnored,i):void 0},_updateAnimation:function(t,e,i,n){var o=this._polyline,r=this._polygon,a=t.hostModel,s=g(this._data,t,this._stackedOnPoints,e,this._coordSys,i);o.shape.points=s.current,m.updateProps(o,{shape:{points:s.next}},a),r&&(r.setShape({points:s.current,stackedOnPoints:s.stackedOnCurrent}),m.updateProps(r,{shape:{points:s.next,stackedOnPoints:s.stackedOnNext}},a));for(var l=[],c=s.status,h=0;h<c.length;h++){var u=c[h].cmd;if("="===u){var d=t.getItemGraphicEl(c[h].idx1);d&&l.push({el:d,ptIdx:h})}}o.animators&&o.animators.length&&o.animators[0].during(function(){for(var t=0;t<l.length;t++){var e=l[t].el;e.attr("position",o.shape.points[l[t].ptIdx])}})},remove:function(t){var e=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(t,n){t.__temp&&(e.remove(t),i.setItemGraphicEl(n,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}})},function(t,e,i){function n(t){this.group=new r.Group,this._symbolCtor=t||a}function o(t,e,i){var n=t.getItemLayout(e);return n&&!isNaN(n[0])&&!isNaN(n[1])&&!(i&&i(e))&&"none"!==t.getItemVisual(e,"symbol")}var r=i(42),a=i(99),s=n.prototype;s.updateData=function(t,e){var i=this.group,n=t.hostModel,a=this._data,s=this._symbolCtor;t.diff(a).add(function(n){var r=t.getItemLayout(n);if(o(t,n,e)){var a=new s(t,n);a.attr("position",r),t.setItemGraphicEl(n,a),i.add(a)}}).update(function(l,c){var h=a.getItemGraphicEl(c),u=t.getItemLayout(l);return o(t,l,e)?(h?(h.updateData(t,l),r.updateProps(h,{position:u},n)):(h=new s(t,l),h.attr("position",u)),i.add(h),void t.setItemGraphicEl(l,h)):void i.remove(h)}).remove(function(t){var e=a.getItemGraphicEl(t);e&&e.fadeOut(function(){i.remove(e)})}).execute(),this._data=t},s.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl(function(e,i){e.attr("position",t.getItemLayout(i))})},s.remove=function(t){var e=this.group,i=this._data;i&&(t?i.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll())},t.exports=n},function(t,e,i){function n(t){return a.isArray(t)||(t=[+t,+t]),t}function o(t,e){l.Group.call(this),this.updateData(t,e)}function r(t,e){this.parent.drift(t,e)}var a=i(3),s=i(100),l=i(42),c=i(7),h=o.prototype;h._createSymbol=function(t,e,i){this.removeAll();var o=e.hostModel,a=e.getItemVisual(i,"color"),c=s.createSymbol(t,-.5,-.5,1,1,a);c.attr({style:{strokeNoScale:!0},z2:100,culling:!0,scale:[0,0]}),c.drift=r;var h=n(e.getItemVisual(i,"symbolSize"));l.initProps(c,{scale:h},o),this._symbolType=t,this.add(c)},h.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},h.getScale=function(){return this.childAt(0).scale},h.highlight=function(){this.childAt(0).trigger("emphasis")},h.downplay=function(){this.childAt(0).trigger("normal")},h.setZ=function(t,e){var i=this.childAt(0);i.zlevel=t,i.z=e},h.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":"pointer"},h.updateData=function(t,e){var i=t.getItemVisual(e,"symbol")||"circle",o=t.hostModel,r=n(t.getItemVisual(e,"symbolSize"));if(i!==this._symbolType)this._createSymbol(i,t,e);else{var a=this.childAt(0);l.updateProps(a,{scale:r},o)}this._updateCommon(t,e,r),this._seriesModel=o};var u=["itemStyle","normal"],d=["itemStyle","emphasis"],f=["label","normal"],p=["label","emphasis"];h._updateCommon=function(t,e,i){var o=this.childAt(0),r=t.hostModel,s=t.getItemModel(e),h=s.getModel(u),g=t.getItemVisual(e,"color"),m=s.getModel(d).getItemStyle();o.rotation=s.getShallow("symbolRotate")*Math.PI/180||0;var v=s.getShallow("symbolOffset");if(v){var y=o.position;y[0]=c.parsePercent(v[0],i[0]),y[1]=c.parsePercent(v[1],i[1])}o.setColor(g),a.extend(o.style,h.getItemStyle(["color"]));for(var x,b=s.getModel(f),w=s.getModel(p),_=o.style,T=t.dimensions.slice(),S=T.pop();"ordinal"===(x=t.getDimensionInfo(S).type)||"time"===x;)S=T.pop();b.get("show")?(l.setText(_,b,g),_.text=a.retrieve(r.getFormattedLabel(e,"normal"),t.get(S,e))):_.text="",w.getShallow("show")?(l.setText(m,w,g),m.text=a.retrieve(r.getFormattedLabel(e,"emphasis"),t.get(S,e))):m.text="";var C=n(t.getItemVisual(e,"symbolSize"));if(o.off("mouseover").off("mouseout").off("emphasis").off("normal"),l.setHoverStyle(o,m),s.getShallow("hoverAnimation")){var k=function(){var t=C[1]/C[0];this.animateTo({scale:[Math.max(1.1*C[0],C[0]+3),Math.max(1.1*C[1],C[1]+3*t)]},400,"elasticOut")},M=function(){this.animateTo({scale:C},400,"elasticOut")};o.on("mouseover",k).on("mouseout",M).on("emphasis",k).on("normal",M)}},h.fadeOut=function(t){var e=this.childAt(0);e.style.text="",l.updateProps(e,{scale:[0,0]},this._seriesModel,t)},a.inherits(o,l.Group),t.exports=o},function(t,e,i){"use strict";var n=i(42),o=i(15),r=n.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=e.width/2,r=e.height/2;t.moveTo(i,n-r),t.lineTo(i+o,n+r),t.lineTo(i-o,n+r),t.closePath()}}),a=n.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=e.width/2,r=e.height/2;t.moveTo(i,n-r),t.lineTo(i+o,n),t.lineTo(i,n+r),t.lineTo(i-o,n),t.closePath()}}),s=n.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,n=e.y,o=e.width/5*3,r=Math.max(o,e.height),a=o/2,s=a*a/(r-a),l=n-r+a+s,c=Math.asin(s/a),h=Math.cos(c)*a,u=Math.sin(c),d=Math.cos(c);t.arc(i,l,a,Math.PI-c,2*Math.PI+c);var f=.6*a,p=.7*a;t.bezierCurveTo(i+h-u*f,l+s+d*f,i,n-p,i,n),t.bezierCurveTo(i,n-p,i-h+u*f,l+s+d*f,i-h,l+s),t.closePath()}}),l=n.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.height,n=e.width,o=e.x,r=e.y,a=n/3*2;t.moveTo(o,r),t.lineTo(o+a,r+i),t.lineTo(o,r+i/4*3),t.lineTo(o-a,r+i),t.lineTo(o,r),t.closePath()}}),c={line:n.Line,rect:n.Rect,roundRect:n.Rect,square:n.Rect,circle:n.Circle,diamond:a,pin:s,arrow:l,triangle:r},h={line:function(t,e,i,n,o){o.x1=t,o.y1=e+n/2,o.x2=t+i,o.y2=e+n/2},rect:function(t,e,i,n,o){o.x=t,o.y=e,o.width=i,o.height=n},roundRect:function(t,e,i,n,o){o.x=t,o.y=e,o.width=i,o.height=n,o.r=Math.min(i,n)/4},square:function(t,e,i,n,o){var r=Math.min(i,n);o.x=t,o.y=e,o.width=r,o.height=r},circle:function(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.r=Math.min(i,n)/2},diamond:function(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.width=i,o.height=n},pin:function(t,e,i,n,o){o.x=t+i/2,o.y=e+n/2,o.width=i,o.height=n},arrow:function(t,e,i,n,o){o.x=t+i/2,o.y=e+n/2,o.width=i,o.height=n},triangle:function(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.width=i,o.height=n}},u={};for(var d in c)u[d]=new c[d];var f=n.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var t=this.style,e=this.shape;"pin"===e.symbolType&&"inside"===t.textPosition&&(t.textPosition=["50%","40%"],t.textAlign="center",t.textVerticalAlign="middle")},buildPath:function(t,e){var i=e.symbolType,n=u[i];"none"!==e.symbolType&&(n||(i="rect",n=u[i]),h[i](e.x,e.y,e.width,e.height,n.shape),n.buildPath(t,n.shape))}}),p=function(t){if("image"!==this.type){var e=this.style,i=this.shape;i&&"line"===i.symbolType?e.stroke=t:this.__isEmptyBrush?(e.stroke=t,e.fill="#fff"):(e.fill&&(e.fill=t),e.stroke&&(e.stroke=t)),this.dirty()}},g={createSymbol:function(t,e,i,r,a,s){var l=0===t.indexOf("empty");l&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var c;return c=0===t.indexOf("image://")?new n.Image({style:{image:t.slice(8),x:e,y:i,width:r,height:a}}):0===t.indexOf("path://")?n.makePath(t.slice(7),{},new o(e,i,r,a)):new f({shape:{symbolType:t,x:e,y:i,width:r,height:a}}),c.__isEmptyBrush=l,c.setColor=p,c.setColor(s),c}};t.exports=g},function(t,e){function i(t){return t>=0?1:-1}function n(t,e,n){for(var o,r=t.getBaseAxis(),a=t.getOtherAxis(r),s=r.onZero?0:a.scale.getExtent()[0],l=a.dim,c="x"===l||"radius"===l?1:0,h=e.stackedOn,u=e.get(l,n);h&&i(h.get(l,n))===i(u);){o=h;break}var d=[];return d[c]=e.get(r.dim,n),d[1-c]=o?o.get(l,n,!0):s,t.dataToPoint(d)}function o(t,e){var i=[];return e.diff(t).add(function(t){i.push({cmd:"+",idx:t})}).update(function(t,e){i.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){i.push({cmd:"-",idx:t})}).execute(),i}t.exports=function(t,e,i,r,a,s){for(var l=o(t,e),c=[],h=[],u=[],d=[],f=[],p=[],g=[],m=s.dimensions,v=0;v<l.length;v++){var y=l[v],x=!0;switch(y.cmd){case"=":var b=t.getItemLayout(y.idx),w=e.getItemLayout(y.idx1);(isNaN(b[0])||isNaN(b[1]))&&(b=w.slice()),c.push(b),h.push(w),u.push(i[y.idx]),d.push(r[y.idx1]),g.push(e.getRawIndex(y.idx1));break;case"+":var _=y.idx;c.push(a.dataToPoint([e.get(m[0],_,!0),e.get(m[1],_,!0)])),h.push(e.getItemLayout(_).slice()),u.push(n(a,e,_)),d.push(r[_]),g.push(e.getRawIndex(_));break;case"-":var _=y.idx,T=t.getRawIndex(_);T!==_?(c.push(t.getItemLayout(_)),h.push(s.dataToPoint([t.get(m[0],_,!0),t.get(m[1],_,!0)])),u.push(i[_]),d.push(n(s,t,_)),g.push(T)):x=!1}x&&(f.push(y),p.push(p.length))}p.sort(function(t,e){return g[t]-g[e]});for(var S=[],C=[],k=[],M=[],A=[],v=0;v<p.length;v++){var _=p[v];S[v]=c[_],C[v]=h[_],k[v]=u[_],M[v]=d[_],A[v]=f[_]}return{current:S,next:C,stackedOnCurrent:k,stackedOnNext:M,status:A}}},function(t,e,i){function n(t,e,i,n,o,r,p,g,m,v){for(var y=i,x=0;o>x;x++){var b=e[y];if(y>=n||0>y||isNaN(b[0])||isNaN(b[1]))break;if(y===i)t[r>0?"moveTo":"lineTo"](b[0],b[1]),h(d,b);else if(m>0){var w=y-r,_=y+r,T=.5,S=e[w],C=e[_];if(r>0&&(y===o-1||isNaN(C[0])||isNaN(C[1]))||0>=r&&(0===y||isNaN(C[0])||isNaN(C[1])))h(f,b);else{(isNaN(C[0])||isNaN(C[1]))&&(C=b),a.sub(u,C,S);var k,M;if("x"===v||"y"===v){var A="x"===v?0:1;k=Math.abs(b[A]-S[A]),M=Math.abs(b[A]-C[A])}else k=a.dist(b,S),M=a.dist(b,C);T=M/(M+k),c(f,b,u,-m*(1-T))}s(d,d,g),l(d,d,p),s(f,f,g),l(f,f,p),t.bezierCurveTo(d[0],d[1],f[0],f[1],b[0],b[1]),c(d,b,u,m*T)}else t.lineTo(b[0],b[1]);y+=r}return x}function o(t,e){var i=[1/0,1/0],n=[-(1/0),-(1/0)];if(e)for(var o=0;o<t.length;o++){var r=t[o];r[0]<i[0]&&(i[0]=r[0]),r[1]<i[1]&&(i[1]=r[1]),r[0]>n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1])}return{min:e?i:n,max:e?n:i}}var r=i(44),a=i(16),s=a.min,l=a.max,c=a.scaleAndAdd,h=a.copy,u=[],d=[],f=[];t.exports={Polyline:r.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null},style:{fill:null,stroke:"#000"},buildPath:function(t,e){for(var i=e.points,r=0,a=i.length,s=o(i,e.smoothConstraint);a>r;)r+=n(t,i,r,a,a,1,s.min,s.max,e.smooth,e.smoothMonotone)+1}}),Polygon:r.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null},buildPath:function(t,e){for(var i=e.points,r=e.stackedOnPoints,a=0,s=i.length,l=e.smoothMonotone,c=o(i,e.smoothConstraint),h=o(r,e.smoothConstraint);s>a;){var u=n(t,i,a,s,s,1,c.min,c.max,e.smooth,l);n(t,r,a+u-1,s,u,-1,h.min,h.max,e.stackedOnSmooth,l),a+=u+1,t.closePath()}}})}},function(t,e){t.exports=function(t,e,i,n,o){n.eachRawSeriesByType(t,function(t){var o=t.getData(),r=t.get("symbol")||e,a=t.get("symbolSize");o.setVisual({legendSymbol:i||r,symbol:r,symbolSize:a}),n.isSeriesFiltered(t)||("function"==typeof a&&o.each(function(e){var i=t.getRawValue(e),n=t.getDataParams(e);o.setItemVisual(e,"symbolSize",a(i,n))}),o.each(function(t){var e=o.getItemModel(t),i=e.get("symbol",!0),n=e.get("symbolSize",!0);null!=i&&o.setItemVisual(t,"symbol",i),null!=n&&o.setItemVisual(t,"symbolSize",n)}))})}},function(t,e){t.exports=function(t,e,i){e.eachSeriesByType(t,function(t){var e=t.getData(),i=t.coordinateSystem,n=i.dimensions;e.each(n,function(t,n,o){var r;r=isNaN(t)||isNaN(n)?[NaN,NaN]:i.dataToPoint([t,n]),e.setItemLayout(o,r)},!0)})}},function(t,e){var i={average:function(t){for(var e=0,i=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=t[n],i++);return 0===i?NaN:e/i},sum:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i]||0;return e},max:function(t){for(var e=-(1/0),i=0;i<t.length;i++)t[i]>e&&(e=t[i]);return e},min:function(t){for(var e=1/0,i=0;i<t.length;i++)t[i]<e&&(e=t[i]);return e}},n=function(t,e){return Math.round(t.length/2)};t.exports=function(t,e,o){e.eachSeriesByType(t,function(t){var e=t.getData(),o=t.get("sampling"),r=t.coordinateSystem;if("cartesian2d"===r.type&&o){var a=r.getBaseAxis(),s=r.getOtherAxis(a),l=a.getExtent(),c=l[1]-l[0],h=Math.round(e.count()/c);if(h>1){var u;"string"==typeof o?u=i[o]:"function"==typeof o&&(u=o),u&&(e=e.downSample(s.dim,1/h,u,n),t.setData(e))}}},this)}},function(t,e,i){"use strict";var n=i(42),o=i(3);i(107),i(124),i(1).extendComponentView({type:"grid",render:function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new n.Rect({shape:t.coordinateSystem.getRect(),style:o.defaults({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0}))}})},function(t,e,i){function n(t,e,i){return i.getComponent("grid",t.get("gridIndex"))===e}function o(t){var e,i=t.model,n=i.getFormattedLabels(),o=1,r=n.length;r>40&&(o=Math.ceil(r/40));for(var a=0;r>a;a+=o)if(!t.isLabelIgnored(a)){var s=i.getTextRect(n[a]);e?e.union(s):e=s}return e}function r(t,e,i){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,i),this._model=t}function a(t,e){var i=t.getExtent(),n=i[0]+i[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return n-t+e}}var s=i(21),l=i(108),c=i(3),h=i(114),u=i(116),d=c.each,f=l.ifAxisCrossZero,p=l.niceScaleExtent;i(119);var g=r.prototype;g.type="grid",g.getRect=function(){return this._rect},g.update=function(t,e){function i(t){var e=n[t];for(var i in e){var o=e[i];if(o&&("category"===o.type||!f(o)))return!0}return!1}var n=this._axesMap;this._updateScale(t,this._model),d(n.x,function(t){p(t,t.model)}),d(n.y,function(t){p(t,t.model)}),d(n.x,function(t){i("y")&&(t.onZero=!1)}),d(n.y,function(t){i("x")&&(t.onZero=!1)}),this.resize(this._model,e)},g.resize=function(t,e){function i(){d(r,function(t){var e=t.isHorizontal(),i=e?[0,n.width]:[0,n.height],o=t.inverse?1:0;t.setExtent(i[o],i[1-o]),a(t,e?n.x:n.y)})}var n=s.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=n;var r=this._axesList;i(),t.get("containLabel")&&(d(r,function(t){if(!t.model.get("axisLabel.inside")){var e=o(t);if(e){var i=t.isHorizontal()?"height":"width",r=t.model.get("axisLabel.margin");n[i]-=e[i]+r,"top"===t.position?n.y+=e.height+r:"left"===t.position&&(n.x+=e.width+r)}}}),i())},g.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i){if(null==e)for(var n in i)return i[n];return i[e]}},g.getCartesian=function(t,e){var i="x"+t+"y"+e;return this._coordsMap[i]},g._initCartesian=function(t,e,i){function o(i){return function(o,c){if(n(o,t,e)){var h=o.get("position");"x"===i?("top"!==h&&"bottom"!==h&&(h="bottom"),r[h]&&(h="top"===h?"bottom":"top")):("left"!==h&&"right"!==h&&(h="left"),r[h]&&(h="left"===h?"right":"left")),r[h]=!0;var d=new u(i,l.createScaleByModel(o),[0,0],o.get("type"),h),f="category"===d.type;d.onBand=f&&o.get("boundaryGap"),d.inverse=o.get("inverse"),d.onZero=o.get("axisLine.onZero"),o.axis=d,d.model=o,d.index=c,this._axesList.push(d),a[i][c]=d,s[i]++}}}var r={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},s={x:0,y:0};return e.eachComponent("xAxis",o("x"),this),e.eachComponent("yAxis",o("y"),this),s.x&&s.y?(this._axesMap=a,void d(a.x,function(t,e){d(a.y,function(i,n){var o="x"+e+"y"+n,r=new h(o);r.grid=this,this._coordsMap[o]=r,this._coordsList.push(r),r.addAxis(t),r.addAxis(i)},this)},this)):(this._axesMap={},void(this._axesList=[]))},g._updateScale=function(t,e){function i(t,e,i){d(i.coordDimToDataDim(e.dim),function(i){e.scale.unionExtent(t.getDataExtent(i,"ordinal"!==e.scale.type))})}c.each(this._axesList,function(t){t.scale.setExtent(1/0,-(1/0))}),t.eachSeries(function(o){if("cartesian2d"===o.get("coordinateSystem")){var r=o.get("xAxisIndex"),a=o.get("yAxisIndex"),s=t.getComponent("xAxis",r),l=t.getComponent("yAxis",a);if(!n(s,e,t)||!n(l,e,t))return;var c=this.getCartesian(r,a),h=o.getData(),u=c.getAxis("x"),d=c.getAxis("y");"list"===h.type&&(i(h,u,o),i(h,d,o))}},this)},r.create=function(t,e){var i=[];return t.eachComponent("grid",function(n,o){var a=new r(n,t,e);a.name="grid_"+o,a.resize(n,e),n.coordinateSystem=a,i.push(a)}),t.eachSeries(function(e){if("cartesian2d"===e.get("coordinateSystem")){var n=e.get("xAxisIndex"),o=t.getComponent("xAxis",n),r=i[o.get("gridIndex")];e.coordinateSystem=r.getCartesian(n,e.get("yAxisIndex"))}}),i},r.dimensions=h.prototype.dimensions,i(25).register("cartesian2d",r),t.exports=r},function(t,e,i){var n=i(109),o=i(111);i(112),i(113);var r=i(110),a=i(7),s=i(3),l=i(14),c={};c.getScaleExtent=function(t,e){var i=t.scale,n=i.getExtent(),o=n[1]-n[0];if("ordinal"===i.type)return isFinite(o)?n:[0,0];var r=e.getMin?e.getMin():e.get("min"),l=e.getMax?e.getMax():e.get("max"),c=e.getNeedCrossZero?e.getNeedCrossZero():!e.get("scale"),h=e.get("boundaryGap");s.isArray(h)||(h=[h||0,h||0]),h[0]=a.parsePercent(h[0],1),h[1]=a.parsePercent(h[1],1);var u=!0,d=!0;return null==r&&(r=n[0]-h[0]*o,u=!1),null==l&&(l=n[1]+h[1]*o,d=!1),"dataMin"===r&&(r=n[0]),"dataMax"===l&&(l=n[1]),c&&(r>0&&l>0&&!u&&(r=0),0>r&&0>l&&!d&&(l=0)),[r,l]},c.niceScaleExtent=function(t,e){var i=t.scale,n=c.getScaleExtent(t,e),o=null!=(e.getMin?e.getMin():e.get("min")),r=null!=(e.getMax?e.getMax():e.get("max"));i.setExtent(n[0],n[1]),i.niceExtent(e.get("splitNumber"),o,r);var a=e.get("interval");null!=a&&i.setInterval&&i.setInterval(a)},c.createScaleByModel=function(t,e){if(e=e||t.get("type"))switch(e){case"category":return new n(t.getCategories(),[1/0,-(1/0)]);case"value":return new o;default:return(r.getClass(e)||o).create(t)}},c.ifAxisCrossZero=function(t){var e=t.scale.getExtent(),i=e[0],n=e[1];return!(i>0&&n>0||0>i&&0>n)},c.getAxisLabelInterval=function(t,e,i,n){var o,r=0,a=0,s=1;e.length>40&&(s=Math.round(e.length/40));for(var c=0;c<t.length;c+=s){var h=t[c],u=l.getBoundingRect(e[c],i,"center","top");u[n?"x":"y"]+=h,u[n?"width":"height"]*=1.5,o?o.intersect(u)?(a++,r=Math.max(r,a)):(o.union(u),a=0):o=u.clone()}return 0===r&&s>1?s:r*s},c.getFormattedLabels=function(t,e){var i=t.scale,n=i.getTicksLabels(),o=i.getTicks();return"string"==typeof e?(e=function(t){return function(e){return t.replace("{value}",e)}}(e),s.map(n,e)):"function"==typeof e?s.map(o,function(n,o){return e("category"===t.type?i.getLabel(n):n,o)},this):n},t.exports=c},function(t,e,i){var n=i(3),o=i(110),r=o.prototype,a=o.extend({type:"ordinal",init:function(t,e){this._data=t,this._extent=e||[0,t.length-1]},parse:function(t){return"string"==typeof t?n.indexOf(this._data,t):Math.round(t)},contain:function(t){return t=this.parse(t),r.contain.call(this,t)&&null!=this._data[t]},normalize:function(t){return r.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(r.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,i=e[0];i<=e[1];)t.push(i),i++;return t},getLabel:function(t){return this._data[t]},count:function(){return this._extent[1]-this._extent[0]+1},niceTicks:n.noop,niceExtent:n.noop});a.create=function(){return new a},t.exports=a},function(t,e,i){function n(){this._extent=[1/0,-(1/0)],this._interval=0,this.init&&this.init.apply(this,arguments)}var o=i(9),r=n.prototype;r.parse=function(t){return t},r.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},r.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},r.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},r.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},r.getExtent=function(){return this._extent.slice()},r.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e)},r.getTicksLabels=function(){for(var t=[],e=this.getTicks(),i=0;i<e.length;i++)t.push(this.getLabel(e[i]));return t},o.enableClassExtend(n),o.enableClassManagement(n,{registerWhenExtend:!0}),t.exports=n},function(t,e,i){var n=i(7),o=i(6),r=i(110),a=Math.floor,s=Math.ceil,l=r.extend({type:"interval",_interval:0,setExtent:function(t,e){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(e)||(i[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),l.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval||this.niceTicks(),this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice()},getTicks:function(){this._interval||this.niceTicks();var t=this._interval,e=this._extent,i=[],o=1e4;if(t){var r=this._niceExtent;e[0]<r[0]&&i.push(e[0]);for(var a=r[0];a<=r[1];)if(i.push(a),a=n.round(a+t),i.length>o)return[];e[1]>r[1]&&i.push(e[1])}return i},getTicksLabels:function(){for(var t=[],e=this.getTicks(),i=0;i<e.length;i++)t.push(this.getLabel(e[i]));return t},getLabel:function(t){return o.addCommas(t)},niceTicks:function(t){t=t||5;var e=this._extent,i=e[1]-e[0];if(isFinite(i)){0>i&&(i=-i,e.reverse());var o=n.nice(i/t,!0),r=[n.round(s(e[0]/o)*o),n.round(a(e[1]/o)*o)];this._interval=o,this._niceExtent=r}},niceExtent:function(t,e,i){var o=this._extent;if(o[0]===o[1])if(0!==o[0]){var r=o[0]/2;o[0]-=r,o[1]+=r}else o[1]=1;var l=o[1]-o[0];isFinite(l)||(o[0]=0,o[1]=1),this.niceTicks(t);var c=this._interval;e||(o[0]=n.round(a(o[0]/c)*c)),i||(o[1]=n.round(s(o[1]/c)*c))}});l.create=function(){return new l},t.exports=l},function(t,e,i){var n=i(3),o=i(7),r=i(6),a=i(111),s=a.prototype,l=Math.ceil,c=Math.floor,h=864e5,u=function(t,e,i,n){for(;n>i;){var o=i+n>>>1;t[o][2]<e?i=o+1:n=o}return i},d=a.extend({type:"time",getLabel:function(t){var e=this._stepLvl,i=new Date(t);return r.formatTime(e[0],i)},niceExtent:function(t,e,i){var n=this._extent;if(n[0]===n[1]&&(n[0]-=h,n[1]+=h),n[1]===-(1/0)&&n[0]===1/0){var r=new Date;n[1]=new Date(r.getFullYear(),r.getMonth(),r.getDate()),n[0]=n[1]-h}this.niceTicks(t,e,i);var a=this._interval;e||(n[0]=o.round(c(n[0]/a)*a)),i||(n[1]=o.round(l(n[1]/a)*a))},niceTicks:function(t){t=t||10;var e=this._extent,i=e[1]-e[0],n=i/t,r=f.length,a=u(f,n,0,r),s=f[Math.min(a,r-1)],h=s[2];if("year"===s[0]){var d=i/h,p=o.nice(d/t,!0);h*=p}var g=[l(e[0]/h)*h,c(e[1]/h)*h];this._stepLvl=s,this._interval=h,this._niceExtent=g},parse:function(t){return+o.parseDate(t)}});n.each(["contain","normalize"],function(t){d.prototype[t]=function(e){return s[t].call(this,this.parse(e))}});var f=[["hh:mm:ss",1,1e3],["hh:mm:ss",5,5e3],["hh:mm:ss",10,1e4],["hh:mm:ss",15,15e3],["hh:mm:ss",30,3e4],["hh:mm\nMM-dd",1,6e4],["hh:mm\nMM-dd",5,3e5],["hh:mm\nMM-dd",10,6e5],["hh:mm\nMM-dd",15,9e5],["hh:mm\nMM-dd",30,18e5],["hh:mm\nMM-dd",1,36e5],["hh:mm\nMM-dd",2,72e5],["hh:mm\nMM-dd",6,216e5],["hh:mm\nMM-dd",12,432e5],["MM-dd\nyyyy",1,h],["week",7,7*h],["month",1,31*h],["quarter",3,380*h/4],["half-year",6,380*h/2],["year",1,380*h]];d.create=function(){return new d},t.exports=d},function(t,e,i){var n=i(3),o=i(110),r=i(7),a=i(111),s=o.prototype,l=a.prototype,c=Math.floor,h=Math.ceil,u=Math.pow,d=10,f=Math.log,p=o.extend({type:"log",getTicks:function(){return n.map(l.getTicks.call(this),function(t){return r.round(u(d,t))})},getLabel:l.getLabel,scale:function(t){return t=s.scale.call(this,t),u(d,t)},setExtent:function(t,e){t=f(t)/f(d),e=f(e)/f(d),l.setExtent.call(this,t,e)},getExtent:function(){var t=s.getExtent.call(this);return t[0]=u(d,t[0]),t[1]=u(d,t[1]),t},unionExtent:function(t){t[0]=f(t[0])/f(d),t[1]=f(t[1])/f(d),s.unionExtent.call(this,t)},niceTicks:function(t){t=t||10;var e=this._extent,i=e[1]-e[0];if(!(i===1/0||0>=i)){var n=u(10,c(f(i/t)/Math.LN10)),o=t/i*n;.5>=o&&(n*=10);var a=[r.round(h(e[0]/n)*n),r.round(c(e[1]/n)*n)];this._interval=n,this._niceExtent=a}},niceExtent:l.niceExtent});n.each(["contain","normalize"],function(t){p.prototype[t]=function(e){return e=f(e)/f(d),s[t].call(this,e)}}),p.create=function(){return new p},t.exports=p},function(t,e,i){"use strict";function n(t){r.call(this,t)}var o=i(3),r=i(115);n.prototype={constructor:n,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),i=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoints:function(t,e){return t.mapArray(["x","y"],function(t,e){return this.dataToPoint([t,e])},e,this)},dataToPoint:function(t,e){var i=this.getAxis("x"),n=this.getAxis("y");return[i.toGlobalCoord(i.dataToCoord(t[0],e)),n.toGlobalCoord(n.dataToCoord(t[1],e))]},pointToData:function(t,e){var i=this.getAxis("x"),n=this.getAxis("y");return[i.coordToData(i.toLocalCoord(t[0]),e),n.coordToData(n.toLocalCoord(t[1]),e)]},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")}},o.inherits(n,r),t.exports=n},function(t,e,i){"use strict";function n(t){return this._axes[t]}var o=i(3),r=function(t){this._axes={},this._dimList=[],this.name=t||""};r.prototype={constructor:r,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return o.map(this._dimList,n,this)},getAxesByScale:function(t){return t=t.toLowerCase(),o.filter(this.getAxes(),function(e){return e.scale.type===t})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var i=this._dimList,n=t instanceof Array?[]:{},o=0;o<i.length;o++){var r=i[o],a=this._axes[r];n[r]=a[e](t[r])}return n}},t.exports=r},function(t,e,i){var n=i(3),o=i(117),r=i(118),a=function(t,e,i,n,r){o.call(this,t,e,i),this.type=n||"value",this.position=r||"bottom"};a.prototype={constructor:a,index:0,onZero:!1,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),t},getLabelInterval:function(){var t=this._labelInterval;return t||(t=this._labelInterval=r(this)),t},isLabelIgnored:function(t){if("category"===this.type){var e=this.getLabelInterval();return"function"==typeof e&&!e(t,this.scale.getLabel(t))||t%(e+1)}},toLocalCoord:null,toGlobalCoord:null},n.inherits(a,o),t.exports=a},function(t,e,i){function n(t,e){var i=t[1]-t[0],n=e,o=i/n/2;t[0]+=o,t[1]-=o}var o=i(7),r=o.linearMap,a=i(3),s=[0,1],l=function(t,e,i){this.dim=t,this.scale=e,this._extent=i||[0,0],this.inverse=!1,this.onBand=!1};l.prototype={constructor:l,contain:function(t){var e=this._extent,i=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]);return t>=i&&n>=t},containData:function(t){return this.contain(this.dataToCoord(t))},getExtent:function(){var t=this._extent.slice();return t},getPixelPrecision:function(t){return o.getPixelPrecision(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var i=this._extent;i[0]=t,i[1]=e},dataToCoord:function(t,e){var i=this._extent,o=this.scale;return t=o.normalize(t),this.onBand&&"ordinal"===o.type&&(i=i.slice(),n(i,o.count())),r(t,s,i,e)},coordToData:function(t,e){var i=this._extent,o=this.scale;this.onBand&&"ordinal"===o.type&&(i=i.slice(),
n(i,o.count()));var a=r(t,i,s,e);return this.scale.scale(a)},getTicksCoords:function(){if(this.onBand){for(var t=this.getBands(),e=[],i=0;i<t.length;i++)e.push(t[i][0]);return t[i-1]&&e.push(t[i-1][1]),e}return a.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){if(this.onBand){for(var t,e=this.getBands(),i=[],n=0;n<e.length;n++)t=e[n],i.push((t[0]+t[1])/2);return i}return a.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var t=this.getExtent(),e=[],i=this.scale.count(),n=t[0],o=t[1],r=o-n,a=0;i>a;a++)e.push([r*a/i+n,r*(a+1)/i+n]);return e},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),i=e[1]-e[0]+(this.onBand?1:0);0===i&&(i=1);var n=Math.abs(t[1]-t[0]);return Math.abs(n)/i}},t.exports=l},function(t,e,i){"use strict";var n=i(3),o=i(108);t.exports=function(t){var e=t.model,i=e.getModel("axisLabel"),r=i.get("interval");return"category"!==t.type||"auto"!==r?"auto"===r?0:r:o.getAxisLabelInterval(n.map(t.scale.getTicks(),t.dataToCoord,t),e.getFormattedLabels(),i.getModel("textStyle").getFont(),t.isHorizontal())}},function(t,e,i){"use strict";i(120);var n=i(19);t.exports=n.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}})},function(t,e,i){"use strict";function n(t,e){return e.type||(e.data?"category":"value")}var o=i(19),r=i(3),a=i(121),s=o.extend({type:"cartesian2dAxis",axis:null,init:function(){s.superApply(this,"init",arguments),this._resetRange()},mergeOption:function(){s.superApply(this,"mergeOption",arguments),this._resetRange()},restoreData:function(){s.superApply(this,"restoreData",arguments),this._resetRange()},setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},getMin:function(){var t=this.option;return null!=t.rangeStart?t.rangeStart:t.min},getMax:function(){var t=this.option;return null!=t.rangeEnd?t.rangeEnd:t.max},getNeedCrossZero:function(){var t=this.option;return null!=t.rangeStart||null!=t.rangeEnd?!1:!t.scale},_resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}});r.merge(s.prototype,i(123));var l={gridIndex:0};a("x",s,n,l),a("y",s,n,l),t.exports=s},function(t,e,i){var n=i(122),o=i(3),r=i(19),a=i(21),s=["value","category","time","log"];t.exports=function(t,e,i,l){o.each(s,function(r){e.extend({type:t+"Axis."+r,mergeDefaultAndTheme:function(e,n){var s=this.layoutMode,l=s?a.getLayoutParams(e):{},c=n.getTheme();o.merge(e,c.get(r+"Axis")),o.merge(e,this.getDefaultOption()),e.type=i(t,e),s&&a.mergeLayoutParam(e,l,s)},defaultOption:o.mergeAll([{},n[r+"Axis"],l],!0)})}),r.registerSubTypeDefaulter(t+"Axis",o.curry(i,t))}},function(t,e,i){var n=i(3),o={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameTextStyle:{},nameGap:15,axisLine:{show:!0,onZero:!0,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{color:"#333",fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},r=n.merge({boundaryGap:!0,axisTick:{interval:"auto"},axisLabel:{interval:"auto"}},o),a=n.defaults({boundaryGap:[0,0],splitNumber:5},o),s=n.defaults({scale:!0,min:"dataMin",max:"dataMax"},a),l=n.defaults({},a);l.scale=!0,t.exports={categoryAxis:r,valueAxis:a,timeAxis:s,logAxis:l}},function(t,e,i){function n(t){return a.isObject(t)&&null!=t.value?t.value:t}function o(){return"category"===this.get("type")&&a.map(this.get("data"),n)}function r(){return s.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))}var a=i(3),s=i(108);t.exports={getFormattedLabels:r,getCategories:o}},function(t,e,i){"use strict";i(120),i(125)},function(t,e,i){function n(t,e){function i(t,e){var i=n.getAxis(t);return i.toGlobalCoord(i.dataToCoord(0))}var n=t.coordinateSystem,o=e.axis,r={},a=o.position,s=o.onZero?"onZero":a,l=o.dim,c=n.getRect(),h=[c.x,c.x+c.width,c.y,c.y+c.height],u={x:{top:h[2],bottom:h[3]},y:{left:h[0],right:h[1]}};u.x.onZero=Math.max(Math.min(i("y"),u.x.bottom),u.x.top),u.y.onZero=Math.max(Math.min(i("x"),u.y.right),u.y.left),r.position=["y"===l?u.y[s]:h[0],"x"===l?u.x[s]:h[3]];var d={x:0,y:1};r.rotation=Math.PI/2*d[l];var f={top:-1,bottom:1,left:-1,right:1};r.labelDirection=r.tickDirection=r.nameDirection=f[a],o.onZero&&(r.labelOffset=u[l][a]-u[l].onZero),e.getModel("axisTick").get("inside")&&(r.tickDirection=-r.tickDirection),e.getModel("axisLabel").get("inside")&&(r.labelDirection=-r.labelDirection);var p=e.getModel("axisLabel").get("rotate");return r.labelRotation="top"===s?-p:p,r.labelInterval=o.getLabelInterval(),r.z2=1,r}var o=i(3),r=i(42),a=i(126),s=a.ifIgnoreOnTick,l=a.getInterval,c=["axisLine","axisLabel","axisTick","axisName"],h=["splitLine","splitArea"],u=i(1).extendComponentView({type:"axis",render:function(t,e){if(this.group.removeAll(),t.get("show")){var i=e.getComponent("grid",t.get("gridIndex")),r=n(i,t),s=new a(t,r);o.each(c,s.add,s),this.group.add(s.getGroup()),o.each(h,function(e){t.get(e+".show")&&this["_"+e](t,i,r.labelInterval)},this)}},_splitLine:function(t,e,i){var n=t.axis,a=t.getModel("splitLine"),c=a.getModel("lineStyle"),h=c.get("width"),u=c.get("color"),d=l(a,i);u=o.isArray(u)?u:[u];for(var f=e.coordinateSystem.getRect(),p=n.isHorizontal(),g=[],m=0,v=n.getTicksCoords(),y=[],x=[],b=0;b<v.length;b++)if(!s(n,b,d)){var w=n.toGlobalCoord(v[b]);p?(y[0]=w,y[1]=f.y,x[0]=w,x[1]=f.y+f.height):(y[0]=f.x,y[1]=w,x[0]=f.x+f.width,x[1]=w);var _=m++%u.length;g[_]=g[_]||[],g[_].push(new r.Line(r.subPixelOptimizeLine({shape:{x1:y[0],y1:y[1],x2:x[0],y2:x[1]},style:{lineWidth:h},silent:!0})))}for(var T=c.getLineStyle(),b=0;b<g.length;b++)this.group.add(r.mergePath(g[b],{style:o.defaults({stroke:u[b%u.length]},T),silent:!0}))},_splitArea:function(t,e,i){var n=t.axis,a=t.getModel("splitArea"),c=a.getModel("areaStyle"),h=c.get("color"),u=e.coordinateSystem.getRect(),d=n.getTicksCoords(),f=n.toGlobalCoord(d[0]),p=n.toGlobalCoord(d[0]),g=[],m=0,v=l(a,i);h=o.isArray(h)?h:[h];for(var y=1;y<d.length;y++)if(!s(n,y,v)){var x,b,w,_,T=n.toGlobalCoord(d[y]);n.isHorizontal()?(x=f,b=u.y,w=T-x,_=u.height):(x=u.x,b=p,w=u.width,_=T-b);var S=m++%h.length;g[S]=g[S]||[],g[S].push(new r.Rect({shape:{x:x,y:b,width:w,height:_},silent:!0})),f=x+w,p=b+_}for(var C=c.getAreaStyle(),y=0;y<g.length;y++)this.group.add(r.mergePath(g[y],{style:o.defaults({fill:h[y%h.length]},C),silent:!0}))}});u.extend({type:"xAxis"}),u.extend({type:"yAxis"})},function(t,e,i){function n(t,e,i){var n,o,r=c(e-t.rotation);return h(r)?(o=i>0?"top":"bottom",n="center"):h(r-u)?(o=i>0?"bottom":"top",n="center"):(o="middle",n=r>0&&u>r?i>0?"right":"left":i>0?"left":"right"),{rotation:r,textAlign:n,verticalAlign:o}}function o(t,e,i){var n,o,r=c(-t.rotation),a=i[0]>i[1],s="start"===e&&!a||"start"!==e&&a;return h(r-u/2)?(o=s?"bottom":"top",n="center"):h(r-1.5*u)?(o=s?"top":"bottom",n="center"):(o="middle",n=1.5*u>r&&r>u/2?s?"left":"right":s?"right":"left"),{rotation:r,textAlign:n,verticalAlign:o}}var r=i(3),a=i(42),s=i(8),l=i(7),c=l.remRadian,h=l.isRadianAroundZero,u=Math.PI,d=function(t,e){this.opt=e,this.axisModel=t,r.defaults(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new a.Group({position:e.position.slice(),rotation:e.rotation})};d.prototype={constructor:d,hasBuilder:function(t){return!!f[t]},add:function(t){f[t].call(this)},getGroup:function(){return this.group}};var f={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var i=this.axisModel.axis.getExtent();this.group.add(new a.Line({shape:{x1:i[0],y1:0,x2:i[1],y2:0},style:r.extend({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:t.strokeContainThreshold,silent:!!t.silent,z2:1}))}},axisTick:function(){var t=this.axisModel;if(t.get("axisTick.show")){for(var e=t.axis,i=t.getModel("axisTick"),n=this.opt,o=i.getModel("lineStyle"),r=i.get("length"),s=g(i,n.labelInterval),l=e.getTicksCoords(),c=[],h=0;h<l.length;h++)if(!p(e,h,s)){var u=l[h];c.push(new a.Line(a.subPixelOptimizeLine({shape:{x1:u,y1:0,x2:u,y2:n.tickDirection*r},style:{lineWidth:o.get("width")},silent:!0})))}this.group.add(a.mergePath(c,{style:o.getLineStyle(),z2:2,silent:!0}))}},axisLabel:function(){function t(t,e){var i=t&&t.getBoundingRect().clone(),n=e&&e.getBoundingRect().clone();return i&&n?(i.applyTransform(t.getLocalTransform()),n.applyTransform(e.getLocalTransform()),i.intersect(n)):void 0}var e=this.axisModel;if(e.get("axisLabel.show")){var i=this.opt,o=e.axis,r=e.getModel("axisLabel"),l=r.getModel("textStyle"),c=r.get("margin"),h=o.scale.getTicks(),d=e.getFormattedLabels(),f=i.labelRotation;null==f&&(f=r.get("rotate")||0),f=f*u/180;for(var g=n(i,f,i.labelDirection),m=e.get("data"),v=[],y=0;y<h.length;y++)if(!p(o,y,i.labelInterval)){var x=l;m&&m[y]&&m[y].textStyle&&(x=new s(m[y].textStyle,l,e.ecModel));var b=o.dataToCoord(h[y]),w=[b,i.labelOffset+i.labelDirection*c],_=new a.Text({style:{text:d[y],textAlign:x.get("align",!0)||g.textAlign,textVerticalAlign:x.get("baseline",!0)||g.verticalAlign,textFont:x.getFont(),fill:x.getTextColor()},position:w,rotation:g.rotation,silent:!0,z2:10});v.push(_),this.group.add(_)}if("category"!==o.type){if(e.getMin?e.getMin():e.get("min")){var T=v[0],S=v[1];t(T,S)&&(T.ignore=!0)}if(e.getMax?e.getMax():e.get("max")){var C=v[v.length-1],k=v[v.length-2];t(k,C)&&(C.ignore=!0)}}}},axisName:function(){var t=this.opt,e=this.axisModel,i=this.opt.axisName;if(null==i&&(i=e.get("name")),i){var r,s=e.get("nameLocation"),l=t.nameDirection,c=e.getModel("nameTextStyle"),h=e.get("nameGap")||0,u=this.axisModel.axis.getExtent(),d=u[0]>u[1]?-1:1,f=["start"===s?u[0]-d*h:"end"===s?u[1]+d*h:(u[0]+u[1])/2,"middle"===s?t.labelOffset+l*h:0];r="middle"===s?n(t,t.rotation,l):o(t,s,u),this.group.add(new a.Text({style:{text:i,textFont:c.getFont(),fill:c.getTextColor()||e.get("axisLine.lineStyle.color"),textAlign:r.textAlign,textVerticalAlign:r.verticalAlign},position:f,rotation:r.rotation,silent:!0,z2:1}))}}},p=d.ifIgnoreOnTick=function(t,e,i){var n,o=t.scale;return"ordinal"===o.type&&("function"==typeof i?(n=o.getTicks()[e],!i(n,o.getLabel(n))):e%(i+1))},g=d.getInterval=function(t,e){var i=t.get("interval");return null!=i&&"auto"!=i||(i=e),i};t.exports=d},function(t,e,i){var n=i(3);i(107),i(128),i(129);var o=i(131),r=i(1);r.registerLayout(n.curry(o,"bar")),r.registerVisualCoding("chart",function(t){t.eachSeriesByType("bar",function(t){var e=t.getData();e.setVisual("legendSymbol","roundRect")})}),i(106)},function(t,e,i){"use strict";var n=i(27),o=i(93);t.exports=n.extend({type:"series.bar",dependencies:["grid","polar"],getInitialData:function(t,e){return o(t.data,this,e)},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var i=e.dataToPoint(t),n=this.getData(),o=n.getLayout("offset"),r=n.getLayout("size"),a=e.getBaseAxis().isHorizontal()?0:1;return i[a]+=o+r/2,i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,barMinHeight:0,itemStyle:{normal:{barBorderColor:"#fff",barBorderWidth:0},emphasis:{barBorderColor:"#fff",barBorderWidth:0}}}})},function(t,e,i){"use strict";function n(t,e){var i=t.width>0?1:-1,n=t.height>0?1:-1;e=Math.min(e,Math.abs(t.width),Math.abs(t.height)),t.x+=i*e/2,t.y+=n*e/2,t.width-=i*e,t.height-=n*e}var o=i(3),r=i(42);o.extend(i(8).prototype,i(130)),t.exports=i(1).extendChartView({type:"bar",render:function(t,e,i){var n=t.get("coordinateSystem");return"cartesian2d"===n&&this._renderOnCartesian(t,e,i),this.group},_renderOnCartesian:function(t,e,i){function a(e,i){var a=l.getItemLayout(e),s=l.getItemModel(e).get(p)||0;n(a,s);var c=new r.Rect({shape:o.extend({},a)});if(f){var h=c.shape,u=d?"height":"width",g={};h[u]=0,g[u]=a[u],r[i?"updateProps":"initProps"](c,{shape:g},t)}return c}var s=this.group,l=t.getData(),c=this._data,h=t.coordinateSystem,u=h.getBaseAxis(),d=u.isHorizontal(),f=t.get("animation"),p=["itemStyle","normal","barBorderWidth"];l.diff(c).add(function(t){if(l.hasValue(t)){var e=a(t);l.setItemGraphicEl(t,e),s.add(e)}}).update(function(e,i){var o=c.getItemGraphicEl(i);if(!l.hasValue(e))return void s.remove(o);o||(o=a(e,!0));var h=l.getItemLayout(e),u=l.getItemModel(e).get(p)||0;n(h,u),r.updateProps(o,{shape:h},t),l.setItemGraphicEl(e,o),s.add(o)}).remove(function(e){var i=c.getItemGraphicEl(e);i&&(i.style.text="",r.updateProps(i,{shape:{width:0}},t,function(){s.remove(i)}))}).execute(),this._updateStyle(t,l,d),this._data=l},_updateStyle:function(t,e,i){function n(t,e,i,n,o){r.setText(t,e,i),t.text=n,"outside"===t.textPosition&&(t.textPosition=o)}e.eachItemGraphicEl(function(a,s){var l=e.getItemModel(s),c=e.getItemVisual(s,"color"),h=e.getItemLayout(s),u=l.getModel("itemStyle.normal"),d=l.getModel("itemStyle.emphasis").getBarItemStyle();a.setShape("r",u.get("barBorderRadius")||0),a.setStyle(o.defaults({fill:c},u.getBarItemStyle()));var f=i?h.height>0?"bottom":"top":h.width>0?"left":"right",p=l.getModel("label.normal"),g=l.getModel("label.emphasis"),m=a.style;p.get("show")?n(m,p,c,o.retrieve(t.getFormattedLabel(s,"normal"),t.getRawValue(s)),f):m.text="",g.get("show")?n(d,g,c,o.retrieve(t.getFormattedLabel(s,"emphasis"),t.getRawValue(s)),f):d.text="",r.setHoverStyle(a,d)})},remove:function(t,e){var i=this.group;t.get("animation")?this._data&&this._data.eachItemGraphicEl(function(e){e.style.text="",r.updateProps(e,{shape:{width:0}},t,function(){i.remove(e)})}):i.removeAll()}})},function(t,e,i){t.exports={getBarItemStyle:i(11)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]])}},function(t,e,i){"use strict";function n(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function o(t,e){var i={};a.each(t,function(t,e){var o=t.coordinateSystem,r=o.getBaseAxis(),a=i[r.index]||{remainedWidth:r.getBandWidth(),autoWidthCount:0,categoryGap:"20%",gap:"30%",axis:r,stacks:{}},s=a.stacks;i[r.index]=a;var l=n(t);s[l]||a.autoWidthCount++,s[l]=s[l]||{width:0,maxWidth:0};var c=t.get("barWidth"),h=t.get("barMaxWidth"),u=t.get("barGap"),d=t.get("barCategoryGap");c&&!s[l].width&&(c=Math.min(a.remainedWidth,c),s[l].width=c,a.remainedWidth-=c),h&&(s[l].maxWidth=h),null!=u&&(a.gap=u),null!=d&&(a.categoryGap=d)});var o={};return a.each(i,function(t,e){o[e]={};var i=t.stacks,n=t.axis,r=n.getBandWidth(),s=l(t.categoryGap,r),c=l(t.gap,1),h=t.remainedWidth,u=t.autoWidthCount,d=(h-s)/(u+(u-1)*c);d=Math.max(d,0),a.each(i,function(t,e){var i=t.maxWidth;!t.width&&i&&d>i&&(i=Math.min(i,h),h-=i,t.width=i,u--)}),d=(h-s)/(u+(u-1)*c),d=Math.max(d,0);var f,p=0;a.each(i,function(t,e){t.width||(t.width=d),f=t,p+=t.width*(1+c)}),f&&(p-=f.width*c);var g=-p/2;a.each(i,function(t,i){o[e][i]=o[e][i]||{offset:g,width:t.width},g+=t.width*(1+c)})}),o}function r(t,e,i){var r=o(a.filter(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type})),s={};e.eachSeriesByType(t,function(t){var e=t.getData(),i=t.coordinateSystem,o=i.getBaseAxis(),a=n(t),l=r[o.index][a],c=l.offset,h=l.width,u=i.getOtherAxis(o),d=t.get("barMinHeight")||0,f=o.onZero?u.toGlobalCoord(u.dataToCoord(0)):u.getGlobalExtent()[0],p=i.dataToPoints(e,!0);s[a]=s[a]||[],e.setLayout({offset:c,size:h}),e.each(u.dim,function(t,i){if(!isNaN(t)){s[a][i]||(s[a][i]={p:f,n:f});var n,o,r,l,g=t>=0?"p":"n",m=p[i],v=s[a][i][g];u.isHorizontal()?(n=v,o=m[1]+c,r=m[0]-v,l=h,Math.abs(r)<d&&(r=(0>r?-1:1)*d),s[a][i][g]+=r):(n=m[0]+c,o=v,r=h,l=m[1]-v,Math.abs(l)<d&&(l=(0>=l?-1:1)*d),s[a][i][g]+=l),e.setItemLayout(i,{x:n,y:o,width:r,height:l})}},!0)},this)}var a=i(3),s=i(7),l=s.parsePercent;t.exports=r},function(t,e,i){var n=i(3),o=i(1);i(133),i(135),i(136)("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),o.registerVisualCoding("chart",n.curry(i(137),"pie")),o.registerLayout(n.curry(i(138),"pie")),o.registerProcessor("filter",n.curry(i(140),"pie"))},function(t,e,i){"use strict";var n=i(94),o=i(3),r=i(5),a=i(96),s=i(134),l=i(1).extendSeriesModel({type:"series.pie",init:function(t){l.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed},this.updateSelectedMap(),this._defaultLabelLine(t)},mergeOption:function(t){l.superCall(this,"mergeOption",t),this.updateSelectedMap()},getInitialData:function(t,e){var i=a(["value"],t.data),o=new n(i,this);return o.initData(t.data),o},getDataParams:function(t){var e=this._data,i=l.superCall(this,"getDataParams",t),n=e.getSum("value");return i.percent=n?+(e.get("value",t)/n*100).toFixed(2):0,i.$vars.push("percent"),i},_defaultLabelLine:function(t){r.defaultEmphasis(t.labelLine,["show"]);var e=t.labelLine.normal,i=t.labelLine.emphasis;e.show=e.show&&t.label.normal.show,i.show=i.show&&t.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderColor:"rgba(0,0,0,0)",borderWidth:1},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1}},animationEasing:"cubicOut",data:[]}});o.mixin(l,s),t.exports=l},function(t,e,i){var n=i(3);t.exports={updateSelectedMap:function(){var t=this.option;this._dataOptMap=n.reduce(t.data,function(t,e){return t[e.name]=e,t},{})},select:function(t){var e=this._dataOptMap,i=e[t],o=this.get("selectedMode");"single"===o&&n.each(e,function(t){t.selected=!1}),i&&(i.selected=!0)},unSelect:function(t){var e=this._dataOptMap[t];e&&(e.selected=!1)},toggleSelected:function(t){var e=this._dataOptMap[t];return null!=e?(this[e.selected?"unSelect":"select"](t),e.selected):void 0},isSelected:function(t){var e=this._dataOptMap[t];return e&&e.selected}}},function(t,e,i){function n(t,e,i,n){var r=e.getData(),a=this.dataIndex,s=r.getName(a),l=e.get("selectedOffset");n.dispatchAction({type:"pieToggleSelect",from:t,name:s,seriesId:e.id}),r.each(function(t){o(r.getItemGraphicEl(t),r.getItemLayout(t),e.isSelected(r.getName(t)),l,i)})}function o(t,e,i,n,o){var r=(e.startAngle+e.endAngle)/2,a=Math.cos(r),s=Math.sin(r),l=i?n:0,c=[a*l,s*l];o?t.animate().when(200,{position:c}).start("bounceOut"):t.attr("position",c)}function r(t,e){function i(){r.ignore=r.hoverIgnore,a.ignore=a.hoverIgnore}function n(){r.ignore=r.normalIgnore,a.ignore=a.normalIgnore}s.Group.call(this);var o=new s.Sector({z2:2}),r=new s.Polyline,a=new s.Text;this.add(o),this.add(r),this.add(a),this.updateData(t,e,!0),this.on("emphasis",i).on("normal",n).on("mouseover",i).on("mouseout",n)}function a(t,e,i,n,o){var r=n.getModel("textStyle"),a="inside"===o||"inner"===o;return{fill:r.getTextColor()||(a?"#fff":t.getItemVisual(e,"color")),textFont:r.getFont(),text:l.retrieve(t.hostModel.getFormattedLabel(e,i),t.getName(e))}}var s=i(42),l=i(3),c=r.prototype;c.updateData=function(t,e,i){function n(){a.stopAnimation(!0),a.animateTo({shape:{r:u.r+10}},300,"elasticOut")}function r(){a.stopAnimation(!0),a.animateTo({shape:{r:u.r}},300,"elasticOut")}var a=this.childAt(0),c=t.hostModel,h=t.getItemModel(e),u=t.getItemLayout(e),d=l.extend({},u);d.label=null,i?(a.setShape(d),a.shape.endAngle=u.startAngle,s.updateProps(a,{shape:{endAngle:u.endAngle}},c)):s.updateProps(a,{shape:d},c);var f=h.getModel("itemStyle"),p=t.getItemVisual(e,"color");a.setStyle(l.defaults({fill:p},f.getModel("normal").getItemStyle())),a.hoverStyle=f.getModel("emphasis").getItemStyle(),o(this,t.getItemLayout(e),h.get("selected"),c.get("selectedOffset"),c.get("animation")),a.off("mouseover").off("mouseout").off("emphasis").off("normal"),h.get("hoverAnimation")&&a.on("mouseover",n).on("mouseout",r).on("emphasis",n).on("normal",r),this._updateLabel(t,e),s.setHoverStyle(this)},c._updateLabel=function(t,e){var i=this.childAt(1),n=this.childAt(2),o=t.hostModel,r=t.getItemModel(e),l=t.getItemLayout(e),c=l.label,h=t.getItemVisual(e,"color");s.updateProps(i,{shape:{points:c.linePoints||[[c.x,c.y],[c.x,c.y],[c.x,c.y]]}},o),s.updateProps(n,{style:{x:c.x,y:c.y}},o),n.attr({style:{textVerticalAlign:c.verticalAlign,textAlign:c.textAlign,textFont:c.font},rotation:c.rotation,origin:[c.x,c.y],z2:10});var u=r.getModel("label.normal"),d=r.getModel("label.emphasis"),f=r.getModel("labelLine.normal"),p=r.getModel("labelLine.emphasis"),g=u.get("position")||d.get("position");n.setStyle(a(t,e,"normal",u,g)),n.ignore=n.normalIgnore=!u.get("show"),n.hoverIgnore=!d.get("show"),i.ignore=i.normalIgnore=!f.get("show"),i.hoverIgnore=!p.get("show"),i.setStyle({stroke:h}),i.setStyle(f.getModel("lineStyle").getLineStyle()),n.hoverStyle=a(t,e,"emphasis",d,g),i.hoverStyle=p.getModel("lineStyle").getLineStyle();var m=f.get("smooth");m&&m===!0&&(m=.4),i.setShape({smooth:m})},l.inherits(r,s.Group);var h=i(41).extend({type:"pie",init:function(){var t=new s.Group;this._sectorGroup=t},render:function(t,e,i,o){if(!o||o.from!==this.uid){var a=t.getData(),s=this._data,c=this.group,h=e.get("animation"),u=!s,d=l.curry(n,this.uid,t,h,i),f=t.get("selectedMode");if(a.diff(s).add(function(t){var e=new r(a,t);u&&e.eachChild(function(t){t.stopAnimation(!0)}),f&&e.on("click",d),a.setItemGraphicEl(t,e),c.add(e)}).update(function(t,e){var i=s.getItemGraphicEl(e);i.updateData(a,t),i.off("click"),f&&i.on("click",d),c.add(i),a.setItemGraphicEl(t,i)}).remove(function(t){var e=s.getItemGraphicEl(t);c.remove(e)}).execute(),h&&u&&a.count()>0){var p=a.getItemLayout(0),g=Math.max(i.getWidth(),i.getHeight())/2,m=l.bind(c.removeClipPath,c);c.setClipPath(this._createClipPath(p.cx,p.cy,g,p.startAngle,p.clockwise,m,t))}this._data=a}},_createClipPath:function(t,e,i,n,o,r,a){var l=new s.Sector({shape:{cx:t,cy:e,r0:0,r:i,startAngle:n,endAngle:n,clockwise:o}});return s.initProps(l,{shape:{endAngle:n+(o?1:-1)*Math.PI*2}},a,r),l}});t.exports=h},function(t,e,i){var n=i(1),o=i(3);t.exports=function(t,e){o.each(e,function(e){e.update="updateView",n.registerAction(e,function(i,n){var o={};return n.eachComponent({mainType:"series",subType:t,query:i},function(t){t[e.method]&&t[e.method](i.name);var n=t.getData();n.each(function(e){var i=n.getName(e);o[i]=t.isSelected(i)||!1})}),{name:i.name,selected:o}})})}},function(t,e){t.exports=function(t,e){var i=e.get("color"),n=0;e.eachRawSeriesByType(t,function(t){var o=t.get("color",!0),r=t.getRawData();if(!e.isSeriesFiltered(t)){var a=t.getData();a.each(function(t){var e=a.getItemModel(t),s=a.getRawIndex(t),l=a.getItemVisual(t,"color",!0);if(l)r.setItemVisual(s,"color",l);else{var c=o?o[s%o.length]:i[(s+n)%i.length],h=e.get("itemStyle.normal.color")||c;r.setItemVisual(s,"color",h),a.setItemVisual(t,"color",h)}})}n+=r.count()})}},function(t,e,i){var n=i(7),o=n.parsePercent,r=i(139),a=i(3),s=2*Math.PI,l=Math.PI/180;t.exports=function(t,e,i){e.eachSeriesByType(t,function(t){var e=t.get("center"),c=t.get("radius");a.isArray(c)||(c=[0,c]),a.isArray(e)||(e=[e,e]);var h=i.getWidth(),u=i.getHeight(),d=Math.min(h,u),f=o(e[0],h),p=o(e[1],u),g=o(c[0],d/2),m=o(c[1],d/2),v=t.getData(),y=-t.get("startAngle")*l,x=t.get("minAngle")*l,b=v.getSum("value"),w=Math.PI/(b||v.count())*2,_=t.get("clockwise"),T=t.get("roseType"),S=v.getDataExtent("value");S[0]=0;var C=s,k=0,M=y,A=_?1:-1;if(v.each("value",function(t,e){var i;i="area"!==T?0===b?w:t*w:s/(v.count()||1),x>i?(i=x,C-=x):k+=t;var o=M+A*i;v.setItemLayout(e,{angle:i,startAngle:M,endAngle:o,clockwise:_,cx:f,cy:p,r0:g,r:T?n.linearMap(t,S,[g,m]):m}),M=o},!0),s>C)if(.001>=C){var D=s/v.count();v.each(function(t){var e=v.getItemLayout(t);e.startAngle=y+A*t*D,e.endAngle=y+A*(t+1)*D})}else w=C/k,M=y,v.each("value",function(t,e){var i=v.getItemLayout(e),n=i.angle===x?x:t*w;i.startAngle=M,i.endAngle=M+A*n,M+=n});r(t,m,h,u)})}},function(t,e,i){"use strict";function n(t,e,i,n,o,r,a){function s(e,i,n,o){for(var r=e;i>r;r++)if(t[r].y+=n,r>e&&i>r+1&&t[r+1].y>t[r].y+t[r].height)return void l(r,n/2);l(i-1,n/2)}function l(e,i){for(var n=e;n>=0&&(t[n].y-=i,!(n>0&&t[n].y>t[n-1].y+t[n-1].height));n--);}function c(t,e,i,n,o,r){for(var a=r>0?e?Number.MAX_VALUE:0:e?Number.MAX_VALUE:0,s=0,l=t.length;l>s;s++)if("center"!==t[s].position){var c=Math.abs(t[s].y-n),h=t[s].len,u=t[s].len2,d=o+h>c?Math.sqrt((o+h+u)*(o+h+u)-c*c):Math.abs(t[s].x-i);e&&d>=a&&(d=a-10),!e&&a>=d&&(d=a+10),t[s].x=i+d*r,a=d}}t.sort(function(t,e){return t.y-e.y});for(var h,u=0,d=t.length,f=[],p=[],g=0;d>g;g++)h=t[g].y-u,0>h&&s(g,d,-h,o),u=t[g].y+t[g].height;0>a-u&&l(d-1,u-a);for(var g=0;d>g;g++)t[g].y>=i?p.push(t[g]):f.push(t[g]);c(f,!1,e,i,n,o),c(p,!0,e,i,n,o)}function o(t,e,i,o,r,a){for(var s=[],l=[],c=0;c<t.length;c++)t[c].x<e?s.push(t[c]):l.push(t[c]);n(l,e,i,o,1,r,a),n(s,e,i,o,-1,r,a);for(var c=0;c<t.length;c++){var h=t[c].linePoints;if(h){var u=h[1][0]-h[2][0];t[c].x<e?h[2][0]=t[c].x+3:h[2][0]=t[c].x-3,h[1][1]=h[2][1]=t[c].y,h[1][0]=h[2][0]+u}}}var r=i(14);t.exports=function(t,e,i,n){var a,s,l=t.getData(),c=[],h=!1;l.each(function(i){var n,o,u,d,f=l.getItemLayout(i),p=l.getItemModel(i),g=p.getModel("label.normal"),m=g.get("position")||p.get("label.emphasis.position"),v=p.getModel("labelLine.normal"),y=v.get("length"),x=v.get("length2"),b=(f.startAngle+f.endAngle)/2,w=Math.cos(b),_=Math.sin(b);a=f.cx,s=f.cy;var T="inside"===m||"inner"===m;if("center"===m)n=f.cx,o=f.cy,d="center";else{var S=(T?(f.r+f.r0)/2*w:f.r*w)+a,C=(T?(f.r+f.r0)/2*_:f.r*_)+s;if(n=S+3*w,o=C+3*_,!T){var k=S+w*(y+e-f.r),M=C+_*(y+e-f.r),A=k+(0>w?-1:1)*x,D=M;n=A+(0>w?-5:5),o=D,u=[[S,C],[k,M],[A,D]]}d=T?"center":w>0?"left":"right"}var I=g.getModel("textStyle").getFont(),L=g.get("rotate")?0>w?-b+Math.PI:-b:0,P=t.getFormattedLabel(i,"normal")||l.getName(i),N=r.getBoundingRect(P,I,d,"top");h=!!L,f.label={x:n,y:o,position:m,height:N.height,len:y,len2:x,linePoints:u,textAlign:d,verticalAlign:"middle",font:I,rotation:L},T||c.push(f.label)}),!h&&t.get("avoidLabelOverlap")&&o(c,a,s,e,i,n)}},function(t,e){t.exports=function(t,e){var i=e.findComponents({mainType:"legend"});i&&i.length&&e.eachSeriesByType(t,function(t){var e=t.getData();e.filterSelf(function(t){for(var n=e.getName(t),o=0;o<i.length;o++)if(!i[o].isSelected(n))return!1;return!0},this)},this)}},function(t,e,i){var n=i(3),o=i(1);i(142),i(143),o.registerVisualCoding("chart",n.curry(i(103),"scatter","circle",null)),o.registerLayout(n.curry(i(104),"scatter")),i(106)},function(t,e,i){"use strict";var n=i(93),o=i(27);t.exports=o.extend({type:"series.scatter",dependencies:["grid","polar"],getInitialData:function(t,e){var i=n(t.data,this,e);return i},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,polarIndex:0,geoIndex:0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{normal:{opacity:.8}}}})},function(t,e,i){var n=i(98),o=i(144);i(1).extendChartView({type:"scatter",init:function(){this._normalSymbolDraw=new n,this._largeSymbolDraw=new o},render:function(t,e,i){var n=t.getData(),o=this._largeSymbolDraw,r=this._normalSymbolDraw,a=this.group,s=t.get("large")&&n.count()>t.get("largeThreshold")?o:r;this._symbolDraw=s,s.updateData(n),a.add(s.group),a.remove(s===o?r.group:o.group)},updateLayout:function(t){this._symbolDraw.updateLayout(t)},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e,!0)}})},function(t,e,i){function n(){this.group=new o.Group,this._symbolEl=new s({silent:!0})}var o=i(42),r=i(100),a=i(3),s=o.extendShape({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(t,e){for(var i=e.points,n=e.sizes,o=this.symbolProxy,r=o.shape,a=0;a<i.length;a++){var s=i[a],l=n[a];l[0]<4?t.rect(s[0]-l[0]/2,s[1]-l[1]/2,l[0],l[1]):(r.x=s[0]-l[0]/2,r.y=s[1]-l[1]/2,r.width=l[0],r.height=l[1],o.buildPath(t,r))}}}),l=n.prototype;l.updateData=function(t){this.group.removeAll();var e=this._symbolEl,i=t.hostModel;e.setShape({points:t.mapArray(t.getItemLayout),sizes:t.mapArray(function(e){var i=t.getItemVisual(e,"symbolSize");return a.isArray(i)||(i=[i,i]),i})}),e.symbolProxy=r.createSymbol(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor,e.setStyle(i.getModel("itemStyle.normal").getItemStyle(["color"]));var n=t.getVisual("color");n&&e.setColor(n),this.group.add(this._symbolEl)},l.updateLayout=function(t){var e=t.getData();this._symbolEl.setShape({points:e.mapArray(e.getItemLayout)})},l.remove=function(){this.group.removeAll()},t.exports=n},function(t,e,i){var n=i(3),o=i(1);i(146),i(151),i(152),o.registerVisualCoding("chart",n.curry(i(137),"radar")),o.registerVisualCoding("chart",n.curry(i(103),"radar","circle",null)),o.registerLayout(i(153)),o.registerProcessor("filter",n.curry(i(140),"radar")),o.registerPreprocessor(i(154))},function(t,e,i){i(147),i(149),i(150)},function(t,e,i){function n(t,e,i){this._model=t,this.dimensions=[],this._indicatorAxes=o.map(t.getIndicatorModels(),function(t,e){var i="indicator_"+e,n=new r(i,new a);return n.name=t.get("name"),n.model=t,t.axis=n,this.dimensions.push(i),n},this),this.resize(t,i),this.cx,this.cy,this.r,this.startAngle}var o=i(3),r=i(148),a=i(111),s=i(7),l=i(108);n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(t,e){var i=this._indicatorAxes[e];return this.coordToPoint(i.dataToCoord(t),e)},n.prototype.coordToPoint=function(t,e){var i=this._indicatorAxes[e],n=i.angle,o=this.cx+t*Math.cos(n),r=this.cy-t*Math.sin(n);return[o,r]},n.prototype.pointToData=function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=Math.sqrt(e*e+i*i);e/=n,i/=n;for(var o,r=Math.atan2(-i,e),a=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var c=this._indicatorAxes[l],h=Math.abs(r-c.angle);a>h&&(o=c,s=l,a=h)}return[s,+(o&&o.coodToData(n))]},n.prototype.resize=function(t,e){var i=t.get("center"),n=e.getWidth(),r=e.getHeight(),a=Math.min(n,r)/2;this.cx=s.parsePercent(i[0],n),this.cy=s.parsePercent(i[1],r),this.startAngle=t.get("startAngle")*Math.PI/180,this.r=s.parsePercent(t.get("radius"),a),o.each(this._indicatorAxes,function(t,e){t.setExtent(0,this.r);var i=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;i=Math.atan2(Math.sin(i),Math.cos(i)),t.angle=i},this)},n.prototype.update=function(t,e){function i(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),i=t/e;return 2===i?i=5:i*=2,i*e}var n=this._indicatorAxes,r=this._model;o.each(n,function(t){t.scale.setExtent(1/0,-(1/0))}),t.eachSeriesByType("radar",function(e,i){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===r){var a=e.getData();o.each(n,function(t){t.scale.unionExtent(a.getDataExtent(t.dim))})}},this);var a=r.get("splitNumber");o.each(n,function(t,e){var n=l.getScaleExtent(t,t.model);l.niceScaleExtent(t,t.model);var o=t.model,r=t.scale,c=o.get("min"),h=o.get("max"),u=r.getInterval();if(null!=c&&null!=h)r.setInterval((h-c)/a);else if(null!=c){var d;do d=c+u*a,r.setExtent(+c,d),r.setInterval(u),u=i(u);while(d<n[1]&&isFinite(d)&&isFinite(n[1]))}else if(null!=h){var f;do f=h-u*a,r.setExtent(f,+h),r.setInterval(u),u=i(u);while(f>n[0]&&isFinite(f)&&isFinite(n[0]))}else{var p=r.getTicks().length-1;p>a&&(u=i(u));var g=Math.round((n[0]+n[1])/2/u)*u,m=Math.round(a/2);r.setExtent(s.round(g-m*u),s.round(g+(a-m)*u)),r.setInterval(u)}})},n.dimensions=[],n.create=function(t,e){var i=[];return t.eachComponent("radar",function(o){var r=new n(o,t,e);i.push(r),o.coordinateSystem=r}),t.eachSeriesByType("radar",function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("radarIndex")||0])}),i},i(25).register("radar",n),t.exports=n},function(t,e,i){function n(t,e,i){r.call(this,t,e,i),this.type="value",this.angle=0,this.name="",this.model}var o=i(3),r=i(117);o.inherits(n,r),t.exports=n;
},function(t,e,i){function n(t,e){return s.defaults({show:e},t)}var o=i(122),r=o.valueAxis,a=i(8),s=i(3),l=i(123),c=i(1).extendComponentModel({type:"radar",optionUpdated:function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),i=this.get("scale"),n=this.get("axisLine"),o=this.get("axisTick"),r=this.get("axisLabel"),c=this.get("name.textStyle"),h=this.get("name.show"),u=this.get("name.formatter"),d=this.get("nameGap"),f=s.map(this.get("indicator")||[],function(f){return null!=f.max&&f.max>0?f.min=0:null!=f.min&&f.min<0&&(f.max=0),f=s.merge(s.clone(f),{boundaryGap:t,splitNumber:e,scale:i,axisLine:n,axisTick:o,axisLabel:r,name:f.text,nameLocation:"end",nameGap:d,nameTextStyle:c},!1),h||(f.name=""),"string"==typeof u?f.name=u.replace("{value}",f.name):"function"==typeof u&&(f.name=u(f.name,f)),s.extend(new a(f,null,this.ecModel),l)},this);this.getIndicatorModels=function(){return f}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:s.merge({lineStyle:{color:"#bbb"}},r.axisLine),axisLabel:n(r.axisLabel,!1),axisTick:n(r.axisTick,!1),splitLine:n(r.splitLine,!0),splitArea:n(r.splitArea,!0),indicator:[]}});t.exports=c},function(t,e,i){var n=i(126),o=i(3),r=i(42),a=["axisLine","axisLabel","axisTick","axisName"];t.exports=i(1).extendComponentView({type:"radar",render:function(t,e,i){var n=this.group;n.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},_buildAxes:function(t){var e=t.coordinateSystem,i=e.getIndicatorAxes(),r=o.map(i,function(t){var i=new n(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return i});o.each(r,function(t){o.each(a,t.add,t),this.group.add(t.getGroup())},this)},_buildSplitLineAndArea:function(t){function e(t,e,i){var n=i%e.length;return t[n]=t[n]||[],n}var i=t.coordinateSystem,n=t.get("splitNumber"),a=i.getIndicatorAxes();if(a.length){var s=t.get("shape"),l=t.getModel("splitLine"),c=t.getModel("splitArea"),h=l.getModel("lineStyle"),u=c.getModel("areaStyle"),d=l.get("show"),f=c.get("show"),p=h.get("color"),g=u.get("color");p=o.isArray(p)?p:[p],g=o.isArray(g)?g:[g];var m=[],v=[];if("circle"===s)for(var y=a[0].getTicksCoords(),x=i.cx,b=i.cy,w=0;w<y.length;w++){if(d){var _=e(m,p,w);m[_].push(new r.Circle({shape:{cx:x,cy:b,r:y[w]}}))}if(f&&w<y.length-1){var _=e(v,g,w);v[_].push(new r.Ring({shape:{cx:x,cy:b,r0:y[w],r:y[w+1]}}))}}else for(var T=o.map(a,function(t,e){var n=t.getTicksCoords();return o.map(n,function(t){return i.coordToPoint(t,e)})}),S=[],w=0;n>=w;w++){for(var C=[],k=0;k<a.length;k++)C.push(T[k][w]);if(C.push(C[0].slice()),d){var _=e(m,p,w);m[_].push(new r.Polyline({shape:{points:C}}))}if(f&&S){var _=e(v,g,w-1);v[_].push(new r.Polygon({shape:{points:C.concat(S)}}))}S=C.slice().reverse()}var M=h.getLineStyle(),A=u.getAreaStyle();o.each(v,function(t,e){this.group.add(r.mergePath(t,{style:o.defaults({stroke:"none",fill:g[e%g.length]},A),silent:!0}))},this),o.each(m,function(t,e){this.group.add(r.mergePath(t,{style:o.defaults({fill:"none",stroke:p[e%p.length]},M),silent:!0}))},this)}}})},function(t,e,i){"use strict";var n=i(27),o=i(94),r=i(96),a=i(3),s=i(6),l=n.extend({type:"series.radar",dependencies:["radar"],init:function(t){l.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed}},getInitialData:function(t,e){var i=t.data||[],n=r([],i,[],"indicator_"),a=new o(n,this);return a.initData(i),a},formatTooltip:function(t){var e=this.getRawValue(t),i=this.coordinateSystem,n=i.getIndicatorAxes();return this._data.getName(t)+"<br />"+a.map(n,function(t,i){return t.name+" : "+e[i]}).join("<br />")},getFormattedLabel:function(t,e,i,n){e=e||"normal";var o=this.getData(),r=o.getItemModel(t),a=this.getDataParams(t);return null==i&&(i=r.get(["label",e,"formatter"])),a.value=a.value[n||0],"function"==typeof i?(a.status=e,i(a)):"string"==typeof i?s.formatTpl(i,a):void 0},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}});t.exports=l},function(t,e,i){function n(t){return r.isArray(t)||(t=[+t,+t]),t}var o=i(42),r=i(3),a=i(100);t.exports=i(1).extendChartView({type:"radar",render:function(t,e,i){function s(t,e){var i=t.getItemVisual(e,"symbol")||"circle",o=t.getItemVisual(e,"color");if("none"!==i){var r=a.createSymbol(i,-.5,-.5,1,1,o);return r.attr({style:{strokeNoScale:!0},z2:100,scale:n(t.getItemVisual(e,"symbolSize"))}),r}}function l(e,i,n,r,a,l){n.removeAll();for(var c=0;c<i.length-1;c++){var h=s(r,a);h&&(h.__dimIdx=c,e[c]?(h.attr("position",e[c]),o[l?"initProps":"updateProps"](h,{position:i[c]},t)):h.attr("position",i[c]),n.add(h))}}function c(t){return r.map(t,function(t){return[h.cx,h.cy]})}var h=t.coordinateSystem,u=this.group,d=t.getData(),f=this._data;d.diff(f).add(function(e){var i=d.getItemLayout(e);if(i){var n=new o.Polygon,r=new o.Polyline,a={shape:{points:i}};n.shape.points=c(i),r.shape.points=c(i),o.initProps(n,a,t),o.initProps(r,a,t);var s=new o.Group,h=new o.Group;s.add(r),s.add(n),s.add(h),l(r.shape.points,i,h,d,e,!0),d.setItemGraphicEl(e,s)}}).update(function(e,i){var n=f.getItemGraphicEl(i),r=n.childAt(0),a=n.childAt(1),s=n.childAt(2),c={shape:{points:d.getItemLayout(e)}};c.shape.points&&(l(r.shape.points,c.shape.points,s,d,e,!1),o.updateProps(r,c,t),o.updateProps(a,c,t),d.setItemGraphicEl(e,n))}).remove(function(t){u.remove(f.getItemGraphicEl(t))}).execute(),d.eachItemGraphicEl(function(e,i){function n(){c.attr("ignore",v)}function a(){c.attr("ignore",m)}var s=d.getItemModel(i),l=e.childAt(0),c=e.childAt(1),h=e.childAt(2),f=d.getItemVisual(i,"color");u.add(e),l.setStyle(r.extend(s.getModel("lineStyle.normal").getLineStyle(),{stroke:f})),l.hoverStyle=s.getModel("lineStyle.emphasis").getLineStyle();var p=s.getModel("areaStyle.normal"),g=s.getModel("areaStyle.emphasis"),m=p.isEmpty()&&p.parentModel.isEmpty(),v=g.isEmpty()&&g.parentModel.isEmpty();v=v&&m,c.ignore=m,c.setStyle(r.defaults(p.getAreaStyle(),{fill:f,opacity:.7})),c.hoverStyle=g.getAreaStyle();var y=s.getModel("itemStyle.normal").getItemStyle(["color"]),x=s.getModel("itemStyle.emphasis").getItemStyle(),b=s.getModel("label.normal"),w=s.getModel("label.emphasis");h.eachChild(function(e){e.setStyle(y),e.hoverStyle=r.clone(x);var n=d.get(d.dimensions[e.__dimIdx],i);o.setText(e.style,b,f),e.setStyle({text:b.get("show")?r.retrieve(t.getFormattedLabel(i,"normal",null,e.__dimIdx),n):""}),o.setText(e.hoverStyle,w,f),e.hoverStyle.text=w.get("show")?r.retrieve(t.getFormattedLabel(i,"emphasis",null,e.__dimIdx),n):""}),e.off("mouseover").off("mouseout").off("normal").off("emphasis"),e.on("emphasis",n).on("mouseover",n).on("normal",a).on("mouseout",a),o.setHoverStyle(e)}),this._data=d},remove:function(){this.group.removeAll(),this._data=null}})},function(t,e){t.exports=function(t,e){t.eachSeriesByType("radar",function(t){function e(t,e){n[e]=n[e]||[],n[e][r]=o.dataToPoint(t,r)}var i=t.getData(),n=[],o=t.coordinateSystem;if(o){for(var r=0;r<o.getIndicatorAxes().length;r++){var a=i.dimensions[r];i.each(a,e)}i.each(function(t){n[t][0]&&n[t].push(n[t][0].slice()),i.setItemLayout(t,n[t])})}})}},function(t,e,i){var n=i(3);t.exports=function(t){var e=t.polar;if(e){n.isArray(e)||(e=[e]);var i=[];n.each(e,function(e,o){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],n.isArray(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):i.push(e)}),t.polar=i}n.each(t.series,function(t){"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)})}},function(t,e,i){var n=i(1);i(156),i(157),i(161),i(163),n.registerLayout(i(173)),n.registerVisualCoding("chart",i(174)),n.registerProcessor("statistic",i(175)),n.registerPreprocessor(i(176)),i(136)("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},function(t,e,i){function n(t,e){for(var i={},n=e.features,o=0;o<t.length;o++)i[t[o].name]=t[o];for(var o=0;o<n.length;o++){var r=n[o].properties.name;i[r]||t.push({value:NaN,name:r})}return t}var o=i(94),r=i(1),a=i(27),s=i(3),l=i(96),c=i(6),h=c.encodeHTML,u=c.addCommas,d=i(134),f=a.extend({type:"series.map",needsDrawMap:!1,seriesGroup:[],init:function(t){t=this._fillOption(t),this.option=t,f.superApply(this,"init",arguments),this.updateSelectedMap()},getInitialData:function(t){var e=l(["value"],t.data||[]),i=new o(e,this);return i.initData(t.data),i},mergeOption:function(t){t=this._fillOption(t),f.superCall(this,"mergeOption",t),this.updateSelectedMap()},_fillOption:function(t){t=s.extend({},t);var e=r.getMap(t.mapType),i=e&&e.geoJson;return i&&t.data&&(t.data=n(t.data,i)),t},setRoamZoom:function(t){var e=this.option.roamDetail;e&&(e.zoom=t)},setRoamPan:function(t,e){var i=this.option.roamDetail;i&&(i.x=t,i.y=e)},getRawValue:function(t){return this._data.get("value",t)},formatTooltip:function(t){for(var e=this._data,i=u(this.getRawValue(t)),n=e.getName(t),o=this.seriesGroup,r=[],a=0;a<o.length;a++)isNaN(o[a].getRawValue(t))||r.push(h(o[a].name));return r.join(", ")+"<br />"+n+" : "+i},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"china",left:"center",top:"center",showLegendSymbol:!0,dataRangeHoverLink:!0,roamDetail:{x:0,y:0,zoom:1},scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!1,textStyle:{color:"#000"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215, 0, 0.8)"}}}});s.mixin(f,d),t.exports=f},function(t,e,i){var n=i(42),o=i(158);i(1).extendChartView({type:"map",render:function(t,e,i,n){if(!n||"mapToggleSelect"!==n.type||n.from!==this.uid){var r=this.group;if(r.removeAll(),n&&"geoRoam"===n.type&&"series"===n.component&&n.name===t.name){var a=this._mapDraw;a&&r.add(a.group)}else if(t.needsDrawMap){var a=this._mapDraw||new o(i,!0);r.add(a.group),a.draw(t,e,i,this),this._mapDraw=a}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,i)}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},_renderSymbols:function(t,e,i){var o=t.getData(),r=this.group;o.each("value",function(t,e){if(!isNaN(t)){var i=o.getItemLayout(e);if(i&&i.point){var a=i.point,s=i.offset,l=new n.Circle({style:{fill:o.getVisual("color")},shape:{cx:a[0]+9*s,cy:a[1],r:3},silent:!0,z2:10});if(!s){var c=o.getName(e),h=o.getItemModel(e),u=h.getModel("label.normal"),d=h.getModel("label.emphasis"),f=u.getModel("textStyle"),p=d.getModel("textStyle"),g=o.getItemGraphicEl(e);l.setStyle({textPosition:"bottom"});var m=function(){l.setStyle({text:d.get("show")?c:"",textFill:p.getTextColor(),textFont:p.getFont()})},v=function(){l.setStyle({text:u.get("show")?c:"",textFill:f.getTextColor(),textFont:f.getFont()})};g.on("mouseover",m).on("mouseout",v).on("emphasis",m).on("normal",v),v()}r.add(l)}}})}})},function(t,e,i){function n(t,e){var i=t.getItemStyle(),n=t.get("areaColor");return n&&(i.fill=n),i}function o(t,e,i,n,o){i.off("click"),t.get("selectedMode")&&i.on("click",function(i){var a=i.target.dataIndex;if(null!=a){var s=e.getName(a);n.dispatchAction({type:"mapToggleSelect",seriesIndex:t.seriesIndex,name:s,from:o.uid}),r(t,e,n)}})}function r(t,e){e.eachItemGraphicEl(function(i,n){var o=e.getName(n);i.trigger(t.isSelected(o)?"emphasis":"normal")})}function a(t,e){var i=new l.Group;this._controller=new s(t.getZr(),e?i:null,null),this.group=i,this._updateGroup=e}var s=i(159),l=i(42),c=i(3);a.prototype={constructor:a,draw:function(t,e,i,a){var s=t.getData&&t.getData(),h=t.coordinateSystem,u=this.group;u.removeAll();var d=h.scale;u.position=h.position.slice(),u.scale=d.slice();var f,p,g,m,v,y,x=["itemStyle","normal"],b=["itemStyle","emphasis"],w=["label","normal"],_=["label","emphasis"];s||(f=t.getModel(x),p=t.getModel(b),g=n(f,d),m=n(p,d),v=t.getModel(w),y=t.getModel(_)),c.each(h.regions,function(e){var i,o=new l.Group;if(s){i=s.indexOfName(e.name);var r=s.getItemModel(i),a=s.getItemVisual(i,"color",!0);f=r.getModel(x),p=r.getModel(b),g=n(f,d),m=n(p,d),v=r.getModel(w),y=r.getModel(_),a&&(g.fill=a)}var h=v.getModel("textStyle"),T=y.getModel("textStyle");c.each(e.contours,function(t){var e=new l.Polygon({shape:{points:t},style:{strokeNoScale:!0},culling:!0});e.setStyle(g),o.add(e)});var S=v.get("show"),C=y.get("show"),k=s&&isNaN(s.get("value",i)),M=s&&s.getItemLayout(i);if(!s||k&&(S||C)||M&&M.showLabel){var A=s?i:e.name,D=t.getFormattedLabel(A,"normal"),I=t.getFormattedLabel(A,"emphasis"),L=new l.Text({style:{text:S?D||e.name:"",fill:h.getTextColor(),textFont:h.getFont(),textAlign:"center",textVerticalAlign:"middle"},hoverStyle:{text:C?I||e.name:"",fill:T.getTextColor(),textFont:T.getFont()},position:e.center.slice(),scale:[1/d[0],1/d[1]],z2:10,silent:!0});o.add(L)}s&&s.setItemGraphicEl(i,o),l.setHoverStyle(o,m),u.add(o)}),this._updateController(t,e,i),s&&o(t,s,u,i,a),s&&r(t,s)},remove:function(){this.group.removeAll(),this._controller.dispose()},_updateController:function(t,e,i){var n=t.coordinateSystem,o=this._controller;o.zoomLimit=t.get("scaleLimit"),o.zoom=t.get("roamDetail.zoom"),o.enable(t.get("roam")||!1);var r=t.type.split(".")[0];o.off("pan").on("pan",function(e,n){i.dispatchAction({type:"geoRoam",component:r,name:t.name,dx:e,dy:n})}),o.off("zoom").on("zoom",function(e,n,o){if(i.dispatchAction({type:"geoRoam",component:r,name:t.name,zoom:e,originX:n,originY:o}),this._updateGroup){var a=this.group,s=a.scale;a.traverse(function(t){"text"===t.type&&t.attr("scale",[1/s[0],1/s[1]])})}},this),o.rect=n.getViewRect()}},t.exports=a},function(t,e,i){function n(t){if(!t.target||!t.target.draggable){var e=t.offsetX,i=t.offsetY,n=this.rect;n&&n.contain(e,i)&&(this._x=e,this._y=i,this._dragging=!0)}}function o(t){if(this._dragging&&(d.stop(t.event),"pinch"!==t.gestureEvent)){if(f.isTaken("globalPan",this._zr))return;var e=t.offsetX,i=t.offsetY,n=e-this._x,o=i-this._y;this._x=e,this._y=i;var r=this.target;if(r){var a=r.position;a[0]+=n,a[1]+=o,r.dirty()}d.stop(t.event),this.trigger("pan",n,o)}}function r(t){this._dragging=!1}function a(t){d.stop(t.event);var e=t.wheelDelta>0?1.1:1/1.1;l.call(this,t,e,t.offsetX,t.offsetY)}function s(t){if(!f.isTaken("globalPan",this._zr)){d.stop(t.event);var e=t.pinchScale>1?1.1:1/1.1;l.call(this,t,e,t.pinchX,t.pinchY)}}function l(t,e,i,n){var o=this.rect;if(o&&o.contain(i,n)){var r=this.target,a=this.zoomLimit;if(r){var s=r.position,l=r.scale,c=this.zoom=this.zoom||1;c*=e,a&&(c=Math.max(Math.min(a.max,c),a.min));var h=c/this.zoom;this.zoom=c,s[0]-=(i-s[0])*(h-1),s[1]-=(n-s[1])*(h-1),l[0]*=h,l[1]*=h,r.dirty()}this.trigger("zoom",e,i,n)}}function c(t,e,i){this.target=e,this.rect=i,this.zoomLimit,this.zoom,this._zr=t;var l=u.bind,c=l(n,this),d=l(o,this),f=l(r,this),p=l(a,this),g=l(s,this);h.call(this),this.enable=function(e){this.disable(),null==e&&(e=!0),e!==!0&&"move"!==e&&"pan"!==e||(t.on("mousedown",c),t.on("mousemove",d),t.on("mouseup",f)),e!==!0&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",p),t.on("pinch",g))},this.disable=function(){t.off("mousedown",c),t.off("mousemove",d),t.off("mouseup",f),t.off("mousewheel",p),t.off("pinch",g)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}var h=i(32),u=i(3),d=i(80),f=i(160);u.mixin(c,h),t.exports=c},function(t,e){function i(t){return t[n]||(t[n]={})}var n="\x00_ec_interaction_mutex",o={take:function(t,e){i(e)[t]=!0},release:function(t,e){i(e)[t]=!1},isTaken:function(t,e){return!!i(e)[t]}};t.exports=o},function(t,e,i){var n=i(3),o=i(162),r=i(1),a={type:"geoRoam",event:"geoRoam",update:"updateLayout"};r.registerAction(a,function(t,e){var i=t.component||"series";e.eachComponent(i,function(e){if(e.name===t.name){var r=e.coordinateSystem;if("geo"!==r.type)return;var a=e.getModel("roamDetail"),s=o.calcPanAndZoom(a,t,e.get("scaleLimit"));e.setRoamPan&&e.setRoamPan(s.x,s.y),e.setRoamZoom&&e.setRoamZoom(s.zoom),r&&r.setPan(s.x,s.y),r&&r.setZoom(s.zoom),"series"===i&&n.each(e.seriesGroup,function(t){t.setRoamPan(s.x,s.y),t.setRoamZoom(s.zoom)})}})})},function(t,e){var i={};i.calcPanAndZoom=function(t,e,i){var n=e.dx,o=e.dy,r=e.zoom,a=t.get("x")||0,s=t.get("y")||0,l=t.get("zoom")||1;if(null!=n&&null!=o&&(a+=n,s+=o),null!=r){i&&(r=Math.max(Math.min(l*r,i.max),i.min)/l);var c=(e.originX-a)*(r-1),h=(e.originY-s)*(r-1);a-=c,s-=h}return{x:a,y:s,zoom:(r||1)*l}},t.exports=i},function(t,e,i){function n(t,e){var i=this.getBoundingRect(),n=t.getBoxLayoutParams();n.aspect=i.width/i.height*.75;var o=s.getLayoutRect(n,{width:e.getWidth(),height:e.getHeight()});this.setViewRect(o.x,o.y,o.width,o.height);var r=t.getModel("roamDetail"),a=r.get("x")||0,l=r.get("y")||0,c=r.get("zoom")||1;this.setPan(a,l),this.setZoom(c)}function o(t,e){l.each(e.get("geoCoord"),function(e,i){t.addGeoCoord(i,e)})}function r(t){console.error("Map "+t+" not exists")}i(164);var a=i(165),s=i(21),l=i(3),c={},h={dimensions:a.prototype.dimensions,create:function(t,e){var i=[];t.eachComponent("geo",function(t,s){var l=t.get("map"),h=c[l];h||r(l);var u=new a(l+s,l,h&&h.geoJson,h&&h.specialAreas,t.get("nameMap"));u.zoomLimit=t.get("scaleLimit"),i.push(u),o(u,t),t.coordinateSystem=u,u.model=t,u.resize=n,u.resize(t,e)}),t.eachSeries(function(t){var e=t.get("coordinateSystem");if("geo"===e){var n=t.get("geoIndex")||0;t.coordinateSystem=i[n]}});var s={};return t.eachSeriesByType("map",function(t){var e=t.get("map");s[e]=s[e]||[],s[e].push(t)}),l.each(s,function(t,s){var h=c[s];h||r(name);var u=l.map(t,function(t){return t.get("nameMap")}),d=new a(s,s,h&&h.geoJson,h&&h.specialAreas,l.mergeAll(u));d.zoomLimit=l.retrieve.apply(null,l.map(t,function(t){return t.get("scaleLimit")})),i.push(d),d.resize=n,d.resize(t[0],e),l.each(t,function(t){t.coordinateSystem=d,o(d,t)})}),i},registerMap:function(t,e,i){e.geoJson&&!e.features&&(i=e.specialAreas,e=e.geoJson),"string"==typeof e&&(e="undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")()),c[t]={geoJson:e,specialAreas:i}},getMap:function(t){return c[t]}},u=i(1);u.registerMap=h.registerMap,u.getMap=h.getMap,u.loadMap=function(){},u.registerCoordinateSystem("geo",h)},function(t,e,i){"use strict";var n=i(5),o=i(19);o.extend({type:"geo",coordinateSystem:null,init:function(t){o.prototype.init.apply(this,arguments),n.defaultEmphasis(t.label,["position","show","textStyle","distance","formatter"])},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",map:"",roamDetail:{x:0,y:0,zoom:1},scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}}},getFormattedLabel:function(t,e){var i=this.get("label."+e+".formatter"),n={name:t};return"function"==typeof i?(n.status=e,i(n)):"string"==typeof i?i.replace("{a}",n.seriesName):void 0},setRoamZoom:function(t){var e=this.option.roamDetail;e&&(e.zoom=t)},setRoamPan:function(t,e){var i=this.option.roamDetail;i&&(i.x=t,i.y=e)}})},function(t,e,i){function n(t,e,i,n,o){s.call(this,t),this.map=e,this._nameCoordMap={},this.loadGeoJson(i,n,o)}var o=i(166),r=i(3),a=i(15),s=i(169),l=[i(170),i(171),i(172)];n.prototype={constructor:n,type:"geo",dimensions:["lng","lat"],loadGeoJson:function(t,e,i){try{this.regions=t?o(t):[]}catch(n){throw"Invalid geoJson format\n"+n}e=e||{},i=i||{};for(var a=this.regions,s={},c=0;c<a.length;c++){var h=a[c].name;h=i[h]||h,a[c].name=h,s[h]=a[c],this.addGeoCoord(h,a[c].center);var u=e[h];u&&a[c].transformTo(u.left,u.top,u.width,u.height)}this._regionsMap=s,this._rect=null,r.each(l,function(t){t(this)},this)},transformTo:function(t,e,i,n){var o=this.getBoundingRect();o=o.clone(),o.y=-o.y-o.height;var r=this._viewTransform;r.transform=o.calculateTransform(new a(t,e,i,n)),r.decomposeTransform();var s=r.scale;s[1]=-s[1],r.updateTransform(),this._updateTransform()},getRegion:function(t){return this._regionsMap[t]},addGeoCoord:function(t,e){this._nameCoordMap[t]=e},getGeoCoord:function(t){return this._nameCoordMap[t]},getBoundingRect:function(){if(this._rect)return this._rect;for(var t,e=this.regions,i=0;i<e.length;i++){var n=e[i].getBoundingRect();t=t||n.clone(),t.union(n)}return this._rect=t||new a(0,0,0,0)},dataToPoints:function(t){var e=[];return t.mapArray(["lng","lat"],function(t,i){return e[0]=t,e[1]=i,this.dataToPoint(e)},this)},dataToPoint:function(t){return"string"==typeof t&&(t=this.getGeoCoord(t)),t?s.prototype.dataToPoint.call(this,t):void 0}},r.mixin(n,s),t.exports=n},function(t,e,i){function n(t){if(!t.UTF8Encoding)return t;for(var e=t.features,i=0;i<e.length;i++)for(var n=e[i],r=n.geometry,a=r.coordinates,s=r.encodeOffsets,l=0;l<a.length;l++){var c=a[l];if("Polygon"===r.type)a[l]=o(c,s[l]);else if("MultiPolygon"===r.type)for(var h=0;h<c.length;h++){var u=c[h];c[h]=o(u,s[l][h])}}return t.UTF8Encoding=!1,t}function o(t,e){for(var i=[],n=e[0],o=e[1],r=0;r<t.length;r+=2){var a=t.charCodeAt(r)-64,s=t.charCodeAt(r+1)-64;a=a>>1^-(1&a),s=s>>1^-(1&s),a+=n,s+=o,n=a,o=s,i.push([a/1024,s/1024])}return i}function r(t){for(var e=[],i=0;i<t.length;i++)for(var n=0;n<t[i].length;n++)e.push(t[i][n]);return e}var a=i(3),s=i(167);t.exports=function(t){return n(t),a.map(a.filter(t.features,function(t){return t.geometry&&t.properties}),function(t){var e=t.properties,i=t.geometry,n=i.coordinates;return"MultiPolygon"===i.type&&(n=r(n)),new s(e.name,n,e.cp)})}},function(t,e,i){function n(t,e,i){if(this.name=t,this.contours=e,i)i=[i[0],i[1]];else{var n=this.getBoundingRect();i=[n.x+n.width/2,n.y+n.height/2]}this.center=i}var o=i(168),r=i(15),a=i(50),s=i(16);n.prototype={constructor:n,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,i=[e,e],n=[-e,-e],o=[],l=[],c=this.contours,h=0;h<c.length;h++)a.fromPoints(c[h],o,l),s.min(i,i,o),s.max(n,n,l);return 0===h&&(i[0]=i[1]=n[0]=n[1]=0),this._rect=new r(i[0],i[1],n[0]-i[0],n[1]-i[1])},contain:function(t){var e=this.getBoundingRect(),i=this.contours;if(e.contain(t[0],t[1]))for(var n=0,r=i.length;r>n;n++)if(o.contain(i[n],t[0],t[1]))return!0;return!1},transformTo:function(t,e,i,n){var o=this.getBoundingRect(),a=o.width/o.height;i?n||(n=i/a):i=a*n;for(var l=new r(t,e,i,n),c=o.calculateTransform(l),h=this.contours,u=0;u<h.length;u++)for(var d=0;d<h[u].length;d++)s.applyTransform(h[u][d],h[u][d],c);o=this._rect,o.copy(l),this.center=[o.x+o.width/2,o.y+o.height/2]}},t.exports=n},function(t,e,i){function n(t,e){return Math.abs(t-e)<a}function o(t,e,i){var o=0,a=t[0];if(!a)return!1;for(var s=1;s<t.length;s++){var l=t[s];o+=r(a[0],a[1],l[0],l[1],e,i),a=l}var c=t[0];return n(a[0],c[0])&&n(a[1],c[1])||(o+=r(a[0],a[1],c[0],c[1],e,i)),0!==o}var r=i(57),a=1e-8;t.exports={contain:o}},function(t,e,i){function n(){s.call(this)}function o(t){this.name=t,this.zoomLimit,s.call(this),this._roamTransform=new n,this._viewTransform=new n}var r=i(16),a=i(17),s=i(33),l=i(3),c=i(15),h=r.applyTransform;l.mixin(n,s),o.prototype={constructor:o,type:"view",dimensions:["x","y"],setBoundingRect:function(t,e,i,n){return this._rect=new c(t,e,i,n),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(t,e,i,n){this.transformTo(t,e,i,n),this._viewRect=new c(t,e,i,n)},transformTo:function(t,e,i,n){var o=this.getBoundingRect(),r=this._viewTransform;r.transform=o.calculateTransform(new c(t,e,i,n)),r.decomposeTransform(),this._updateTransform()},setPan:function(t,e){this._roamTransform.position=[t,e],this._updateTransform()},setZoom:function(t){var e=this.zoomLimit;e&&(t=Math.max(Math.min(t,e.max),e.min)),this._roamTransform.scale=[t,t],this._updateTransform()},getRoamTransform:function(){return this._roamTransform.transform},_updateTransform:function(){var t=this._roamTransform,e=this._viewTransform;e.parent=t,t.updateTransform(),e.updateTransform(),e.transform&&a.copy(this.transform||(this.transform=[]),e.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},dataToPoint:function(t){var e=this.transform;return e?h([],t,e):[t[0],t[1]]},pointToData:function(t){var e=this.invTransform;return e?h([],t,e):[t[0],t[1]]}},l.mixin(o,s),t.exports=o},function(t,e,i){for(var n=i(167),o=[126,25],r=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],a=0;a<r.length;a++)for(var s=0;s<r[a].length;s++)r[a][s][0]/=10.5,r[a][s][1]/=-14,r[a][s][0]+=o[0],r[a][s][1]+=o[1];t.exports=function(t){"china"===t.map&&t.regions.push(new n("南海诸岛",r,o))}},function(t,e,i){var n=i(3),o={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};t.exports=function(t){n.each(t.regions,function(t){var e=o[t.name];if(e){var i=t.center;i[0]+=e[0]/10.5,i[1]+=-e[1]/14}})}},function(t,e,i){var n=i(3),o={Russia:[100,60],"United States of America":[-99,38]};t.exports=function(t){n.each(t.regions,function(t){var e=o[t.name];if(e){var i=t.center;i[0]=e[0],i[1]=e[1]}})}},function(t,e,i){var n=i(3);t.exports=function(t){var e={};t.eachSeriesByType("map",function(i){var o=i.get("mapType");if(!e[o]){var r={};n.each(i.seriesGroup,function(e){var i=e.coordinateSystem,n=e.getData();e.get("showLegendSymbol")&&t.getComponent("legend")&&n.each("value",function(t,e){var o=n.getName(e),a=i.getRegion(o);if(a&&!isNaN(t)){var s=r[o]||0,l=i.dataToPoint(a.center);r[o]=s+1,n.setItemLayout(e,{point:l,offset:s})}})});var a=i.getData();a.each(function(t){var e=a.getName(t),i=a.getItemLayout(t)||{};i.showLabel=!r[e],a.setItemLayout(t,i)}),e[o]=!0}})}},function(t,e){t.exports=function(t){t.eachSeriesByType("map",function(t){var e=t.get("color"),i=t.getModel("itemStyle.normal"),n=i.get("areaColor"),o=i.get("color")||e[t.seriesIndex%e.length];t.getData().setVisual({areaColor:n,color:o})})}},function(t,e,i){function n(t,e){for(var i={},n=["value"],o=0;o<t.length;o++)t[o].each(n,function(e,n){var r=t[o].getName(n);i[r]=i[r]||[],isNaN(e)||i[r].push(e)});return t[0].map(n,function(n,o){for(var r=t[0].getName(o),a=0,s=1/0,l=-(1/0),c=i[r].length,h=0;c>h;h++)s=Math.min(s,i[r][h]),l=Math.max(l,i[r][h]),a+=i[r][h];var u;return u="min"===e?s:"max"===e?l:"average"===e?a/c:a,0===c?NaN:u})}var o=i(3);t.exports=function(t){var e={};t.eachSeriesByType("map",function(t){var i=t.get("map");e[i]=e[i]||[],e[i].push(t)}),o.each(e,function(t,e){var i=n(o.map(t,function(t){return t.getData()}),t[0].get("mapValueCalculation"));t[0].seriesGroup=[],t[0].setData(i);for(var r=0;r<t.length;r++)t[r].seriesGroup=t,t[r].needsDrawMap=0===r})}},function(t,e,i){function n(t){var e={};return o.each(r,function(i){null!=t[i]&&(e[i]=t[i])}),e}var o=i(3),r=["x","y","x2","y2","width","height","map","roam","roamDetail","label","itemStyle"],a={};t.exports=function(t){var e=[];o.each(t.series,function(t){"map"===t.type&&e.push(t),o.extend(a,t.geoCoord)});var i={};o.each(e,function(e){if(e.map=e.map||e.mapType,o.defaults(e,e.mapLocation),e.markPoint){var r=e.markPoint;if(r.data=o.map(r.data,function(t){if(!o.isArray(t.value)){var e;t.geoCoord?e=t.geoCoord:t.name&&(e=a[t.name]);var i=e?[e[0],e[1]]:[NaN,NaN];null!=t.value&&i.push(t.value),t.value=i}return t}),!e.data||!e.data.length){t.geo||(t.geo=[]);var s=i[e.map];s||(s=i[e.map]=n(e),t.geo.push(s));var l=e.markPoint;l.type=t.effect&&t.effect.show?"effectScatter":"scatter",l.coordinateSystem="geo",l.geoIndex=o.indexOf(t.geo,s),l.name=e.name,t.series.splice(o.indexOf(t.series,e),1,l)}}})}},function(t,e,i){var n=i(1);i(178),i(182),i(185),n.registerVisualCoding("chart",i(186)),n.registerLayout(i(188))},function(t,e,i){function n(t,e){var i=0;s.each(t.children,function(t){n(t,e);var o=t.value;s.isArray(o)&&(o=o[0]),i+=o});var o=t.value;e>=0&&(s.isArray(o)?o=o[0]:t.value=new Array(e)),(null==o||isNaN(o))&&(o=i),0>o&&(o=0),e>=0?t.value[0]=o:t.value=o}function o(t,e){var i=e.get("color");if(i){t=t||[];var n;if(s.each(t,function(t){var e=new l(t),i=e.get("color");(e.get("itemStyle.normal.color")||i&&"none"!==i)&&(n=!0)}),!n){var o=t[0]||(t[0]={});o.color=i.slice()}return t}}var r=i(27),a=i(179),s=i(3),l=i(8),c=i(6),h=(i(181),c.encodeHTML),u=c.addCommas;t.exports=r.extend({type:"series.treemap",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,visualDimension:0,zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,position:["50%","50%"],textStyle:{align:"center",baseline:"middle",color:"#fff",ellipsis:!0}}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},color:"none",colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(t,e){var i=t.data||[],r=t.name;null==r&&(r=t.name);var l={name:r,children:t.data},c=(i[0]||{}).value;n(l,s.isArray(c)?c.length:-1);var h=t.levels||[];return h=t.levels=o(h,e),a.createTree(l,this,h).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(t){var e=this.getData(),i=this.getRawValue(t),n=u(s.isArray(i)?i[0]:i),o=e.getName(t);return h(o)+": "+n},getDataParams:function(t){for(var e=r.prototype.getDataParams.apply(this,arguments),i=this.getData(),n=i.tree.getNodeByDataIndex(t),o=e.treePathInfo=[];n;){var a=n.dataIndex;o.push({name:n.name,dataIndex:a,value:this.getRawValue(a)}),n=n.parentNode}return o.reverse(),e},setLayoutInfo:function(t){this.layoutInfo=this.layoutInfo||{},s.extend(this.layoutInfo,t)},mapIdToIndex:function(t){var e=this._idIndexMap;e||(e=this._idIndexMap={},this._idIndexMapCount=0);var i=e[t];return null==i&&(e[t]=i=this._idIndexMapCount++),i},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}})},function(t,e,i){function n(t,e){this.root,this.data,this._nodes=[],this.hostModel=t,this.levelModels=r.map(e||[],function(e){return new a(e,t,t.ecModel)})}function o(t,e){var i=e.children;t.parentNode!==e&&(i.push(t),t.parentNode=e,e.hostTree._nodes.push(t))}var r=i(3),a=i(8),s=i(94),l=i(180),c=i(96),h=function(t,e,i){this.name=t||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=null==e?-1:e,this.children=[],this.viewChildren=[],this.hostTree=i};h.prototype={constructor:h,isRemoved:function(){return this.dataIndex<0},eachNode:function(t,e,i){"function"==typeof t&&(i=e,e=t,t=null),t=t||{},r.isString(t)&&(t={order:t});var n,o=t.order||"preorder",a=this[t.attr||"children"];"preorder"===o&&(n=e.call(i,this));for(var s=0;!n&&s<a.length;s++)a[s].eachNode(t,e,i);"postorder"===o&&e.call(i,this)},updateDepthAndHeight:function(t){var e=0;this.depth=t;for(var i=0;i<this.children.length;i++){var n=this.children[i];n.updateDepthAndHeight(t+1),n.height>e&&(e=n.height)}this.height=e+1},getNodeById:function(t){if(this.getId()===t)return this;
for(var e=0,i=this.children,n=i.length;n>e;e++){var o=i[e].getNodeById(t);if(o)return o}},contains:function(t){if(t===this)return!0;for(var e=0,i=this.children,n=i.length;n>e;e++){var o=i[e].contains(t);if(o)return o}},getAncestors:function(t){for(var e=[],i=t?this:this.parentNode;i;)e.push(i),i=i.parentNode;return e.reverse(),e},getValue:function(t){var e=this.hostTree.data;return e.get(e.getDimension(t||"value"),this.dataIndex)},setLayout:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(t){if(!(this.dataIndex<0)){var e=this.hostTree,i=e.data.getItemModel(this.dataIndex),n=this.getLevelModel();return i.getModel(t,(n||e.hostModel).getModel(t))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},setVisual:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}},n.prototype={constructor:n,type:"tree",eachNode:function(t,e,i){this.root.eachNode(t,e,i)},getNodeByDataIndex:function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},getNodeByName:function(t){return this.root.getNodeByName(t)},update:function(){for(var t=this.data,e=this._nodes,i=0,n=e.length;n>i;i++)e[i].dataIndex=-1;for(var i=0,n=t.count();n>i;i++)e[t.getRawIndex(i)].dataIndex=i}},n.createTree=function(t,e,i){function r(t,e){u.push(t);var i=new h(t.name,u.length-1,a);e?o(i,e):a.root=i;var n=t.children;if(n)for(var s=0;s<n.length;s++)r(n[s],i)}var a=new n(e,i),u=[];r(t),a.root.updateDepthAndHeight(0);var d=c([{name:"value"}],u),f=new s(d,e);return f.initData(u),l.linkToTree(f,a),a},t.exports=n},function(t,e,i){function n(t,e,i){return o.each(a,function(n,r){var a=t[r];t[r]=o.curry(n,a,e,i)}),t[i]=e,e.data=t,t}var o=i(3),r=Array.prototype.slice,a={cloneShallow:function(t,e,i){var o=t.apply(this,r.call(arguments,3));return n(o,e,i)},map:function(t,e,i){var o=t.apply(this,r.call(arguments,3));return n(o,e,i)},filterSelf:function(t,e,i){var n=t.apply(this,r.call(arguments,3));return e.update(),n}};t.exports={linkToGraph:function(t,e){n(t,e,"graph")},linkToTree:function(t,e){n(t,e,"tree")}}},function(t,e,i){var n=i(3),o={retrieveTargetInfo:function(t,e){if(t&&("treemapZoomToNode"===t.type||"treemapRootToNode"===t.type)){var i=e.getData().tree.root,n=t.targetNode;if(n&&i.contains(n))return{node:n};var o=t.targetNodeId;if(null!=o&&(n=i.getNodeById(o)))return{node:n}}},getPathToRoot:function(t){for(var e=[];t;)e.push(t),t=t.parentNode;return e.reverse()},aboveViewRoot:function(t,e){var i=o.getPathToRoot(t);return o.aboveViewRootByViewPath(i,e)},aboveViewRootByViewPath:function(t,e){var i=n.indexOf(t,e);return i>=0&&i!==t.length-1}};t.exports=o},function(t,e,i){function n(){return{nodeGroup:[],background:[],content:[]}}var o=i(3),r=i(42),a=i(95),s=i(181),l=i(183),c=i(159),h=i(15),u=i(17),d=i(184),f=o.bind,p=r.Group,g=r.Rect,m=o.each,v=3;t.exports=i(1).extendChartView({type:"treemap",init:function(t,e){this._containerGroup,this._storage=n(),this._oldTree,this._breadcrumb,this._controller,this._state="ready",this._mayClick},render:function(t,e,i,n){var r=e.findComponents({mainType:"series",subType:"treemap",query:n});if(!(o.indexOf(r,t)<0)){this.seriesModel=t,this.api=i,this.ecModel=e;var a=s.retrieveTargetInfo(n,t),l=n&&n.type,c=t.layoutInfo,h=!this._oldTree,u=this._storage,d="treemapRootToNode"===l&&a&&u?{rootNodeGroup:u.nodeGroup[a.node.getRawIndex()],direction:n.direction}:null,f=this._giveContainerGroup(c),p=this._doRender(f,t,d);h||l&&"treemapZoomToNode"!==l&&"treemapRootToNode"!==l?p.renderFinally():this._doAnimation(f,p,t,d),this._resetController(i),this._renderBreadcrumb(t,i,a)}},_giveContainerGroup:function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new p,this._initEvents(e),this.group.add(e)),e.position=[t.x,t.y],e},_doRender:function(t,e,i){function r(t,e,i,n,s){function l(t){return t.getId()}function c(o,a){var l=null!=o?t[o]:null,c=null!=a?e[a]:null;if(!(!l||isNaN(s)||s<_.length&&_[s]!==l)){var h=b(l,c,i);h&&r(l&&l.viewChildren||[],c&&c.viewChildren||[],h,n,s+1)}}n?(e=t,m(t,function(t,e){!t.isRemoved()&&c(e,e)})):new a(e,t,l,l).add(c).update(c).remove(o.curry(c,null)).execute()}function l(t){var e=n();return t&&m(t,function(t,i){var n=e[i];m(t,function(t){t&&(n.push(t),t.__tmWillDelete=i)})}),e}function c(){m(x,function(t){m(t,function(t){t.parent&&t.parent.remove(t)})}),m(v,function(t){t.invisible=!0,t.dirty()}),m(y,function(t){t.invisible=!1,t.__tmWillVisible=!1,t.dirty()})}var h=e.getData().tree,u=this._oldTree,d=n(),p=n(),g=this._storage,v=[],y=[],x=[],b=f(this._renderNode,this,p,g,i,d,v,y),w=e.getViewRoot(),_=s.getPathToRoot(w);r(h.root?[h.root]:[],u&&u.root?[u.root]:[],t,h===u||!u,0);var x=l(g);return this._oldTree=h,this._storage=p,{lastsForAnimation:d,willDeleteEls:x,renderFinally:c}},_renderNode:function(t,e,i,n,a,s,l,c,h){function u(i,o,r){var a=null!=y&&e[i][y],s=n[i];return a?(e[i][y]=null,d(s,a,i)):_||(a=new o({z:r}),f(s,a,i)),t[i][v]=a}function d(t,e,i){var n=t[v]={};n.old="nodeGroup"===i?e.position.slice():o.extend({},e.shape)}function f(t,e,o){if("background"===o)e.invisible=!0,e.__tmWillVisible=!0,s.push(e);else{var r=t[v]={},a=l.parentNode;if(a&&(!i||"drilldown"===i.direction)){var c=0,h=0,u=n.background[a.getRawIndex()];u&&u.old&&(c=u.old.width/2,h=u.old.height/2),r.old="nodeGroup"===o?[c,h]:{x:c,y:h,width:0,height:0}}r.fadein="nodeGroup"!==o}}function m(t,e){_?!t.invisible&&a.push(t):(t.setStyle(e),t.__tmWillVisible||(t.invisible=!1))}var v=l&&l.getRawIndex(),y=c&&c.getRawIndex(),x=l.getLayout(),b=x.width,w=x.height,_=x.invisible,T=u("nodeGroup",p);if(T){h.add(T),T.position=[x.x,x.y],T.__tmNodeWidth=b,T.__tmNodeHeight=w;var S=u("background",g,0);S&&(S.setShape({x:0,y:0,width:b,height:w}),m(S,{fill:l.getVisual("borderColor",!0)}),T.add(S));var C=l.viewChildren;if(!C||!C.length){var k=x.borderWidth,M=u("content",g,3);if(M){var A=Math.max(b-2*k,0),D=Math.max(w-2*k,0),I=l.getModel("label.normal"),L=l.getModel("label.normal.textStyle"),P=l.getModel("itemStyle.emphasis").getItemStyle(),N=l.getModel().get("name"),E=L.getTextRect(N),R=I.get("show");!R||E.height>D?N="":E.width>A&&(N=L.get("ellipsis")?L.ellipsis(N,A):""),r.setHoverStyle(M,P),M.dataIndex=l.dataIndex,M.seriesIndex=this.seriesModel.seriesIndex,M.culling=!0,M.setShape({x:k,y:k,width:A,height:D}),m(M,{fill:l.getVisual("color",!0),text:N,textPosition:I.get("position"),textFill:L.getTextColor(),textAlign:L.get("align"),textVerticalAlign:L.get("baseline"),textFont:L.getFont()}),T.add(M)}}return T}},_doAnimation:function(t,e,i,n){if(i.get("animation")){var r=i.get("animationDurationUpdate"),a=i.get("animationEasing"),s=d.createWrap();m(e.willDeleteEls,function(t,e){m(t,function(t,e){var i;if(!t.invisible&&(i=t.__tmWillDelete)){var o,l=t.parent;if(n&&"drilldown"===n.direction)l===n.rootNodeGroup?(o={shape:{x:0,y:0,width:l.__tmNodeWidth,height:l.__tmNodeHeight}},t.z=2):(o={style:{opacity:0}},t.z=1);else{var c=0,h=0;l.__tmWillDelete||(c=l.__tmNodeWidth/2,h=l.__tmNodeHeight/2),o="nodeGroup"===i?{position:[c,h],style:{opacity:0}}:{shape:{x:c,y:h,width:0,height:0},style:{opacity:0}}}o&&s.add(t,o,r,a)}})}),m(this._storage,function(t,i){m(t,function(t,n){var l=e.lastsForAnimation[i][n],c={};l&&("nodeGroup"===i?l.old&&(c.position=t.position.slice(),t.position=l.old):(l.old&&(c.shape=o.extend({},t.shape),t.setShape(l.old)),l.fadein?(t.setStyle("opacity",0),c.style={opacity:1}):1!==t.style.opacity&&(c.style={opacity:1})),s.add(t,c,r,a))})},this),this._state="animating",s.done(f(function(){this._state="ready",e.renderFinally()},this)).start()}},_resetController:function(t){var e=this._controller;e||(e=this._controller=new c(t.getZr()),e.enable(this.seriesModel.get("roam")),e.on("pan",f(this._onPan,this)),e.on("zoom",f(this._onZoom,this))),e.rect=new h(0,0,t.getWidth(),t.getHeight())},_clearController:function(){var t=this._controller;t&&(t.off("pan").off("zoom"),t=null)},_onPan:function(t,e){if(this._mayClick=!1,"animating"!==this._state&&(Math.abs(t)>v||Math.abs(e)>v)){var i=this.seriesModel.getViewRoot();if(!i)return;var n=i.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+t,y:n.y+e,width:n.width,height:n.height}})}},_onZoom:function(t,e,i){if(this._mayClick=!1,"animating"!==this._state){var n=this.seriesModel.getViewRoot();if(!n)return;var o=n.getLayout();if(!o)return;var r=new h(o.x,o.y,o.width,o.height),a=this.seriesModel.layoutInfo;e-=a.x,i-=a.y;var s=u.create();u.translate(s,s,[-e,-i]),u.scale(s,s,[t,t]),u.translate(s,s,[e,i]),r.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x,y:r.y,width:r.width,height:r.height}})}},_initEvents:function(t){function e(t){var e=this.seriesModel.get("nodeClick",!0);if(e){var i=this.findTarget(t.offsetX,t.offsetY);if(i){var n=i.node;if(n.getLayout().isLeafRoot)this._rootToNode(i);else if("zoomToNode"===e)this._zoomToNode(i);else if("link"===e){var o=n.hostTree.data.getItemModel(n.dataIndex),r=o.get("link",!0),a=o.get("target",!0)||"blank";r&&window.open(r,a)}}}}t.on("mousedown",function(t){"ready"===this._state&&(this._mayClick=!0)},this),t.on("mouseup",function(t){this._mayClick&&(this._mayClick=!1,"ready"===this._state&&e.call(this,t))},this)},_renderBreadcrumb:function(t,e,i){function n(e){"animating"!==this._state&&(s.aboveViewRoot(t.getViewRoot(),e)?this._rootToNode({node:e}):this._zoomToNode({node:e}))}i||(i=this.findTarget(e.getWidth()/2,e.getHeight()/2),i||(i={node:t.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new l(this.group,f(n,this)))).render(t,e,i.node)},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=n(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},_rootToNode:function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},findTarget:function(t,e){var i,n=this.seriesModel.getViewRoot();return n.eachNode({attr:"viewChildren",order:"preorder"},function(n){var o=this._storage.background[n.getRawIndex()];if(o){var r=o.transformCoordToLocal(t,e),a=o.shape;if(!(a.x<=r[0]&&r[0]<=a.x+a.width&&a.y<=r[1]&&r[1]<=a.y+a.height))return!1;i={node:n,offsetX:r[0],offsetY:r[1]}}},this),i}})},function(t,e,i){function n(t,e){this.group=new r.Group,t.add(this.group),this._onSelect=e||s.noop}function o(t,e,i,n,o,r){var a=[[o?t:t-h,e],[t+i,e],[t+i,e+n],[o?t:t-h,e+n]];return!r&&a.splice(2,0,[t+i+h,e+n/2]),!o&&a.push([t,e+n/2]),a}var r=i(42),a=i(21),s=i(3),l=8,c=8,h=5;n.prototype={constructor:n,render:function(t,e,i){var n=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),n.get("show")&&i){var r=n.getModel("itemStyle.normal"),s=r.getModel("textStyle"),l={pos:{left:n.get("left"),right:n.get("right"),top:n.get("top"),bottom:n.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:n.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,i,l,s),this._renderContent(n,i,l,r,s),a.positionGroup(o,l.pos,l.box)}},_prepare:function(t,e,i,n){for(var o=e;o;o=o.parentNode){var r=o.getModel().get("name"),a=n.getTextRect(r),s=Math.max(a.width+2*l,i.emptyItemWidth);i.totalWidth+=s+c,i.renderList.push({node:o,text:r,width:s})}},_renderContent:function(t,e,i,n,l){for(var h=0,u=i.emptyItemWidth,d=t.get("height"),f=a.getAvailableSize(i.pos,i.box),p=i.totalWidth,g=i.renderList,m=g.length-1;m>=0;m--){var v=g[m],y=v.width,x=v.text;p>f.width&&(p-=y-u,y=u,x=""),this.group.add(new r.Polygon({shape:{points:o(h,0,y,d,m===g.length-1,0===m)},style:s.defaults(n.getItemStyle(),{lineJoin:"bevel",text:x,textFill:l.getTextColor(),textFont:l.getFont()}),z:10,onclick:s.bind(this._onSelect,this,v.node)})),h+=y+c}},remove:function(){this.group.removeAll()}},t.exports=n},function(t,e,i){function n(){var t,e=[],i={};return{add:function(t,n,r,a,s){return o.isString(a)&&(s=a,a=0),i[t.id]?!1:(i[t.id]=1,e.push({el:t,target:n,time:r,delay:a,easing:s}),!0)},done:function(e){return t=e,this},start:function(){function n(){o--,o||(e.length=0,i={},t&&t())}for(var o=e.length,r=0,a=e.length;a>r;r++){var s=e[r];s.el.animateTo(s.target,s.time,s.delay,s.easing,n)}return this}}}var o=i(3);t.exports={createWrap:n}},function(t,e,i){for(var n=i(1),o=i(181),r=function(){},a=["treemapZoomToNode","treemapRender","treemapMove"],s=0;s<a.length;s++)n.registerAction({type:a[s],update:"updateView"},r);n.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"treemap",query:t},function(e,i){var n=o.retrieveTargetInfo(t,e);if(n){var r=e.getViewRoot();r&&(t.direction=o.aboveViewRoot(r,n.node)?"rollup":"drilldown"),e.resetViewRoot(n.node)}})})},function(t,e,i){function n(t,e,i,s,c,u){var d=t.getModel(),p=t.getLayout();if(!p.invisible){var m,v=t.getModel(g),y=i[t.depth],x=o(v,e,y,s),b=v.get("borderColor"),w=v.get("borderColorSaturation");null!=w&&(m=r(x,t),b=a(w,m)),t.setVisual("borderColor",b);var _=t.viewChildren;if(_&&_.length){var T=l(t,d,p,v,x,_);f.each(_,function(t,e){if(t.depth>=c.length||t===c[t.depth]){var o=h(d,x,t,e,T,u);n(t,o,i,s,c,u)}})}else m=r(x,t),t.setVisual("color",m)}}function o(t,e,i,n){var o=f.extend({},e);return f.each(["color","colorAlpha","colorSaturation"],function(r){var a=t.get(r,!0);null==a&&i&&(a=i[r]),null==a&&(a=e[r]),null==a&&(a=n.get(r)),null!=a&&(o[r]=a)}),o}function r(t){var e=s(t,"color");if(e){var i=s(t,"colorAlpha"),n=s(t,"colorSaturation");return n&&(e=d.modifyHSL(e,null,null,n)),i&&(e=d.modifyAlpha(e,i)),e}}function a(t,e){return null!=e?d.modifyHSL(e,null,null,t):null}function s(t,e){var i=t[e];return null!=i&&"none"!==i?i:void 0}function l(t,e,i,n,o,r){if(r&&r.length){var a=c(e,"color")||null!=o.color&&"none"!==o.color&&(c(e,"colorAlpha")||c(e,"colorSaturation"));if(a){var s=e.get("colorMappingBy"),l={type:a.name,dataExtent:i.dataExtent,visual:a.range};"color"!==l.type||"index"!==s&&"id"!==s?l.mappingMethod="linear":(l.mappingMethod="category",l.loop=!0);var h=new u(l);return h.__drColorMappingBy=s,h}}}function c(t,e){var i=t.get(e);return p(i)&&i.length?{name:e,range:i}:null}function h(t,e,i,n,o,r){var a=f.extend({},e);if(o){var s=o.type,l="color"===s&&o.__drColorMappingBy,c="index"===l?n:"id"===l?r.mapIdToIndex(i.getId()):i.getValue(t.get("visualDimension"));a[s]=o.mapValueToVisual(c)}return a}var u=i(187),d=i(38),f=i(3),p=f.isArray,g="itemStyle.normal";t.exports=function(t,e){var i={mainType:"series",subType:"treemap",query:e};t.eachComponent(i,function(t){var e=t.getData().tree,i=e.root,o=t.getModel(g);if(!i.isRemoved()){var r=f.map(e.levelModels,function(t){return t?t.get(g):null});n(i,{},r,o,t.getViewRoot().getAncestors(),t)}})}},function(t,e,i){function n(t,e,i,n){return u.isArray(t)?u.map(t,function(t){return f(t,e,i,n)}):f(t,e,i,n)}function o(t){var e=t.pieceList;t.hasSpecialVisual=!1,u.each(e,function(e,i){e.originIndex=i,e.visual&&(t.hasSpecialVisual=!0)})}function r(t){var e=t.categories,i=t.visual,n=u.isArray(i);if(!e){if(n)return;throw new Error}var o=t.categoryMap={};if(p(e,function(t,e){o[t]=e}),!n){var r=[];u.isObject(i)?p(i,function(t,e){var i=o[e];r[null!=i?i:m]=t}):r[m]=i,i=t.visual=r}for(var a=e.length-1;a>=0;a--)null==i[a]&&(delete o[e[a]],e.pop())}function a(t){return{applyVisual:function(e,i,n){var o=i("color"),r=u.isArray(e);if(e=r?[this.mapValueToVisual(e[0]),this.mapValueToVisual(e[1])]:this.mapValueToVisual(e),u.isArray(o))for(var a=0,s=o.length;s>a;a++)o[a].color=t(o[a].color,r?e[a]:e);else n("color",t(o,e))},mapValueToVisual:function(t){var e=this._normalizeData(t),i=this._getSpecifiedVisual(t),o=this.option.visual;return null==i&&(i=h(this)?c(this,o,e):n(e,[0,1],o,!0)),i}}}function s(t,e){return t[Math.round(n(e,[0,1],[0,t.length-1],!0))]}function l(t,e,i){i("color",this.mapValueToVisual(t))}function c(t,e,i){return e[t.option.loop&&i!==m?i%e.length:i]}function h(t){return"category"===t.option.mappingMethod}var u=i(3),d=i(38),f=i(7).linearMap,p=u.each,g=u.isObject,m=-1,v=function(t){var e=t.mappingMethod,i=t.type;this.type=i,this.mappingMethod=e;var n=this.option=u.clone(t);this._normalizeData=x[e],this._getSpecifiedVisual=u.bind(b[e],this,i),u.extend(this,y[i]),"piecewise"===e&&o(n),"category"===e&&r(n)};v.prototype={constructor:v,applyVisual:null,isValueActive:null,mapValueToVisual:null,getNormalizer:function(){return u.bind(this._normalizeData,this)}};var y=v.visualHandlers={color:{applyVisual:l,getColorMapper:function(){var t=h(this)?this.option.visual:u.map(this.option.visual,d.parse);return u.bind(h(this)?function(e,i){return!i&&(e=this._normalizeData(e)),c(this,t,e)}:function(e,i,n){var o=!!n;return!i&&(e=this._normalizeData(e)),n=d.fastMapToColor(e,t,n),o?n:u.stringify(n,"rgba")},this)},mapValueToVisual:function(t){var e=this.option.visual;if(u.isArray(t))return t=[this._normalizeData(t[0]),this._normalizeData(t[1])],d.mapIntervalToColor(t,e);var i=this._normalizeData(t),n=this._getSpecifiedVisual(t);return null==n&&(n=h(this)?c(this,e,i):d.mapToColor(i,e)),n}},colorHue:a(function(t,e){return d.modifyHSL(t,e)}),colorSaturation:a(function(t,e){return d.modifyHSL(t,null,e)}),colorLightness:a(function(t,e){return d.modifyHSL(t,null,null,e)}),colorAlpha:a(function(t,e){return d.modifyAlpha(t,e)}),symbol:{applyVisual:function(t,e,i){var n=this.mapValueToVisual(t);if(u.isString(n))i("symbol",n);else if(g(n))for(var o in n)n.hasOwnProperty(o)&&i(o,n[o])},mapValueToVisual:function(t){var e=this._normalizeData(t),i=this._getSpecifiedVisual(t),n=this.option.visual;return null==i&&(i=h(this)?c(this,n,e):s(n,e)||{}),i}},symbolSize:{applyVisual:function(t,e,i){i("symbolSize",this.mapValueToVisual(t))},mapValueToVisual:function(t){var e=this._normalizeData(t),i=this._getSpecifiedVisual(t),o=this.option.visual;return null==i&&(i=h(this)?c(this,o,e):n(e,[0,1],o,!0)),i}}},x={linear:function(t){return n(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,i=v.findPieceIndex(t,e);return null!=i?n(i,[0,e.length-1],[0,1],!0):void 0},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?m:e}},b={linear:u.noop,piecewise:function(t,e){var i=this.option,n=i.pieceList;if(i.hasSpecialVisual){var o=v.findPieceIndex(e,n),r=n[o];if(r&&r.visual)return r.visual[t]}},category:u.noop};v.addVisualHandler=function(t,e){y[t]=e},v.isValidType=function(t){return y.hasOwnProperty(t)},v.eachVisual=function(t,e,i){u.isObject(t)?u.each(t,e,i):e.call(i,t)},v.mapVisual=function(t,e,i){var n,o=u.isArray(t)?[]:u.isObject(t)?{}:(n=!0,null);return v.eachVisual(t,function(t,r){var a=e.call(i,t,r);n?o=a:o[r]=a}),o},v.isInVisualCluster=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},v.retrieveVisuals=function(t){var e,i={};return t&&p(y,function(n,o){t.hasOwnProperty(o)&&(i[o]=t[o],e=!0)}),e?i:null},v.prepareVisualTypes=function(t){if(g(t)){var e=[];p(t,function(t,i){e.push(i)}),t=e}else{if(!u.isArray(t))return[];t=t.slice()}return t.sort(function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1}),t},v.findPieceIndex=function(t,e){for(var i=0,n=e.length;n>i;i++){var o=e[i];if(null!=o.value&&o.value===t)return i}for(var i=0,n=e.length;n>i;i++){var o=e[i],r=o.interval;if(r)if(r[0]===-(1/0)){if(t<r[1])return i}else if(r[1]===1/0){if(r[0]<t)return i}else if(o.interval[0]<=t&&t<=o.interval[1])return i}},t.exports=v},function(t,e,i){function n(t,e,i){var n={mainType:"series",subType:"treemap",query:i};t.eachComponent(n,function(t){var n=e.getWidth(),r=e.getHeight(),a=t.option,s=a.size||[],l=b(w(a.width,s[0]),n),c=b(w(a.height,s[1]),r),h=y.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),p=i&&i.type,g=x.retrieveTargetInfo(i,t),m="treemapRender"===p||"treemapMove"===p?i.rootRect:null,v=t.getViewRoot();if("treemapMove"!==p){var T="treemapZoomToNode"===p?u(t,g,v,l,c):m?[m.width,m.height]:[l,c],S=a.sort;S&&"asc"!==S&&"desc"!==S&&(S="desc");var C={squareRatio:a.squareRatio,sort:S,leafDepth:a.leafDepth};v.setLayout({x:0,y:0,width:T[0],height:T[1],area:T[0]*T[1]}),o(v,C,!1,0)}v.setLayout(d(h,m,g),!0),t.setLayoutInfo(h),f(t.getData().tree.root,new _(-h.x,-h.y,n,r),x.getPathToRoot(v))})}function o(t,e,i,n){var a,s;if(!t.isRemoved()){var l=t.getLayout();a=l.width,s=l.height;var u=t.getModel("itemStyle.normal"),d=u.get("borderWidth"),f=u.get("gapWidth")/2,m=d-f,v=t.getModel();t.setLayout({borderWidth:d},!0),a=p(a-2*m,0),s=p(s-2*m,0);var y=a*s,x=r(t,v,y,e,i,n);if(x.length){var b={x:m,y:m,width:a,height:s},w=g(a,s),_=1/0,T=[];T.area=0;for(var S=0,C=x.length;C>S;){var k=x[S];T.push(k),T.area+=k.getLayout().area;var M=c(T,w,e.squareRatio);_>=M?(S++,_=M):(T.area-=T.pop().getLayout().area,h(T,w,b,f,!1),w=g(b.width,b.height),T.length=T.area=0,_=1/0)}if(T.length&&h(T,w,b,f,!0),!i){var A=v.get("childrenVisibleMin");null!=A&&A>y&&(i=!0)}for(var S=0,C=x.length;C>S;S++)o(x[S],e,i,n+1)}}}function r(t,e,i,n,o,r){var c=t.children||[],h=n.sort;"asc"!==h&&"desc"!==h&&(h=null);var u=null!=n.leafDepth&&n.leafDepth<=r;if(o&&!u)return t.viewChildren=[];c=m.filter(c,function(t){return!t.isRemoved()}),s(c,h);var d=l(e,c,h);if(0===d.sum)return t.viewChildren=[];if(d.sum=a(e,i,d.sum,h,c),0===d.sum)return t.viewChildren=[];for(var f=0,p=c.length;p>f;f++){var g=c[f].getValue()/d.sum*i;c[f].setLayout({area:g})}return u&&(c.length&&t.setLayout({isLeafRoot:!0},!0),c.length=0),t.viewChildren=c,t.setLayout({dataExtent:d.dataExtent},!0),c}function a(t,e,i,n,o){if(!n)return i;for(var r=t.get("visibleMin"),a=o.length,s=a,l=a-1;l>=0;l--){var c=o["asc"===n?a-l-1:l].getValue();r>c/i*e&&(s=l,i-=c)}return"asc"===n?o.splice(0,a-s):o.splice(s,a-s),i}function s(t,e){return e&&t.sort(function(t,i){return"asc"===e?t.getValue()-i.getValue():i.getValue()-t.getValue()}),t}function l(t,e,i){for(var n=0,o=0,r=e.length;r>o;o++)n+=e[o].getValue();var a,s=t.get("visualDimension");if(e&&e.length)if("value"===s&&i)a=[e[e.length-1].getValue(),e[0].getValue()],"asc"===i&&a.reverse();else{var a=[1/0,-(1/0)];m.each(e,function(t){var e=t.getValue(s);e<a[0]&&(a[0]=e),e>a[1]&&(a[1]=e)})}else a=[NaN,NaN];return{sum:n,dataExtent:a}}function c(t,e,i){for(var n,o=0,r=1/0,a=0,s=t.length;s>a;a++)n=t[a].getLayout().area,n&&(r>n&&(r=n),n>o&&(o=n));var l=t.area*t.area,c=e*e*i;return l?p(c*o/l,l/(c*r)):1/0}function h(t,e,i,n,o){var r=e===i.width?0:1,a=1-r,s=["x","y"],l=["width","height"],c=i[s[r]],h=e?t.area/e:0;(o||h>i[l[a]])&&(h=i[l[a]]);for(var u=0,d=t.length;d>u;u++){var f=t[u],m={},v=h?f.getLayout().area/h:0,y=m[l[a]]=p(h-2*n,0),x=i[s[r]]+i[l[r]]-c,b=u===d-1||v>x?x:v,w=m[l[r]]=p(b-2*n,0);m[s[a]]=i[s[a]]+g(n,y/2),m[s[r]]=c+g(n,w/2),c+=b,f.setLayout(m,!0)}i[s[a]]+=h,i[l[a]]-=h}function u(t,e,i,n,o){var r=(e||{}).node,a=[n,o];if(!r||r===i)return a;for(var s,l=n*o,c=l*t.option.zoomToNodeRatio;s=r.parentNode;){for(var h=0,u=s.children,d=0,f=u.length;f>d;d++)h+=u[d].getValue();var p=r.getValue();if(0===p)return a;c*=h/p;var g=s.getModel("itemStyle.normal").get("borderWidth");isFinite(g)&&(c+=4*g*g+4*g*Math.pow(c,.5)),c>v.MAX_SAFE_INTEGER&&(c=v.MAX_SAFE_INTEGER),r=s}l>c&&(c=l);var m=Math.pow(c/l,.5);return[n*m,o*m]}function d(t,e,i){if(e)return{x:e.x,y:e.y};var n={x:0,y:0};if(!i)return n;var o=i.node,r=o.getLayout();if(!r)return n;for(var a=[r.width/2,r.height/2],s=o;s;){var l=s.getLayout();a[0]+=l.x,a[1]+=l.y,s=s.parentNode}return{x:t.width/2-a[0],y:t.height/2-a[1]}}function f(t,e,i){var n=t.getLayout();t.setLayout({invisible:n?!e.intersect(n):!x.aboveViewRootByViewPath(i,t)},!0);for(var o=t.viewChildren||[],r=0,a=o.length;a>r;r++){var s=new _(e.x-n.x,e.y-n.y,e.width,e.height);f(o[r],s,i)}}var p=Math.max,g=Math.min,m=i(3),v=i(7),y=i(21),x=i(181),b=v.parsePercent,w=m.retrieve,_=i(15),x=i(181);t.exports=n},function(t,e,i){var n=i(1),o=i(3);i(190),i(193),i(197),n.registerProcessor("filter",i(198)),n.registerVisualCoding("chart",o.curry(i(103),"graph","circle",null)),n.registerVisualCoding("chart",i(199)),n.registerLayout(i(200)),n.registerLayout(i(202)),n.registerLayout(i(204)),n.registerCoordinateSystem("graphView",{create:i(206)})},function(t,e,i){"use strict";var n=i(94),o=i(3),r=i(191),a=i(1).extendSeriesModel({type:"series.graph",init:function(t){a.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this._updateCategoriesData()},mergeOption:function(t){a.superApply(this,"mergeOption",arguments),this._updateCategoriesData()},getInitialData:function(t,e){var i=t.edges||t.links,n=t.data||t.nodes;if(n&&i){var o=r(n,i,this,!0),a=o.data,s=this;return a.wrapMethod("getItemModel",function(t){var e=s._categoriesModels,i=t.getShallow("category"),n=e[i];return n&&(n.parentModel=t.parentModel,t.parentModel=n),t}),a}},restoreData:function(){a.superApply(this,"restoreData",arguments),this.getGraph().restoreData()},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},_updateCategoriesData:function(){var t=o.map(this.option.categories||[],function(t){return null!=t.value?t:o.extend({value:0},t)}),e=new n(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t,!0)})},setRoamZoom:function(t){var e=this.option.roamDetail;e&&(e.zoom=t)},setRoamPan:function(t,e){var i=this.option.roamDetail;i&&(i.x=t,i.y=e)},defaultOption:{zlevel:0,z:2,color:["#61a0a8","#d14a61","#fd9c35","#675bba","#fec42c","#dd4444","#fd9c35","#cd4870"],coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,force:{initLayout:null,repulsion:50,gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,draggable:!1,roam:!1,roamDetail:{x:0,y:0,zoom:1},nodeScaleRatio:.6,label:{normal:{show:!1},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{}}}});t.exports=a},function(t,e,i){var n=i(94),o=i(192),r=i(180),a=i(96),s=i(3);t.exports=function(t,e,i,l){for(var c=new o(l),h=0;h<t.length;h++)c.addNode(s.retrieve(t[h].id,t[h].name,h),h);for(var u=[],d=[],h=0;h<e.length;h++){var f=e[h];c.addEdge(f.source,f.target,h)&&(d.push(f),u.push(s.retrieve(f.id,f.source+" - "+f.target)))}var p=a(["value"],t),g=new n(p,i),m=new n(["value"],i);return g.initData(t),m.initData(d,u),c.setEdgeData(m),r.linkToGraph(g,c),c.update(),c}},function(t,e,i){"use strict";function n(t,e){this.id=null==t?"":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e}function o(t,e,i){this.node1=t,this.node2=e,this.dataIndex=null==i?-1:i}var r=i(3),a=function(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},s=a.prototype;s.type="graph",s.isDirected=function(){return this._directed},s.addNode=function(t,e){var i=this._nodesMap;if(!i[t]){var o=new n(t,e);return o.hostGraph=this,this.nodes.push(o),i[t]=o,o}},s.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},s.getNodeById=function(t){return this._nodesMap[t]},s.addEdge=function(t,e,i){var r=this._nodesMap,a=this._edgesMap;if(t instanceof n||(t=r[t]),e instanceof n||(e=r[e]),t&&e){var s=t.id+"-"+e.id;if(!a[s]){var l=new o(t,e,i);return l.hostGraph=this,this._directed&&(t.outEdges.push(l),e.inEdges.push(l)),t.edges.push(l),t!==e&&e.edges.push(l),this.edges.push(l),a[s]=l,l}}},s.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},s.getEdge=function(t,e){t instanceof n&&(t=t.id),e instanceof n&&(e=e.id);var i=this._edgesMap;return this._directed?i[t+"-"+e]:i[t+"-"+e]||i[e+"-"+t]},s.eachNode=function(t,e){for(var i=this.nodes,n=i.length,o=0;n>o;o++)i[o].dataIndex>=0&&t.call(e,i[o],o)},s.eachEdge=function(t,e){for(var i=this.edges,n=i.length,o=0;n>o;o++)i[o].dataIndex>=0&&i[o].node1.dataIndex>=0&&i[o].node2.dataIndex>=0&&t.call(e,i[o],o)},s.breadthFirstTraverse=function(t,e,i,o){if(e instanceof n||(e=this._nodesMap[e]),e){for(var r="out"===i?"outEdges":"in"===i?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!t.call(o,e,null))for(var s=[e];s.length;)for(var l=s.shift(),c=l[r],a=0;a<c.length;a++){var h=c[a],u=h.node1===l?h.node2:h.node1;if(!u.__visited){if(t.call(u,u,l))return;s.push(u),u.__visited=!0}}}},s.update=function(){for(var t=this.data,e=this.edgeData,i=this.nodes,n=this.edges,o=0,r=i.length;r>o;o++)i[o].dataIndex=-1;for(var o=0,r=t.count();r>o;o++)i[t.getRawIndex(o)].dataIndex=o;e.filterSelf(function(t){var i=n[e.getRawIndex(t)];return i.node1.dataIndex>=0&&i.node2.dataIndex>=0});for(var o=0,r=n.length;r>o;o++)n[o].dataIndex=-1;for(var o=0,r=e.count();r>o;o++)n[e.getRawIndex(o)].dataIndex=o},s.setEdgeData=function(t){this.edgeData=t,this._edgeDataSaved=t.cloneShallow()},s.restoreData=function(){this.edgeData=this._edgeDataSaved.cloneShallow()},s.clone=function(){for(var t=new a(this._directed),e=this.nodes,i=this.edges,n=0;n<e.length;n++)t.addNode(e[n].id,e[n].dataIndex);for(var n=0;n<i.length;n++){var o=i[n];t.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return t},n.prototype={constructor:n,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,i=e.data.getItemModel(this.dataIndex);return i.getModel(t)}}},o.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,i=e.edgeData.getItemModel(this.dataIndex);return i.getModel(t)}};var l=function(t,e){return{getValue:function(i){var n=this[t][e];return n.get(n.getDimension(i||"value"),this.dataIndex)},setVisual:function(i,n){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,i,n)},getVisual:function(i,n){return this[t][e].getItemVisual(this.dataIndex,i,n)},setLayout:function(i,n){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,i,n)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}};r.mixin(n,l("hostGraph","data")),r.mixin(o,l("hostGraph","edgeData")),a.Node=n,a.Edge=o,t.exports=a},function(t,e,i){var n=i(98),o=i(194),r=i(159),a=i(5),s=i(42);i(1).extendChartView({type:"graph",init:function(t,e){var i=new n,a=new o,s=this.group,l=new r(e.getZr(),s);s.add(i.group),s.add(a.group),this._symbolDraw=i,this._lineDraw=a,this._controller=l,this._firstRender=!0},render:function(t,e,i){var n=t.coordinateSystem;if("geo"===n.type||"view"===n.type){var o=t.getData();this._model=t;var r=this._symbolDraw,l=this._lineDraw;r.updateData(o);var c=o.graph.edgeData,h=t.option,u=a.createDataFormatModel(t,c,h.edges||h.links);u.formatTooltip=function(t){var e=this.getDataParams(t),i=o.graph.getEdgeByIndex(t),n=o.getName(i.node1.dataIndex),r=o.getName(i.node2.dataIndex),a=n+" > "+r;return e.value&&(a+=" : "+e.value),a},l.updateData(c,null,null),c.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=u})});var d=this.group,f={position:n.position,scale:n.scale};this._firstRender?d.attr(f):s.updateProps(d,f,t),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(),this._updateController(t,n,i),clearTimeout(this._layoutTimeout);var p=t.forceLayout,g=t.get("force.layoutAnimation");p&&this._startForceLayoutIteration(p,g),o.eachItemGraphicEl(function(t,e){var i=o.getItemModel(e).get("draggable");i&&p?t.on("drag",function(){p.warmUp(),!this._layouting&&this._startForceLayoutIteration(p,g),p.setFixed(e),o.setItemLayout(e,t.position);
},this).on("dragend",function(){p.setUnfixed(e)},this):t.off("drag"),t.setDraggable(i)},this),this._firstRender=!1}},_startForceLayoutIteration:function(t,e){var i=this;!function n(){t.step(function(t){i.updateLayout(),(i._layouting=!t)&&(e?i._layoutTimeout=setTimeout(n,16):n())})}()},_updateController:function(t,e,i){var n=this._controller;n.rect=e.getViewRect(),n.enable(t.get("roam")),n.off("pan").off("zoom").on("pan",function(e,n){i.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e,dy:n})}).on("zoom",function(e,n,o){i.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e,originX:n,originY:o})}).on("zoom",this._updateNodeAndLinkScale,this)},_updateNodeAndLinkScale:function(){var t=this._model,e=t.getData(),i=this.group,n=this._nodeScaleRatio,o=i.scale[0],r=(o-1)*n+1,a=[r/o,r/o];e.eachItemGraphicEl(function(t,e){t.attr("scale",a)})},updateLayout:function(t,e){this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}})},function(t,e,i){function n(t){this._ctor=t||r,this.group=new o.Group}var o=i(42),r=i(195),a=n.prototype;a.updateData=function(t,e,i){var n=this._lineData,o=this.group,r=this._ctor;t.diff(n).add(function(n){var a=new r(t,e,i,n);t.setItemGraphicEl(n,a),o.add(a)}).update(function(r,a){var s=n.getItemGraphicEl(a);s.updateData(t,e,i,r),t.setItemGraphicEl(r,s),o.add(s)}).remove(function(t){o.remove(n.getItemGraphicEl(t))}).execute(),this._lineData=t,this._fromData=e,this._toData=i},a.updateLayout=function(){var t=this._lineData;t.eachItemGraphicEl(function(e,i){e.updateLayout(t,this._fromData,this._toData,i)},this)},a.remove=function(){this.group.removeAll()},t.exports=n},function(t,e,i){function n(t,e,i){var n=e.getItemVisual(i,"color"),o=e.getItemVisual(i,"symbol"),r=e.getItemVisual(i,"symbolSize");if("none"!==o){p.isArray(r)||(r=[r,r]);var a=h.createSymbol(o,-r[0]/2,-r[1]/2,r[0],r[1],n);return a.name=t,a}}function o(t){var e=new d({name:"line",style:{strokeNoScale:!0}});return r(e.shape,t),e}function r(t,e){var i=e[0],n=e[1],o=e[2];t.x1=i[0],t.y1=i[1],t.x2=n[0],t.y2=n[1],t.percent=1,o&&(t.cpx1=o[0],t.cpy1=o[1])}function a(t){return"symbol"===t.type&&"arrow"===t.shape.symbolType}function s(){var t=this,e=t.childOfName("line");if(this.__dirty||e.__dirty){var i=t.childOfName("fromSymbol"),n=t.childOfName("toSymbol"),o=t.childOfName("label"),r=e.pointAt(0),s=e.pointAt(e.shape.percent),c=u.sub([],s,r);u.normalize(c,c),i&&(i.attr("position",r),a(i)&&i.attr("rotation",l(s,r))),n&&(n.attr("position",s),a(n)&&n.attr("rotation",l(r,s))),o.attr("position",s);var h,d,f;"end"===o.__position?(h=[5*c[0]+s[0],5*c[1]+s[1]],d=c[0]>.8?"left":c[0]<-.8?"right":"center",f=c[1]>.8?"top":c[1]<-.8?"bottom":"middle"):(h=[5*-c[0]+r[0],5*-c[1]+r[1]],d=c[0]>.8?"right":c[0]<-.8?"left":"center",f=c[1]>.8?"bottom":c[1]<-.8?"top":"middle"),o.attr({style:{textVerticalAlign:o.__verticalAlign||f,textAlign:o.__textAlign||d},position:h})}}function l(t,e){return-Math.PI/2-Math.atan2(e[1]-t[1],e[0]-t[0])}function c(t,e,i,n){f.Group.call(this),this._createLine(t,e,i,n)}var h=i(100),u=i(16),d=i(196),f=i(42),p=i(3),g=i(7),m=c.prototype;m.beforeUpdate=s,m._createLine=function(t,e,i,r){var a=t.hostModel,s=t.getItemLayout(r),l=o(s);l.shape.percent=0,f.initProps(l,{shape:{percent:1}},a),this.add(l);var c=new f.Text({name:"label"});if(this.add(c),e){var h=n("fromSymbol",e,r);this.add(h),this._fromSymbolType=e.getItemVisual(r,"symbol")}if(i){var u=n("toSymbol",i,r);this.add(u),this._toSymbolType=i.getItemVisual(r,"symbol")}this._updateCommonStl(t,e,i,r)},m.updateData=function(t,e,i,o){var a=t.hostModel,s=this.childOfName("line"),l=t.getItemLayout(o),c={shape:{}};if(r(c.shape,l),f.updateProps(s,c,a),e){var h=e.getItemVisual(o,"symbol");if(this._fromSymbolType!==h){var u=n("fromSymbol",e,o);this.remove(this.childOfName("fromSymbol")),this.add(u)}this._fromSymbolType=h}if(i){var d=i.getItemVisual(o,"symbol");if(d!==this._toSymbolType){var p=n("toSymbol",i,o);this.remove(this.childOfName("toSymbol")),this.add(p)}this._toSymbolType=d}this._updateCommonStl(t,e,i,o)},m._updateCommonStl=function(t,e,i,n){var o=t.hostModel,r=this.childOfName("line"),a=t.getItemModel(n),s=a.getModel("label.normal"),l=s.getModel("textStyle"),c=a.getModel("label.emphasis"),h=c.getModel("textStyle"),u=g.round(o.getRawValue(n));isNaN(u)&&(u=t.getName(n)),r.setStyle(p.extend({stroke:t.getItemVisual(n,"color")},a.getModel("lineStyle.normal").getLineStyle()));var d=this.childOfName("label");d.setStyle({text:s.get("show")?p.retrieve(o.getFormattedLabel(n,"normal"),u):"",textFont:l.getFont(),fill:l.getTextColor()||t.getItemVisual(n,"color")}),d.hoverStyle={text:c.get("show")?p.retrieve(o.getFormattedLabel(n,"emphasis"),u):"",textFont:h.getFont(),fill:h.getTextColor()},d.__textAlign=l.get("align"),d.__verticalAlign=l.get("baseline"),d.__position=s.get("position"),f.setHoverStyle(this,a.getModel("lineStyle.emphasis").getLineStyle())},m.updateLayout=function(t,e,i,n){var o=t.getItemLayout(n),a=this.childOfName("line");r(a.shape,o),a.dirty(!0)},p.inherits(c,f.Group),t.exports=c},function(t,e,i){var n=i(42),o=n.Line.prototype,r=n.BezierCurve.prototype;t.exports=n.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,e){(null==e.cpx1||null==e.cpy1?o:r).buildPath(t,e)},pointAt:function(t){var e=this.shape;return null==e.cpx1||null==e.cpy1?o.pointAt.call(this,t):r.pointAt.call(this,t)}})},function(t,e,i){var n=i(1),o=i(162),r={type:"graphRoam",event:"graphRoam",update:"none"};n.registerAction(r,function(t,e){e.eachComponent({mainType:"series",query:t},function(e){var i=e.coordinateSystem,n=e.getModel("roamDetail"),r=o.calcPanAndZoom(n,t);e.setRoamPan&&e.setRoamPan(r.x,r.y),e.setRoamZoom&&e.setRoamZoom(r.zoom),i&&i.setPan(r.x,r.y),i&&i.setZoom(r.zoom)})})},function(t,e){t.exports=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),n=t.getGraph(),o=n.data,r=i.mapArray(i.getName);o.filterSelf(function(t){var i=o.getItemModel(t),n=i.getShallow("category");if(null!=n){"number"==typeof n&&(n=r[n]);for(var a=0;a<e.length;a++)if(!e[a].isSelected(n))return!1}return!0})},this)}},function(t,e){t.exports=function(t){t.eachSeriesByType("graph",function(t){var e=t.get("color"),i=t.getCategoriesData(),n=t.getData(),o={};i.each(function(t){o[i.getName(t)]=t;var n=i.getItemModel(t),r=i.getRawIndex(t),a=n.get("itemStyle.normal.color")||e[r%e.length];i.setItemVisual(t,"color",a)}),i.count()&&n.each(function(t){var e=n.getItemModel(t),r=e.getShallow("category");null!=r&&("string"==typeof r&&(r=o[r]),n.setItemVisual(t,"color",i.getItemVisual(r,"color")))})})}},function(t,e,i){var n=i(201);t.exports=function(t,e){t.eachSeriesByType("graph",function(t){var e=t.get("layout");e&&"none"!==e||n(t)})}},function(t,e){t.exports=function(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var i=t.getGraph();i.eachNode(function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])}),i.eachEdge(function(t){var e,i=t.getModel().get("lineStyle.normal.curveness")||0,n=t.node1.getLayout(),o=t.node2.getLayout();i>0&&(e=[(n[0]+o[0])/2-(n[1]-o[1])*i,(n[1]+o[1])/2-(o[0]-n[0])*i]),t.setLayout([n,o,e])})}}},function(t,e,i){var n=i(203);t.exports=function(t,e){t.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&n(t)})}},function(t,e){t.exports=function(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var i=e.getBoundingRect(),n=t.getData(),o=n.graph,r=0,a=n.getSum("value"),s=2*Math.PI/(a||n.count()),l=i.width/2+i.x,c=i.height/2+i.y,h=Math.min(i.width,i.height)/2;o.eachNode(function(t){var e=t.getValue("value");r+=s*(a?e:2)/2,t.setLayout([h*Math.cos(r)+l,h*Math.sin(r)+c]),r+=s*(a?e:2)/2}),o.eachEdge(function(t){var e,i=t.getModel().get("lineStyle.normal.curveness")||0,n=t.node1.getLayout(),o=t.node2.getLayout();i>0&&(e=[l,c]),t.setLayout([n,o,e])})}}},function(t,e,i){var n=i(205),o=i(7),r=i(201),a=i(203),s=i(16);t.exports=function(t,e){t.eachSeriesByType("graph",function(t){if("force"===t.get("layout")){var e=t.preservedPoints||{},i=t.getGraph(),l=i.data,c=i.edgeData,h=t.getModel("force"),u=h.get("initLayout");t.preservedPoints?l.each(function(t){var i=l.getId(t);l.setItemLayout(t,e[i]||[NaN,NaN])}):u&&"none"!==u?"circular"===u&&a(t):r(t);var d=l.getDataExtent("value"),f=h.get("repulsion"),p=h.get("edgeLength"),g=l.mapArray("value",function(t,e){var i=l.getItemLayout(e),n=o.linearMap(t,d,[0,f])||f/2;return{w:n,rep:n,p:!i||isNaN(i[0])||isNaN(i[1])?null:i}}),m=c.mapArray("value",function(t,e){var n=i.getEdgeByIndex(e);return{n1:g[n.node1.dataIndex],n2:g[n.node2.dataIndex],d:p,curveness:n.getModel().get("lineStyle.normal.curveness")||0}}),v=t.coordinateSystem,y=v.getBoundingRect(),x=n(g,m,{rect:y,gravity:h.get("gravity")}),b=x.step;x.step=function(t){for(var n=0,o=g.length;o>n;n++)g[n].fixed&&s.copy(g[n].p,i.getNodeByIndex(n).getLayout());b(function(n,o,r){for(var a=0,s=n.length;s>a;a++)n[a].fixed||i.getNodeByIndex(a).setLayout(n[a].p),e[l.getId(a)]=n[a].p;for(var a=0,s=o.length;s>a;a++){var c=o[a],h=c.n1.p,u=c.n2.p,d=[h,u];c.curveness>0&&d.push([(h[0]+u[0])/2-(h[1]-u[1])*c.curveness,(h[1]+u[1])/2-(u[0]-h[0])*c.curveness]),i.getEdgeByIndex(a).setLayout(d)}t&&t(r)})},t.forceLayout=x,t.preservedPoints=e,x.step()}else t.forceLayout=null})}},function(t,e,i){var n=i(16),o=n.scaleAndAdd;t.exports=function(t,e,i){for(var r=i.rect,a=r.width,s=r.height,l=[r.x+a/2,r.y+s/2],c=null==i.gravity?.1:i.gravity,h=0;h<t.length;h++){var u=t[h];u.p||(u.p=n.create(a*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),u.pp=n.clone(u.p),u.edges=null}var d=.6;return{warmUp:function(){d=.5},setFixed:function(e){t[e].fixed=!0},setUnfixed:function(e){t[e].fixed=!1},step:function(i){for(var r=[],a=t.length,s=0;s<e.length;s++){var h=e[s],u=h.n1,f=h.n2;n.sub(r,f.p,u.p);var p=n.len(r)-h.d,g=f.w/(u.w+f.w);n.normalize(r,r),!u.fixed&&o(u.p,u.p,r,g*p*d),!f.fixed&&o(f.p,f.p,r,-(1-g)*p*d)}for(var s=0;a>s;s++){var m=t[s];m.fixed||(n.sub(r,l,m.p),n.scaleAndAdd(m.p,m.p,r,c*d))}for(var s=0;a>s;s++)for(var u=t[s],v=s+1;a>v;v++){var f=t[v];n.sub(r,f.p,u.p);var p=n.len(r);0===p&&(n.set(r,Math.random()-.5,Math.random()-.5),p=1);var y=(u.rep+f.rep)/p/p;!u.fixed&&o(u.pp,u.pp,r,y),!f.fixed&&o(f.pp,f.pp,r,-y)}for(var x=[],s=0;a>s;s++){var m=t[s];m.fixed||(n.sub(x,m.p,m.pp),n.scaleAndAdd(m.p,m.p,x,d),n.copy(m.pp,m.p))}d=.992*d,i&&i(t,e,.01>d)}}}},function(t,e,i){function n(t,e,i){var n=t.getBoxLayoutParams();return n.aspect=i,r.getLayoutRect(n,{width:e.getWidth(),height:e.getHeight()})}var o=i(169),r=i(21),a=i(50);t.exports=function(t,e){var i=[];return t.eachSeriesByType("graph",function(t){var r=t.get("coordinateSystem");if(!r||"view"===r){var s=new o;i.push(s);var l=t.getData(),c=l.mapArray(function(t){var e=l.getItemModel(t);return[+e.get("x"),+e.get("y")]}),h=[],u=[];a.fromPoints(c,h,u);var d=n(t,e,(u[0]-h[0])/(u[1]-h[1])||1);(isNaN(h[0])||isNaN(h[1]))&&(h=[d.x,d.y],u=[d.x+d.width,d.y+d.height]);var f=u[0]-h[0],p=u[1]-h[1],g=d.width,m=d.height;s=t.coordinateSystem=new o,s.setBoundingRect(h[0],h[1],f,p),s.setViewRect(d.x,d.y,g,m);var v=t.getModel("roamDetail");s.setPan(v.get("x")||0,v.get("y")||0),s.setZoom(v.get("zoom")||1)}}),i}},function(t,e,i){i(208),i(209)},function(t,e,i){var n=i(94),o=i(27),r=i(3),a=o.extend({type:"series.gauge",getInitialData:function(t,e){var i=new n(["value"],this),o=t.data||[];return r.isArray(o)||(o=[o]),i.initData(o),i},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,textStyle:{color:"auto"}},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#333",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:40,offsetCenter:[0,"40%"],textStyle:{color:"auto",fontSize:30}}}});t.exports=a},function(t,e,i){function n(t,e){var i=t.get("center"),n=e.getWidth(),o=e.getHeight(),r=Math.min(n,o),a=l(i[0],e.getWidth()),s=l(i[1],e.getHeight()),c=l(t.get("radius"),r/2);return{cx:a,cy:s,r:c}}function o(t,e){return e&&("string"==typeof e?t=e.replace("{value}",t):"function"==typeof e&&(t=e(t))),t}var r=i(210),a=i(42),s=i(7),l=s.parsePercent,c=2*Math.PI,h=i(41).extend({type:"gauge",render:function(t,e,i){this.group.removeAll();var o=t.get("axisLine.lineStyle.color"),r=n(t,i);this._renderMain(t,e,i,o,r)},_renderMain:function(t,e,i,n,o){for(var r=this.group,s=t.getModel("axisLine"),l=s.getModel("lineStyle"),h=t.get("clockwise"),u=-t.get("startAngle")/180*Math.PI,d=-t.get("endAngle")/180*Math.PI,f=(d-u)%c,p=u,g=l.get("width"),m=0;m<n.length;m++){var d=u+f*n[m][0],v=new a.Sector({shape:{startAngle:p,endAngle:d,cx:o.cx,cy:o.cy,clockwise:h,r0:o.r-g,r:o.r},silent:!0});v.setStyle({fill:n[m][1]}),v.setStyle(l.getLineStyle(["color","borderWidth","borderColor"])),r.add(v),p=d}var y=function(t){if(0>=t)return n[0][1];for(var e=0;e<n.length;e++)if(n[e][0]>=t&&(0===e?0:n[e-1][0])<t)return n[e][1];return n[e-1][1]};if(!h){var x=u;u=d,d=x}this._renderTicks(t,e,i,y,o,u,d,h),this._renderPointer(t,e,i,y,o,u,d,h),this._renderTitle(t,e,i,y,o),this._renderDetail(t,e,i,y,o)},_renderTicks:function(t,e,i,n,r,c,h,u){for(var d=this.group,f=r.cx,p=r.cy,g=r.r,m=t.get("min"),v=t.get("max"),y=t.getModel("splitLine"),x=t.getModel("axisTick"),b=t.getModel("axisLabel"),w=t.get("splitNumber"),_=x.get("splitNumber"),T=l(y.get("length"),g),S=l(x.get("length"),g),C=c,k=(h-c)/w,M=k/_,A=y.getModel("lineStyle").getLineStyle(),D=x.getModel("lineStyle").getLineStyle(),I=b.getModel("textStyle"),L=0;w>=L;L++){var P=Math.cos(C),N=Math.sin(C);if(y.get("show")){var E=new a.Line({shape:{x1:P*g+f,y1:N*g+p,x2:P*(g-T)+f,y2:N*(g-T)+p},style:A,silent:!0});"auto"===A.stroke&&E.setStyle({stroke:n(L/w)}),d.add(E)}if(b.get("show")){var R=o(s.round(L/w*(v-m)+m),b.get("formatter")),O=new a.Text({style:{text:R,x:P*(g-T-5)+f,y:N*(g-T-5)+p,fill:I.getTextColor(),textFont:I.getFont(),textVerticalAlign:-.4>N?"top":N>.4?"bottom":"middle",textAlign:-.4>P?"left":P>.4?"right":"center"},silent:!0});"auto"===O.style.fill&&O.setStyle({fill:n(L/w)}),d.add(O)}if(x.get("show")&&L!==w){for(var z=0;_>=z;z++){var P=Math.cos(C),N=Math.sin(C),V=new a.Line({shape:{x1:P*g+f,y1:N*g+p,x2:P*(g-S)+f,y2:N*(g-S)+p},silent:!0,style:D});"auto"===D.stroke&&V.setStyle({stroke:n((L+z/_)/w)}),d.add(V),C+=M}C-=M}else C+=k}},_renderPointer:function(t,e,i,n,o,c,h,u){var d=s.linearMap,f=[+t.get("min"),+t.get("max")],p=[c,h];u||(p=p.reverse());var g=t.getData(),m=this._data,v=this.group;g.diff(m).add(function(e){var i=new r({shape:{angle:c}});a.updateProps(i,{shape:{angle:d(g.get("value",e),f,p)}},t),v.add(i),g.setItemGraphicEl(e,i)}).update(function(e,i){var n=m.getItemGraphicEl(i);a.updateProps(n,{shape:{angle:d(g.get("value",e),f,p)}},t),v.add(n),g.setItemGraphicEl(e,n)}).remove(function(t){var e=m.getItemGraphicEl(t);v.remove(e)}).execute(),g.eachItemGraphicEl(function(t,e){var i=g.getItemModel(e),r=i.getModel("pointer");t.attr({shape:{x:o.cx,y:o.cy,width:l(r.get("width"),o.r),r:l(r.get("length"),o.r)},style:i.getModel("itemStyle.normal").getItemStyle()}),"auto"===t.style.fill&&t.setStyle("fill",n((g.get("value",e)-f[0])/(f[1]-f[0]))),a.setHoverStyle(t,i.getModel("itemStyle.emphasis").getItemStyle())}),this._data=g},_renderTitle:function(t,e,i,n,o){var r=t.getModel("title");if(r.get("show")){var s=r.getModel("textStyle"),c=r.get("offsetCenter"),h=o.cx+l(c[0],o.r),u=o.cy+l(c[1],o.r),d=new a.Text({style:{x:h,y:u,text:t.getData().getName(0),fill:s.getTextColor(),textFont:s.getFont(),textAlign:"center",textVerticalAlign:"middle"}});this.group.add(d)}},_renderDetail:function(t,e,i,n,r){var s=t.getModel("detail"),c=t.get("min"),h=t.get("max");if(s.get("show")){var u=s.getModel("textStyle"),d=s.get("offsetCenter"),f=r.cx+l(d[0],r.r),p=r.cy+l(d[1],r.r),g=l(s.get("width"),r.r),m=l(s.get("height"),r.r),v=t.getData().get("value",0),y=new a.Rect({shape:{x:f-g/2,y:p-m/2,width:g,height:m},style:{text:o(v,s.get("formatter")),fill:s.get("backgroundColor"),textFill:u.getTextColor(),textFont:u.getFont()}});"auto"===y.style.textFill&&y.setStyle("textFill",n((v-c)/(h-c))),y.setStyle(s.getItemStyle(["color"])),this.group.add(y)}}});t.exports=h},function(t,e,i){t.exports=i(44).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(t,e){var i=Math.cos,n=Math.sin,o=e.r,r=e.width,a=e.angle,s=e.x-i(a)*r*(r>=o/3?1:2),l=e.y-n(a)*r*(r>=o/3?1:2);a=e.angle-Math.PI/2,t.moveTo(s,l),t.lineTo(e.x+i(a)*r,e.y+n(a)*r),t.lineTo(e.x+i(e.angle)*o,e.y+n(e.angle)*o),t.lineTo(e.x-i(a)*r,e.y-n(a)*r),t.lineTo(s,l)}})},function(t,e,i){var n=i(3),o=i(1);i(212),i(213),o.registerVisualCoding("chart",n.curry(i(137),"funnel")),o.registerLayout(i(214)),o.registerProcessor("filter",n.curry(i(140),"funnel"))},function(t,e,i){"use strict";var n=i(94),o=i(5),r=i(96),a=i(1).extendSeriesModel({type:"series.funnel",init:function(t){a.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed},this._defaultLabelLine(t)},getInitialData:function(t,e){var i=r(["value"],t.data),o=new n(i,this);return o.initData(t.data),o},_defaultLabelLine:function(t){o.defaultEmphasis(t.labelLine,["show"]);var e=t.labelLine.normal,i=t.labelLine.emphasis;e.show=e.show&&t.label.normal.show,i.show=i.show&&t.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}});t.exports=a},function(t,e,i){function n(t,e){function i(){a.ignore=a.hoverIgnore,s.ignore=s.hoverIgnore}function n(){a.ignore=a.normalIgnore,s.ignore=s.normalIgnore}r.Group.call(this);var o=new r.Polygon,a=new r.Polyline,s=new r.Text;this.add(o),this.add(a),this.add(s),this.updateData(t,e,!0),this.on("emphasis",i).on("normal",n).on("mouseover",i).on("mouseout",n)}function o(t,e,i,n){var o=n.getModel("textStyle"),r=n.get("position"),s="inside"===r||"inner"===r||"center"===r;return{fill:o.getTextColor()||(s?"#fff":t.getItemVisual(e,"color")),textFont:o.getFont(),text:a.retrieve(t.hostModel.getFormattedLabel(e,i),t.getName(e))}}var r=i(42),a=i(3),s=n.prototype,l=["itemStyle","normal","opacity"];s.updateData=function(t,e,i){var n=this.childAt(0),o=t.hostModel,s=t.getItemModel(e),c=t.getItemLayout(e),h=t.getItemModel(e).get(l);h=null==h?1:h,i?(n.setShape({points:c.points}),n.setStyle({opacity:0}),r.updateProps(n,{style:{opacity:h}},o)):r.initProps(n,{shape:{points:c.points}},o);var u=s.getModel("itemStyle"),d=t.getItemVisual(e,"color");n.setStyle(a.defaults({fill:d},u.getModel("normal").getItemStyle())),n.hoverStyle=u.getModel("emphasis").getItemStyle(),this._updateLabel(t,e),r.setHoverStyle(this)},s._updateLabel=function(t,e){var i=this.childAt(1),n=this.childAt(2),a=t.hostModel,s=t.getItemModel(e),l=t.getItemLayout(e),c=l.label,h=t.getItemVisual(e,"color");r.updateProps(i,{shape:{points:c.linePoints||c.linePoints}},a),r.updateProps(n,{style:{x:c.x,y:c.y}},a),n.attr({style:{textAlign:c.textAlign,textVerticalAlign:c.verticalAlign,textFont:c.font},rotation:c.rotation,origin:[c.x,c.y],z2:10});var u=s.getModel("label.normal"),d=s.getModel("label.emphasis"),f=s.getModel("labelLine.normal"),p=s.getModel("labelLine.emphasis");n.setStyle(o(t,e,"normal",u)),n.ignore=n.normalIgnore=!u.get("show"),n.hoverIgnore=!d.get("show"),i.ignore=i.normalIgnore=!f.get("show"),i.hoverIgnore=!p.get("show"),i.setStyle({stroke:h}),i.setStyle(f.getModel("lineStyle").getLineStyle()),n.hoverStyle=o(t,e,"emphasis",d),i.hoverStyle=p.getModel("lineStyle").getLineStyle()},a.inherits(n,r.Group);var c=i(41).extend({type:"funnel",render:function(t,e,i){var o=t.getData(),r=this._data,a=this.group;o.diff(r).add(function(t){var e=new n(o,t);o.setItemGraphicEl(t,e),a.add(e)}).update(function(t,e){var i=r.getItemGraphicEl(e);i.updateData(o,t),a.add(i),o.setItemGraphicEl(t,i)}).remove(function(t){var e=r.getItemGraphicEl(t);a.remove(e)}).execute(),this._data=o},remove:function(){this.group.removeAll(),this._data=null}});t.exports=c},function(t,e,i){function n(t,e){return a.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function o(t,e){for(var i=t.mapArray("value",function(t){return t}),n=[],o="ascending"===e,r=0,a=t.count();a>r;r++)n[r]=r;return n.sort(function(t,e){return o?i[t]-i[e]:i[e]-i[t]}),n}function r(t){t.each(function(e){var i,n,o,r,a=t.getItemModel(e),s=a.getModel("label.normal"),l=s.get("position"),c=a.getModel("labelLine.normal"),h=t.getItemLayout(e),u=h.points,d="inner"===l||"inside"===l||"center"===l;if(d)n=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,o=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,i="center",r=[[n,o],[n,o]];else{var f,p,g,m=c.get("length");"left"===l?(f=(u[3][0]+u[0][0])/2,p=(u[3][1]+u[0][1])/2,g=f-m,n=g-5,i="right"):(f=(u[1][0]+u[2][0])/2,p=(u[1][1]+u[2][1])/2,g=f+m,n=g+5,i="left");var v=p;r=[[f,p],[g,v]],o=v}h.label={linePoints:r,x:n,y:o,verticalAlign:"middle",textAlign:i,inside:d}})}var a=i(21),s=i(7),l=s.parsePercent;t.exports=function(t,e){t.eachSeriesByType("funnel",function(t){var i=t.getData(),a=t.get("sort"),c=n(t,e),h=o(i,a),u=[l(t.get("minSize"),c.width),l(t.get("maxSize"),c.width)],d=i.getDataExtent("value"),f=t.get("min"),p=t.get("max");null==f&&(f=Math.min(d[0],0)),null==p&&(p=d[1]);var g=t.get("funnelAlign"),m=t.get("gap"),v=(c.height-m*(i.count()-1))/i.count(),y=c.y,x=function(t,e){var n,o=i.get("value",t)||0,r=s.linearMap(o,[f,p],u,!0);switch(g){case"left":n=c.x;break;case"center":n=c.x+(c.width-r)/2;break;case"right":n=c.x+c.width-r}return[[n,e],[n+r,e]]};"ascending"===a&&(v=-v,m=-m,y+=c.height,h=h.reverse());for(var b=0;b<h.length;b++){var w=h[b],_=h[b+1],T=x(w,y),S=x(_,y+v);y+=v+m,i.setItemLayout(w,{points:T.concat(S.slice().reverse())})}r(i)})}},function(t,e,i){var n=i(1);i(216),i(227),i(228),n.registerVisualCoding("chart",i(229))},function(t,e,i){i(217),i(220),i(222);var n=i(1);n.extendComponentView({type:"parallel"}),n.registerPreprocessor(i(226))},function(t,e,i){function n(t,e){var i=[];return t.eachComponent("parallel",function(n,r){var a=new o(n,t,e);a.name="parallel_"+r,a.resize(n,e),n.coordinateSystem=a,a.model=n,i.push(a)}),t.eachSeries(function(t){if("parallel"===t.get("coordinateSystem")){var e=t.get("parallelIndex");t.coordinateSystem=i[e]}}),i}var o=i(218);i(25).register("parallel",{create:n})},function(t,e,i){function n(t,e,i){this._axesMap={},this._axesLayout={},this.dimensions=t.dimensions,this._rect,this._model=t,this._init(t,e,i)}var o=i(21),r=i(108),a=i(3),s=i(219),l=i(17),c=i(16),h=a.each,u=Math.PI;n.prototype={type:"parallel",constructor:n,_init:function(t,e,i){var n=t.dimensions,o=t.parallelAxisIndex;h(n,function(t,i){var n=o[i],a=e.getComponent("parallelAxis",n),l=this._axesMap[t]=new s(t,r.createScaleByModel(a),[0,0],a.get("type"),n),c="category"===l.type;l.onBand=c&&a.get("boundaryGap"),l.inverse=a.get("inverse"),a.axis=l,l.model=a},this)},update:function(t,e){this._updateAxesFromSeries(this._model,t)},_updateAxesFromSeries:function(t,e){e.eachSeries(function(i){if(t.contains(i,e)){var n=i.getData();h(this.dimensions,function(t){var e=this._axesMap[t];e.scale.unionExtent(n.getDataExtent(t)),r.niceScaleExtent(e,e.model)},this)}},this)},resize:function(t,e){this._rect=o.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes(t)},getRect:function(){return this._rect},_layoutAxes:function(t){var e=this._rect,i=t.get("layout"),n=this._axesMap,o=this.dimensions,r=[e.width,e.height],a="horizontal"===i?0:1,s=r[a],c=r[1-a],d=[0,c];h(n,function(t){var e=t.inverse?1:0;t.setExtent(d[e],d[1-e])}),h(o,function(t,n){var r=s*n/(o.length-1),a={horizontal:{x:r,y:c},vertical:{x:0,y:r}},h={horizontal:u/2,vertical:0},d=[a[i].x+e.x,a[i].y+e.y],f=h[i],p=l.create();l.rotate(p,p,f),l.translate(p,p,d),this._axesLayout[t]={position:d,rotation:f,transform:p,tickDirection:1,labelDirection:1}},this)},getAxis:function(t){return this._axesMap[t]},dataToPoint:function(t,e){return this.axisCoordToPoint(this._axesMap[e].dataToCoord(t),e)},eachActiveState:function(t,e,i){for(var n=this.dimensions,o=this._axesMap,r=!1,a=0,s=n.length;s>a;a++)"normal"!==o[n[a]].model.getActiveState()&&(r=!0);for(var l=0,c=t.count();c>l;l++){var h,u=t.getValues(n,l);if(r){h="active";for(var a=0,s=n.length;s>a;a++){var d=n[a],f=o[d].model.getActiveState(u[a],a);if("inactive"===f){h="inactive";break}}}else h="normal";e.call(i,h,l)}},axisCoordToPoint:function(t,e){var i=this._axesLayout[e],n=[t,0];return c.applyTransform(n,n,i.transform),n},getAxisLayout:function(t){return a.clone(this._axesLayout[t])}},t.exports=n},function(t,e,i){var n=i(3),o=i(117),r=function(t,e,i,n,r){o.call(this,t,e,i),this.type=n||"value",this.axisIndex=r};r.prototype={constructor:r,model:null},n.inherits(r,o),t.exports=r},function(t,e,i){var n=i(3),o=i(19);i(221),o.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",parallelAxisDefault:null},init:function(){o.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(t){var e=this.option;t&&n.merge(e,t,!0),this._initDimensions()},contains:function(t,e){var i=t.get("parallelIndex");return null!=i&&e.getComponent("parallel",i)===this},_initDimensions:function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[],i=n.filter(this.dependentModels.parallelAxis,function(t){return t.get("parallelIndex")===this.componentIndex});n.each(i,function(i){t.push("dim"+i.get("dim")),e.push(i.componentIndex)})}})},function(t,e,i){function n(t,e){return e.type||(e.data?"category":"value")}var o=i(19),r=i(3),a=i(11),s=i(121),l=i(7),c=o.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return a([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]]).call(this.getModel("areaSelectStyle"))},setActiveIntervals:function(t){var e=this.activeIntervals=r.clone(t);if(e)for(var i=e.length-1;i>=0;i--)l.asc(e[i])},getActiveState:function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t)return"inactive";for(var i=0,n=e.length;n>i;i++)if(e[i][0]<=t&&t<=e[i][1])return"active";return"inactive"}}),h={type:"value",dim:null,parallelIndex:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},z:10};r.merge(c.prototype,i(123)),s("parallel",c,n,h),t.exports=c},function(t,e,i){i(217),i(223),i(224)},function(t,e,i){var n=i(1),o={type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"};n.registerAction(o,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(e){e.axis.model.setActiveIntervals(t.intervals)})})},function(t,e,i){function n(t,e,i){return i&&"axisAreaSelect"===i.type&&e.findComponents({mainType:"parallelAxis",query:i})[0]===t}var o=i(3),r=i(126),a=i(225),s=["axisLine","axisLabel","axisTick","axisName"],l=i(1).extendComponentView({type:"parallelAxis",_selectController:null,render:function(t,e,i,a){if(!n(t,e,a)&&(this.axisModel=t,this.api=i,this.group.removeAll(),t.get("show"))){var l=e.getComponent("parallel",t.get("parallelIndex")).coordinateSystem,c=t.getAreaSelectStyle(),h=c.width,u=l.getAxisLayout(t.axis.dim),d=o.extend({strokeContainThreshold:h,silent:!(h>0)},u),f=new r(t,d);o.each(s,f.add,f);var p=f.getGroup();this.group.add(p),this._buildSelectController(p,c,t,i)}},_buildSelectController:function(t,e,i,n){var r=i.axis,s=this._selectController;s||(s=this._selectController=new a("line",n.getZr(),e),s.on("selected",o.bind(this._onSelected,this))),s.enable(t);var l=o.map(i.activeIntervals,function(t){return[r.dataToCoord(t[0],!0),r.dataToCoord(t[1],!0)]});s.update(l)},_onSelected:function(t){var e=this.axisModel,i=e.axis,n=o.map(t,function(t){return[i.coordToData(t[0],!0),i.coordToData(t[1],!0)]});this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:e.id,intervals:n})},remove:function(){this._selectController&&this._selectController.disable()},dispose:function(){this._selectController&&(this._selectController.dispose(),this._selectController=null)}});t.exports=l},function(t,e,i){function n(t,e,i){v.call(this),this.type=t,this.zr=e,this.opt=y.clone(i),this.group=new x.Group,this._containerRect=null,this._track=[],this._dragging,this._cover,this._disabled=!0,this._handlers={mousedown:b(s,this),mousemove:b(l,this),mouseup:b(c,this)},w(M,function(t){this.zr.on(t,this._handlers[t])},this)}function o(t){t.traverse(function(t){t.z=C})}function r(t,e){var i=this.group.transformCoordToLocal(t,e);return!this._containerRect||this._containerRect.contain(i[0],i[1])}function a(t){var e=t.event;e.preventDefault&&e.preventDefault()}function s(t){if(!(this._disabled||t.target&&t.target.draggable)){a(t);var e=t.offsetX,i=t.offsetY;r.call(this,e,i)&&(this._dragging=!0,this._track=[[e,i]])}}function l(t){this._dragging&&!this._disabled&&(a(t),h.call(this,t))}function c(t){this._dragging&&!this._disabled&&(a(t),h.call(this,t,!0),this._dragging=!1,this._track=[])}function h(t,e){var i=t.offsetX,n=t.offsetY;if(r.call(this,i,n)){this._track.push([i,n]);var o=u.call(this)?A[this.type].getRanges.call(this):[];d.call(this,o),this.trigger("selected",y.clone(o)),e&&this.trigger("selectEnd",y.clone(o))}}function u(){var t=this._track;if(!t.length)return!1;var e=t[t.length-1],i=t[0],n=e[0]-i[0],o=e[1]-i[1],r=S(n*n+o*o,.5);return r>k}function d(t){var e=A[this.type];t&&t.length?(this._cover||(this._cover=e.create.call(this),this.group.add(this._cover)),e.update.call(this,t)):(this.group.remove(this._cover),this._cover=null),o(this.group)}function f(){var t=this.group,e=t.parent;e&&e.remove(t)}function p(){var t=this.opt;return new x.Rect({style:{stroke:t.stroke,fill:t.fill,lineWidth:t.lineWidth,opacity:t.opacity}})}function g(){return y.map(this._track,function(t){return this.group.transformCoordToLocal(t[0],t[1])},this)}function m(){var t=g.call(this),e=t.length-1;return 0>e&&(e=0),[t[0],t[e]]}var v=i(32),y=i(3),x=i(42),b=y.bind,w=y.each,_=Math.min,T=Math.max,S=Math.pow,C=1e4,k=2,M=["mousedown","mousemove","mouseup"];n.prototype={constructor:n,enable:function(t,e){this._disabled=!1,f.call(this),this._containerRect=e!==!1?e||t.getBoundingRect():null,t.add(this.group)},update:function(t){d.call(this,t&&y.clone(t))},disable:function(){this._disabled=!0,f.call(this)},dispose:function(){this.disable(),w(M,function(t){this.zr.off(t,this._handlers[t])},this)}},y.mixin(n,v);var A={line:{create:p,getRanges:function(){var t=m.call(this),e=_(t[0][0],t[1][0]),i=T(t[0][0],t[1][0]);return[[e,i]]},update:function(t){var e=t[0],i=this.opt.width;this._cover.setShape({x:e[0],y:-i/2,width:e[1]-e[0],height:i})}},rect:{create:p,getRanges:function(){var t=m.call(this),e=[_(t[1][0],t[0][0]),_(t[1][1],t[0][1])],i=[T(t[1][0],t[0][0]),T(t[1][1],t[0][1])];return[[[e[0],i[0]],[e[1],i[1]]]]},update:function(t){var e=t[0];this._cover.setShape({x:e[0][0],y:e[1][0],width:e[0][1]-e[0][0],height:e[1][1]-e[1][0]})}}};t.exports=n},function(t,e,i){function n(t){if(!t.parallel){var e=!1;r.each(t.series,function(t){t&&"parallel"===t.type&&(e=!0)}),e&&(t.parallel=[{}])}}function o(t){var e=a.normalizeToArray(t.parallelAxis);r.each(e,function(e){if(r.isObject(e)){var i=e.parallelIndex||0,n=a.normalizeToArray(t.parallel)[i];n&&n.parallelAxisDefault&&r.merge(e,n.parallelAxisDefault,!1)}})}var r=i(3),a=i(5);t.exports=function(t){
n(t),o(t)}},function(t,e,i){function n(t,e,i){var n=t.get("data"),o=+e.replace("dim","");n&&n.length&&r.each(i,function(t){if(t){var e=r.indexOf(n,t[o]);t[o]=e>=0?e:NaN}})}var o=i(94),r=i(3),a=i(27);t.exports=a.extend({type:"series.parallel",dependencies:["parallel"],getInitialData:function(t,e){var i=e.getComponent("parallel",this.get("parallelIndex")),a=i.dimensions,s=i.parallelAxisIndex,l=t.data,c=r.map(a,function(t,i){var o=e.getComponent("parallelAxis",s[i]);return"category"===o.get("type")?(n(o,t,l),{name:t,type:"ordinal"}):t}),h=new o(c,this);return h.initData(l),h},getRawIndicesByActiveState:function(t){var e=this.coordinateSystem,i=this.getData(),n=[];return e.eachActiveState(i,function(e,o){t===e&&n.push(i.getRawIndex(o))}),n},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:.05,activeOpacity:1,lineStyle:{normal:{width:2,opacity:.45,type:"solid"}},animationEasing:"linear"}})},function(t,e,i){function n(t,e,i){var n=t.model,o=t.getRect(),r=new s.Rect({shape:{x:o.x,y:o.y,width:o.width,height:o.height}}),a="horizontal"===n.get("layout")?"width":"height";return r.setShape(a,0),s.initProps(r,{shape:{width:o.width,height:o.height}},e,i),r}function o(t,e,i,n){for(var o=0,r=e.length-1;r>o;o++){var s=e[o],l=e[o+1],c=t[o],h=t[o+1];n(a(c,i.getAxis(s).type)||a(h,i.getAxis(l).type)?null:[i.dataToPoint(c,s),i.dataToPoint(h,l)],o)}}function r(t){return new s.Polyline({shape:{points:t},silent:!0})}function a(t,e){return"category"===e?null==t:null==t||isNaN(t)}var s=i(42),l=i(3),c=i(41).extend({type:"parallel",init:function(){this._dataGroup=new s.Group,this.group.add(this._dataGroup),this._data},render:function(t,e,i,a){function c(t){var e=f.getValues(m,t),i=new s.Group;d.add(i),o(e,m,g,function(t,e){t&&i.add(r(t))}),f.setItemGraphicEl(t,i)}function h(e,i){var n=f.getValues(m,e),a=p.getItemGraphicEl(i),l=[],c=0;o(n,m,g,function(e,i){var n=a.childAt(c++);e&&!n?l.push(r(e)):e&&s.updateProps(n,{shape:{points:e}},t)});for(var h=a.childCount()-1;h>=c;h--)a.remove(a.childAt(h));for(var h=0,u=l.length;u>h;h++)a.add(l[h]);f.setItemGraphicEl(e,a)}function u(t){var e=p.getItemGraphicEl(t);d.remove(e)}var d=this._dataGroup,f=t.getData(),p=this._data,g=t.coordinateSystem,m=g.dimensions;f.diff(p).add(c).update(h).remove(u).execute(),f.eachItemGraphicEl(function(t,e){var i=f.getItemModel(e),n=i.getModel("lineStyle.normal");t.eachChild(function(t){t.setStyle(l.extend(n.getLineStyle(),{stroke:f.getItemVisual(e,"color"),opacity:f.getItemVisual(e,"opacity")}))})}),this._data||d.setClipPath(n(g,t,function(){d.removeClipPath()})),this._data=f},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});t.exports=c},function(t,e){t.exports=function(t,e){t.eachSeriesByType("parallel",function(e){var i=e.getModel("itemStyle.normal"),n=t.get("color"),o=i.get("color")||n[e.seriesIndex%n.length],r=e.get("inactiveOpacity"),a=e.get("activeOpacity"),s=e.getModel("lineStyle.normal").getLineStyle(),l=e.coordinateSystem,c=e.getData(),h={normal:s.opacity,active:a,inactive:r};l.eachActiveState(c,function(t,e){c.setItemVisual(e,"opacity",h[t])}),c.setVisual("color",o)})}},function(t,e,i){var n=i(1);i(231),i(232),n.registerLayout(i(233)),n.registerVisualCoding("chart",i(235))},function(t,e,i){"use strict";var n=i(27),o=i(191);t.exports=n.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(t,e){var i=t.edges||t.links,n=t.data||t.nodes;if(n&&i){var r=o(n,i,this,!0);return r.data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",textStyle:{color:"#000",fontSize:12}},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#aaa"}},lineStyle:{normal:{color:"#314656",opacity:.2,curveness:.5},emphasis:{opacity:.6}},color:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],animationEasing:"linear",animationDuration:1e3}})},function(t,e,i){function n(t,e,i){var n=new o.Rect({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return o.initProps(n,{shape:{width:t.width+20,height:t.height+20}},e,i),n}var o=i(42),r=i(5),a=i(3),s=o.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(t,e){var i=e.extent/2;t.moveTo(e.x1,e.y1-i),t.bezierCurveTo(e.cpx1,e.cpy1-i,e.cpx2,e.cpy2-i,e.x2,e.y2-i),t.lineTo(e.x2,e.y2+i),t.bezierCurveTo(e.cpx2,e.cpy2+i,e.cpx1,e.cpy1+i,e.x1,e.y1+i),t.closePath()}});t.exports=i(1).extendChartView({type:"sankey",_model:null,render:function(t,e,i){var l=t.getGraph(),c=this.group,h=t.layoutInfo;this._model=t,c.removeAll(),c.position=[h.x,h.y];var u=l.edgeData,d=t.option,f=r.createDataFormatModel(t,u,d.edges||d.links);f.formatTooltip=function(t){var e=this.getDataParams(t),i=e.data,n=i.source+" -- "+i.target;return e.value&&(n+=":"+e.value),n},l.eachNode(function(e){var i=e.getLayout(),n=e.getModel(),r=n.getModel("label.normal"),s=r.getModel("textStyle"),l=n.getModel("label.emphasis"),h=l.getModel("textStyle"),u=new o.Rect({shape:{x:i.x,y:i.y,width:e.getLayout().dx,height:e.getLayout().dy},style:{text:r.get("show")?t.getFormattedLabel(e.dataIndex,"normal")||e.id:"",textFont:s.getFont(),textFill:s.getTextColor(),textPosition:r.get("position")}});u.setStyle(a.defaults({fill:e.getVisual("color")},n.getModel("itemStyle.normal").getItemStyle())),o.setHoverStyle(u,a.extend(e.getModel("itemStyle.emphasis"),{text:l.get("show")?t.getFormattedLabel(e.dataIndex,"emphasis")||e.id:"",textFont:h.getFont(),textFill:h.getTextColor(),textPosition:l.get("position")})),c.add(u)}),l.eachEdge(function(t){var e=new s;e.dataIndex=t.dataIndex,e.dataModel=f;var i=t.getModel("lineStyle.normal"),n=i.get("curveness"),r=t.node1.getLayout(),a=t.node2.getLayout(),l=t.getLayout();e.shape.extent=Math.max(1,l.dy);var h=r.x+r.dx,u=r.y+l.sy+l.dy/2,d=a.x,p=a.y+l.ty+l.dy/2,g=h*(1-n)+d*n,m=u,v=h*n+d*(1-n),y=p;e.setShape({x1:h,y1:u,x2:d,y2:p,cpx1:g,cpy1:m,cpx2:v,cpy2:y}),e.setStyle(i.getItemStyle()),o.setHoverStyle(e,t.getModel("lineStyle.emphasis").getItemStyle()),c.add(e)}),this._data||c.setClipPath(n(c.getBoundingRect(),t,function(){c.removeClipPath()})),this._data=t.getData()}})},function(t,e,i){function n(t,e){return S.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function o(t,e,i,n,o,r,s){a(t,i,o),c(t,e,r,n,s),m(t)}function r(t){k.each(t,function(t){var e=x(t.outEdges,T),i=x(t.inEdges,T),n=Math.max(e,i);t.setLayout({value:n},!0)})}function a(t,e,i){for(var n=t,o=null,r=0,a=0;n.length;){o=[];for(var c=0,h=n.length;h>c;c++){var u=n[c];u.setLayout({x:r},!0),u.setLayout({dx:e},!0);for(var d=0,f=u.outEdges.length;f>d;d++)o.push(u.outEdges[d].node2)}n=o,++r}s(t,r),a=(i-e)/(r-1),l(t,a)}function s(t,e){k.each(t,function(t){t.outEdges.length||t.setLayout({x:e-1},!0)})}function l(t,e){k.each(t,function(t){var i=t.getLayout().x*e;t.setLayout({x:i},!0)})}function c(t,e,i,n,o){var r=C().key(function(t){return t.getLayout().x}).sortKeys(_).entries(t).map(function(t){return t.values});h(t,r,e,i,n),u(r,n,i);for(var a=1;o>0;o--)a*=.99,d(r,a),u(r,n,i),p(r,a),u(r,n,i)}function h(t,e,i,n,o){var r=[];k.each(e,function(t){var e=t.length,i=0;k.each(t,function(t){i+=t.getLayout().value});var a=(n-(e-1)*o)/i;r.push(a)}),r.sort(function(t,e){return t-e});var a=r[0];k.each(e,function(t){k.each(t,function(t,e){t.setLayout({y:e},!0);var i=t.getLayout().value*a;t.setLayout({dy:i},!0)})}),k.each(i,function(t){var e=+t.getValue()*a;t.setLayout({dy:e},!0)})}function u(t,e,i){k.each(t,function(t){var n,o,r,a=0,s=t.length;for(t.sort(w),r=0;s>r;r++){if(n=t[r],o=a-n.getLayout().y,o>0){var l=n.getLayout().y+o;n.setLayout({y:l},!0)}a=n.getLayout().y+n.getLayout().dy+e}if(o=a-e-i,o>0){var l=n.getLayout().y-o;for(n.setLayout({y:l},!0),a=n.getLayout().y,r=s-2;r>=0;--r)n=t[r],o=n.getLayout().y+n.getLayout().dy+e-a,o>0&&(l=n.getLayout().y-o,n.setLayout({y:l},!0)),a=n.getLayout().y}})}function d(t,e){k.each(t.slice().reverse(),function(t){k.each(t,function(t){if(t.outEdges.length){var i=x(t.outEdges,f)/x(t.outEdges,T),n=t.getLayout().y+(i-b(t))*e;t.setLayout({y:n},!0)}})})}function f(t){return b(t.node2)*t.getValue()}function p(t,e){k.each(t,function(t){k.each(t,function(t){if(t.inEdges.length){var i=x(t.inEdges,g)/x(t.inEdges,T),n=t.getLayout().y+(i-b(t))*e;t.setLayout({y:n},!0)}})})}function g(t){return b(t.node1)*t.getValue()}function m(t){k.each(t,function(t){t.outEdges.sort(v),t.inEdges.sort(y)}),k.each(t,function(t){var e=0,i=0;k.each(t.outEdges,function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy}),k.each(t.inEdges,function(t){t.setLayout({ty:i},!0),i+=t.getLayout().dy})})}function v(t,e){return t.node2.getLayout().y-e.node2.getLayout().y}function y(t,e){return t.node1.getLayout().y-e.node1.getLayout().y}function x(t,e){var i,n=0,o=t.length,r=-1;if(1===arguments.length)for(;++r<o;)i=+t[r],isNaN(i)||(n+=i);else for(;++r<o;)i=+e.call(t,t[r],r),isNaN(i)||(n+=i);return n}function b(t){return t.getLayout().y+t.getLayout().dy/2}function w(t,e){return t.getLayout().y-e.getLayout().y}function _(t,e){return e>t?-1:t>e?1:t==e?0:NaN}function T(t){return t.getValue()}var S=i(21),C=i(234),k=i(3);t.exports=function(t,e){t.eachSeriesByType("sankey",function(t){var i=t.get("nodeWidth"),a=t.get("nodeGap"),s=n(t,e);t.layoutInfo=s;var l=s.width,c=s.height,h=t.getGraph(),u=h.nodes,d=h.edges;r(u);var f=u.filter(function(t){return 0===t.getLayout().value}),p=0!==f.length?0:t.get("layoutIterations");o(u,d,i,a,l,c,p)})}},function(t,e,i){function n(){function t(e,n){if(n>=i.length)return e;for(var r=-1,a=e.length,s=i[n++],l={},c={};++r<a;){var h=s(e[r]),u=c[h];u?u.push(e[r]):c[h]=[e[r]]}return o.each(c,function(e,i){l[i]=t(e,n)}),l}function e(t,r){if(r>=i.length)return t;var a=[],s=n[r++];return o.each(t,function(t,i){a.push({key:i,values:e(t,r)})}),s?a.sort(function(t,e){return s(t.key,e.key)}):a}var i=[],n=[];return{key:function(t){return i.push(t),this},sortKeys:function(t){return n[i.length-1]=t,this},entries:function(i){return e(t(i,0),0)}}}var o=i(3);t.exports=n},function(t,e,i){var n=i(187);t.exports=function(t,e){t.eachSeriesByType("sankey",function(t){var e=t.getGraph(),i=e.nodes;i.sort(function(t,e){return t.getLayout().value-e.getLayout().value});var o=i[0].getLayout().value,r=i[i.length-1].getLayout().value;i.forEach(function(e){var i=new n({type:"color",mappingMethod:"linear",dataExtent:[o,r],visual:t.get("color")}),a=i.mapValueToVisual(e.getLayout().value);e.setVisual("color",a)})})}},function(t,e,i){var n=i(1);i(237),i(240),n.registerVisualCoding("chart",i(241)),n.registerLayout(i(242))},function(t,e,i){"use strict";var n=i(3),o=i(27),r=i(238),a=o.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],valueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});n.mixin(a,r.seriesModelMixin,!0),t.exports=a},function(t,e,i){"use strict";function n(t){return null==t.value?t:t.value}var o=i(94),r=i(96),a=i(239),s=i(3),l={_baseAxisDim:null,getInitialData:function(t,e){var i,a,s=e.getComponent("xAxis",this.get("xAxisIndex")),l=e.getComponent("yAxis",this.get("yAxisIndex")),c=s.get("type"),h=l.get("type");"category"===c?(t.layout="horizontal",i=s.getCategories(),a=!0):"category"===h?(t.layout="vertical",i=l.getCategories(),a=!0):t.layout=t.layout||"horizontal",this._baseAxisDim="horizontal"===t.layout?"x":"y";var u=t.data,d=this.dimensions=["base"].concat(this.valueDimensions);r(d,u);var f=new o(d,this);return f.initData(u,i?i.slice():null,function(t,e,i,o){var r=n(t);return a?"base"===e?i:r[o-1]:r[o]}),f},coordDimToDataDim:function(t){var e=this.valueDimensions.slice(),i=["base"],n={horizontal:{x:i,y:e},vertical:{x:e,y:i}};return n[this.get("layout")][t]},dataDimToCoordDim:function(t){var e;return s.each(["x","y"],function(i,n){var o=this.coordDimToDataDim(i);s.indexOf(o,t)>=0&&(e=i)},this),e},getBaseAxis:function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis}},c={init:function(){var t=this._whiskerBoxDraw=new a(this.getStyleUpdater());this.group.add(t.group)},render:function(t,e,i){this._whiskerBoxDraw.updateData(t.getData())},remove:function(t){this._whiskerBoxDraw.remove()}};t.exports={seriesModelMixin:l,viewMixin:c}},function(t,e,i){function n(t,e,i,n){l.Group.call(this),this.bodyIndex,this.whiskerIndex,this.styleUpdater=i,this._createContent(t,e,n),this.updateData(t,e,n),this._seriesModel}function o(t,e,i){return s.map(t,function(t){return t=t.slice(),t[e]=i.initBaseline,t})}function r(t){var e={};return s.each(t,function(t,i){e["ends"+i]=t}),e}function a(t){this.group=new l.Group,this.styleUpdater=t}var s=i(3),l=i(42),c=i(44),h=c.extend({type:"whiskerInBox",shape:{},buildPath:function(t,e){for(var i in e)if(0===i.indexOf("ends")){var n=e[i];t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1])}}}),u=n.prototype;u._createContent=function(t,e,i){var n=t.getItemLayout(e),a="horizontal"===n.chartLayout?1:0,c=0;this.add(new l.Polygon({shape:{points:i?o(n.bodyEnds,a,n):n.bodyEnds},style:{strokeNoScale:!0},z2:100})),this.bodyIndex=c++;var u=s.map(n.whiskerEnds,function(t){return i?o(t,a,n):t});this.add(new h({shape:r(u),style:{strokeNoScale:!0},z2:100})),this.whiskerIndex=c++},u.updateData=function(t,e,i){var n=this._seriesModel=t.hostModel,o=t.getItemLayout(e),a=l[i?"initProps":"updateProps"];a(this.childAt(this.bodyIndex),{shape:{points:o.bodyEnds}},n),a(this.childAt(this.whiskerIndex),{shape:r(o.whiskerEnds)},n),this.styleUpdater.call(null,this,t,e)},s.inherits(n,l.Group);var d=a.prototype;d.updateData=function(t){var e=this.group,i=this._data,o=this.styleUpdater;t.diff(i).add(function(i){if(t.hasValue(i)){var r=new n(t,i,o,!0);t.setItemGraphicEl(i,r),e.add(r)}}).update(function(r,a){var s=i.getItemGraphicEl(a);return t.hasValue(r)?(s?s.updateData(t,r):s=new n(t,r,o),e.add(s),void t.setItemGraphicEl(r,s)):void e.remove(s)}).remove(function(t){var n=i.getItemGraphicEl(t);n&&e.remove(n)}).execute(),this._data=t},d.remove=function(){var t=this.group,e=this._data;this._data=null,e&&e.eachItemGraphicEl(function(e){e&&t.remove(e)})},t.exports=a},function(t,e,i){"use strict";function n(t,e,i){var n=e.getItemModel(i),o=n.getModel(c),r=e.getItemVisual(i,"color"),s=o.getItemStyle(["borderColor"]),l=t.childAt(t.whiskerIndex);l.style.set(s),l.style.stroke=r,l.dirty();var u=t.childAt(t.bodyIndex);u.style.set(s),u.style.stroke=r,u.dirty();var d=n.getModel(h).getItemStyle();a.setHoverStyle(t,d)}var o=i(3),r=i(41),a=i(42),s=i(238),l=r.extend({type:"boxplot",getStyleUpdater:function(){return n}});o.mixin(l,s.viewMixin,!0);var c=["itemStyle","normal"],h=["itemStyle","emphasis"];t.exports=l},function(t,e){var i=["itemStyle","normal","borderColor"];t.exports=function(t,e){var n=t.get("color");t.eachRawSeriesByType("boxplot",function(e){var o=n[e.seriesIndex%n.length],r=e.getData();r.setVisual({legendSymbol:"roundRect",color:e.get(i)||o}),t.isSeriesFiltered(e)||r.each(function(t){var e=r.getItemModel(t);r.setItemVisual(t,{color:e.get(i,!0)})})})}},function(t,e,i){function n(t){var e=[],i=[];return t.eachSeriesByType("boxplot",function(t){var n=t.getBaseAxis(),o=a.indexOf(i,n);0>o&&(o=i.length,i[o]=n,e[o]={axis:n,seriesModels:[]}),e[o].seriesModels.push(t)}),e}function o(t){var e,i,n=t.axis,o=t.seriesModels,r=o.length,s=t.boxWidthList=[],h=t.boxOffsetList=[],u=[];if("category"===n.type)i=n.getBandWidth();else{var d=0;c(o,function(t){d=Math.max(d,t.getData().count())}),e=n.getExtent(),Math.abs(e[1]-e[0])/d}c(o,function(t){var e=t.get("boxWidth");a.isArray(e)||(e=[e,e]),u.push([l(e[0],i)||0,l(e[1],i)||0])});var f=.8*i-2,p=f/r*.3,g=(f-p*(r-1))/r,m=g/2-f/2;c(o,function(t,e){h.push(m),m+=p+g,s.push(Math.min(Math.max(g,u[e][0]),u[e][1]))})}function r(t,e,i){var n=t.coordinateSystem,o=t.getData(),r=t.dimensions,a=t.get("layout"),s=i/2;o.each(r,function(){function t(t){var i=[];i[f]=u,i[p]=t;var o;return isNaN(u)||isNaN(t)?o=[NaN,NaN]:(o=n.dataToPoint(i),o[f]+=e),o}function i(t,e){var i=t.slice(),n=t.slice();i[f]+=s,n[f]-=s,e?x.push(i,n):x.push(n,i)}function l(t){var e=[t.slice(),t.slice()];e[0][f]-=s,e[1][f]+=s,y.push(e)}var c=arguments,h=r.length,u=c[0],d=c[h],f="horizontal"===a?0:1,p=1-f,g=t(c[3]),m=t(c[1]),v=t(c[5]),y=[[m,t(c[2])],[v,t(c[4])]];l(m),l(v),l(g);var x=[];i(y[0][1],0),i(y[1][1],1),o.setItemLayout(d,{chartLayout:a,initBaseline:g[p],median:g,bodyEnds:x,whiskerEnds:y})})}var a=i(3),s=i(7),l=s.parsePercent,c=a.each;t.exports=function(t,e){var i=n(t);c(i,function(t){var e=t.seriesModels;e.length&&(o(t),c(e,function(e,i){r(e,t.boxOffsetList[i],t.boxWidthList[i])}))})}},function(t,e,i){var n=i(1);i(244),i(245),n.registerPreprocessor(i(246)),n.registerVisualCoding("chart",i(247)),n.registerLayout(i(248))},function(t,e,i){"use strict";var n=i(3),o=i(27),r=i(238),a=i(6),s=a.encodeHTML,l=a.addCommas,c=o.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],valueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},formatTooltip:function(t,e){var i=n.map(this.valueDimensions,function(e){return e+": "+l(this._data.get(e,t))},this);return s(this.name)+"<br />"+i.join("<br />")}});n.mixin(c,r.seriesModelMixin,!0),t.exports=c},function(t,e,i){"use strict";function n(t,e,i){var n=e.getItemModel(i),o=n.getModel(c),r=e.getItemVisual(i,"color"),s=e.getItemVisual(i,"borderColor"),l=o.getItemStyle(["color","color0","borderColor","borderColor0"]),u=t.childAt(t.whiskerIndex);u.style.set(l),u.style.stroke=s,u.dirty();var d=t.childAt(t.bodyIndex);d.style.set(l),d.style.fill=r,d.style.stroke=s,d.dirty();var f=n.getModel(h).getItemStyle();a.setHoverStyle(t,f)}var o=i(3),r=i(41),a=i(42),s=i(238),l=r.extend({type:"candlestick",getStyleUpdater:function(){return n}});o.mixin(l,s.viewMixin,!0);var c=["itemStyle","normal"],h=["itemStyle","emphasis"];t.exports=l},function(t,e,i){var n=i(3);t.exports=function(t){t&&n.isArray(t.series)&&n.each(t.series,function(t){n.isObject(t)&&"k"===t.type&&(t.type="candlestick")})}},function(t,e){var i=["itemStyle","normal","borderColor"],n=["itemStyle","normal","borderColor0"],o=["itemStyle","normal","color"],r=["itemStyle","normal","color0"];t.exports=function(t,e){t.eachRawSeriesByType("candlestick",function(e){var a=e.getData();a.setVisual({legendSymbol:"roundRect"}),t.isSeriesFiltered(e)||a.each(function(t){var e=a.getItemModel(t),s=a.getItemLayout(t).sign;a.setItemVisual(t,{color:e.get(s>0?o:r),borderColor:e.get(s>0?i:n)})})})}},function(t,e){function i(t,e){var i,a=t.getBaseAxis(),s="category"===a.type?a.getBandWidth():(i=a.getExtent(),Math.abs(i[1]-i[0])/e.count());return s/2-2>o?s/2-2:s-o>r?o:Math.max(s-r,n)}var n=2,o=5,r=4;t.exports=function(t,e){t.eachSeriesByType("candlestick",function(t){var e=t.coordinateSystem,n=t.getData(),o=t.dimensions,r=t.get("layout"),a=i(t,n);n.each(o,function(){function t(t){var i=[];return i[u]=c,i[d]=t,isNaN(c)||isNaN(t)?[NaN,NaN]:e.dataToPoint(i)}function i(t,e){var i=t.slice(),n=t.slice();i[u]+=a/2,n[u]-=a/2,e?S.push(i,n):S.push(n,i)}var s=arguments,l=o.length,c=s[0],h=s[l],u="horizontal"===r?0:1,d=1-u,f=s[1],p=s[2],g=s[3],m=s[4],v=Math.min(f,p),y=Math.max(f,p),x=t(v),b=t(y),w=t(g),_=t(m),T=[[_,b],[w,x]],S=[];i(b,0),i(x,1),n.setItemLayout(h,{chartLayout:r,sign:f>p?-1:p>f?1:0,initBaseline:f>p?b[d]:x[d],bodyEnds:S,whiskerEnds:T})},!0)})}},function(t,e,i){var n=i(3),o=i(1);i(250),i(251),o.registerVisualCoding("chart",n.curry(i(103),"effectScatter","circle",null)),o.registerLayout(n.curry(i(104),"effectScatter"))},function(t,e,i){"use strict";var n=i(93),o=i(27);t.exports=o.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(t,e){var i=n(t.data,this,e);return i},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},xAxisIndex:0,yAxisIndex:0,polarIndex:0,geoIndex:0,symbolSize:10}})},function(t,e,i){var n=i(98),o=i(252);i(1).extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new n(o)},render:function(t,e,i){var n=t.getData(),o=this._symbolDraw;o.updateData(n),this.group.add(o.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e)}})},function(t,e,i){function n(t){return r.isArray(t)||(t=[+t,+t]),t}function o(t,e){h.call(this);var i=new c(t,e),n=new h;this.add(i),this.add(n),n.beforeUpdate=function(){this.attr(i.getScale())},this.updateData(t,e)}var r=i(3),a=i(100),s=i(42),l=i(7),c=i(99),h=s.Group,u=3,d=o.prototype;d.stopEffectAnimation=function(){this.childAt(1).removeAll()},d.startEffectAnimation=function(t,e,i,n,o,r){for(var s=this._symbolType,l=this._color,c=this.childAt(1),h=0;u>h;h++){var d=a.createSymbol(s,-.5,-.5,1,1,l);d.attr({style:{stroke:"stroke"===e?l:null,fill:"fill"===e?l:null,strokeNoScale:!0},z2:99,silent:!0,scale:[1,1],z:o,zlevel:r});var f=-h/u*t+n;d.animate("",!0).when(t,{scale:[i,i]}).delay(f).start(),d.animateStyle(!0).when(t,{opacity:0}).delay(f).start(),c.add(d)}},d.highlight=function(){this.trigger("emphasis")},d.downplay=function(){this.trigger("normal")},d.updateData=function(t,e){function i(){w.trigger("emphasis"),"render"!==p&&this.startEffectAnimation(v,m,g,y,x,b)}function o(){w.trigger("normal"),"render"!==p&&this.stopEffectAnimation()}var r=t.hostModel;this.childAt(0).updateData(t,e);var a=this.childAt(1),s=t.getItemModel(e),c=t.getItemVisual(e,"symbol"),h=n(t.getItemVisual(e,"symbolSize")),u=t.getItemVisual(e,"color");a.attr("scale",h),a.traverse(function(t){t.attr({fill:u})});var d=s.getShallow("symbolOffset");if(d){var f=a.position;f[0]=l.parsePercent(d[0],h[0]),f[1]=l.parsePercent(d[1],h[1])}this._symbolType=c,this._color=u;var p=r.get("showEffectOn"),g=s.get("rippleEffect.scale"),m=s.get("rippleEffect.brushType"),v=1e3*s.get("rippleEffect.period"),y=e/t.count(),x=s.getShallow("z")||0,b=s.getShallow("zlevel")||0;this.stopEffectAnimation(),"render"===p&&this.startEffectAnimation(v,m,g,y,x,b);var w=this.childAt(0);this.on("mouseover",i,this).on("mouseout",o,this).on("emphasis",i,this).on("normal",o,this)},d.fadeOut=function(t){t&&t()},r.inherits(o,h),t.exports=o},function(t,e,i){i(254),i(255);var n=i(3),o=i(1);o.registerLayout(i(257)),o.registerVisualCoding("chart",n.curry(i(88),"lines","lineStyle"))},function(t,e,i){"use strict";var n=i(27),o=i(94),r=i(3),a=i(25);t.exports=n.extend({type:"series.lines",dependencies:["grid","polar"],getInitialData:function(t,e){function i(t,e,i,n){return t.coord&&t.coord[n]}var n=[],s=[],l=[];r.each(t.data,function(t){n.push(t[0]),s.push(t[1]),l.push(r.extend(r.extend({},r.isArray(t[0])?null:t[0]),r.isArray(t[1])?null:t[1]))});var c=a.get(t.coordinateSystem);if(!c)throw new Error("Invalid coordinate system");var h=c.dimensions,u=new o(h,this),d=new o(h,this),f=new o(["value"],this);return u.initData(n,null,i),d.initData(s,null,i),f.initData(l),this.fromData=u,this.toData=d,f},formatTooltip:function(t){var e=this.fromData.getName(t),i=this.toData.getName(t);return e+" > "+i},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,geoIndex:0,effect:{show:!1,period:4,symbol:"circle",symbolSize:3,trailLength:.2},large:!1,largeThreshold:2e3,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:.5}}}})},function(t,e,i){var n=i(194),o=i(256),r=i(195);i(1).extendChartView({type:"lines",init:function(){},render:function(t,e,i){var a=t.getData(),s=this._lineDraw,l=t.get("effect.show");l!==this._hasEffet&&(s&&s.remove(),s=this._lineDraw=new n(l?o:r),this._hasEffet=l);var c=t.get("zlevel"),h=t.get("effect.trailLength"),u=i.getZr();u.painter.getLayer(c).clear(!0),null!=this._lastZlevel&&u.configLayer(this._lastZlevel,{motionBlur:!1}),l&&h&&u.configLayer(c,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(h/10+.9,1),0)}),this.group.add(s.group),s.updateData(a),this._lastZlevel=c},updateLayout:function(t,e,i){this._lineDraw.updateLayout();var n=i.getZr();n.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(t,e){this._lineDraw&&this._lineDraw.remove(e,!0)}})},function(t,e,i){function n(t,e,i,n){a.Group.call(this);var o=new s(t,e,i,n);this.add(o),this._updateEffectSymbol(t,n)}function o(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}function r(){var t=this.__p1,e=this.__p2,i=this.__cp1,n=this.__t,o=this.position,r=h.quadraticAt,a=h.quadraticDerivativeAt;o[0]=r(t[0],i[0],e[0],n),o[1]=r(t[1],i[1],e[1],n);var s=a(t[0],i[0],e[0],n),l=a(t[1],i[1],e[1],n);this.rotation=-Math.atan2(l,s)-Math.PI/2,this.ignore=!1}var a=i(42),s=i(195),l=i(3),c=i(100),h=i(49),u=n.prototype;u._updateEffectSymbol=function(t,e){var i=t.getItemModel(e),n=i.getModel("effect"),a=n.get("symbolSize"),s=n.get("symbol");l.isArray(a)||(a=[a,a]);var h=n.get("color")||t.getItemVisual(e,"color"),u=this.childAt(1),d=1e3*n.get("period");this._symbolType===s&&d===this._period||(u=c.createSymbol(s,-.5,-.5,1,1,h),u.ignore=!0,u.z2=100,this._symbolType=s,this._period=d,this.add(u),u.__t=0,u.animate("",!0).when(d,{__t:1}).delay(e/t.count()*d/2).during(l.bind(r,u)).start()),u.setStyle("shadowColor",h),u.setStyle(n.getItemStyle(["color"])),u.attr("scale",a);var f=t.getItemLayout(e);o(u,f),u.setColor(h),u.attr("scale",a)},u.updateData=function(t,e,i,n){this.childAt(0).updateData(t,e,i,n),this._updateEffectSymbol(t,n)},u.updateLayout=function(t,e,i,n){this.childAt(0).updateLayout(t,e,i,n);var r=this.childAt(1),a=t.getItemLayout(n);o(r,a)},l.inherits(n,a.Group),t.exports=n},function(t,e){t.exports=function(t){t.eachSeriesByType("lines",function(t){var e=t.coordinateSystem,i=t.fromData,n=t.toData,o=t.getData(),r=e.dimensions;i.each(r,function(t,n,o){i.setItemLayout(o,e.dataToPoint([t,n]))}),n.each(r,function(t,i,o){n.setItemLayout(o,e.dataToPoint([t,i]))}),o.each(function(t){var e,r=i.getItemLayout(t),a=n.getItemLayout(t),s=o.getItemModel(t).get("lineStyle.normal.curveness");s>0&&(e=[(r[0]+a[0])/2-(r[1]-a[1])*s,(r[1]+a[1])/2-(a[0]-r[0])*s]),o.setItemLayout(t,[r,a,e])})})}},function(t,e,i){i(259),i(260)},function(t,e,i){var n=i(27),o=i(93);t.exports=n.extend({type:"series.heatmap",getInitialData:function(t,e){return o(t.data,this,e)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,xAxisIndex:0,yAxisIndex:0,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}})},function(t,e,i){function n(t,e,i){var n=t[1]-t[0];e=l.map(e,function(e){return{interval:[(e.interval[0]-t[0])/n,(e.interval[1]-t[0])/n]}});var o=e.length,r=0;return function(t){for(var n=r;o>n;n++){var a=e[n].interval;if(a[0]<=t&&t<=a[1]){r=n;break}}if(n===o)for(var n=r-1;n>=0;n--){var a=e[n].interval;if(a[0]<=t&&t<=a[1]){r=n;break}}return n>=0&&o>n&&i[n]}}function o(t,e){var i=t[1]-t[0];return e=[(e[0]-t[0])/i,(e[1]-t[0])/i],function(t){return t>=e[0]&&t<=e[1]}}function r(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}var a=i(42),s=i(261),l=i(3);t.exports=i(1).extendChartView({type:"heatmap",render:function(t,e,i){var n;if(e.eachComponent("visualMap",function(e){e.eachTargetSeries(function(i){i===t&&(n=e)})}),!n)throw new Error("Heatmap must use with visualMap");this.group.removeAll();var o=t.coordinateSystem;"cartesian2d"===o.type?this._renderOnCartesian(o,t,i):r(o)&&this._renderOnGeo(o,t,n,i)},_renderOnCartesian:function(t,e,i){var n=t.getAxis("x"),o=t.getAxis("y"),r=this.group;if("category"!==n.type||"category"!==o.type)throw new Error("Heatmap on cartesian must have two category axes");if(!n.onBand||!o.onBand)throw new Error("Heatmap on cartesian must have two axes with boundaryGap true");var s=n.getBandWidth(),l=o.getBandWidth(),c=e.getData();c.each(["x","y","z"],function(i,n,o,h){var u=c.getItemModel(h),d=t.dataToPoint([i,n]);if(!isNaN(o)){var f=new a.Rect({shape:{x:d[0]-s/2,y:d[1]-l/2,width:s,height:l},style:{fill:c.getItemVisual(h,"color")}}),p=u.getModel("itemStyle.normal").getItemStyle(["color"]),g=u.getModel("itemStyle.emphasis").getItemStyle(),m=u.getModel("label.normal"),v=u.getModel("label.emphasis"),y=e.getRawValue(h),x="-";y&&null!=y[2]&&(x=y[2]),m.get("show")&&(a.setText(p,m),p.text=e.getFormattedLabel(h,"normal")||x),v.get("show")&&(a.setText(g,v),g.text=e.getFormattedLabel(h,"emphasis")||x),f.setStyle(p),a.setHoverStyle(f,g),r.add(f),c.setItemGraphicEl(h,f)}})},_renderOnGeo:function(t,e,i,r){var l=i.targetVisuals.inRange,c=i.targetVisuals.outOfRange,h=e.getData(),u=this._hmLayer||this._hmLayer||new s;u.blurSize=e.get("blurSize"),u.pointSize=e.get("pointSize"),u.minOpacity=e.get("minOpacity"),u.maxOpacity=e.get("maxOpacity");var d=t.getViewRect().clone(),f=t.getRoamTransform();d.applyTransform(f);var p=Math.max(d.x,0),g=Math.max(d.y,0),m=Math.min(d.width+d.x,r.getWidth()),v=Math.min(d.height+d.y,r.getHeight()),y=m-p,x=v-g,b=h.mapArray(["lng","lat","value"],function(e,i,n){var o=t.dataToPoint([e,i]);return o[0]-=p,o[1]-=g,o.push(n),o}),w=i.getExtent(),_="visualMap.continuous"===i.type?o(w,i.option.range):n(w,i.getPieceList(),i.option.selected);u.update(b,y,x,l.color.getNormalizer(),{inRange:l.color.getColorMapper(),outOfRange:c.color.getColorMapper()},_);var T=new a.Image({style:{width:y,height:x,x:p,y:g,image:u.canvas},silent:!0});this.group.add(T)}})},function(t,e,i){function n(){var t=r.createCanvas();this.canvas=t,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}var o=256,r=i(3);n.prototype={update:function(t,e,i,n,r,a){var s=this._getBrush(),l=this._getGradient(t,r,"inRange"),c=this._getGradient(t,r,"outOfRange"),h=this.pointSize+this.blurSize,u=this.canvas,d=u.getContext("2d"),f=t.length;u.width=e,u.height=i;for(var p=0;f>p;++p){var g=t[p],m=g[0],v=g[1],y=g[2],x=n(y);d.globalAlpha=x,d.drawImage(s,m-h,v-h)}for(var b=d.getImageData(0,0,u.width,u.height),w=b.data,_=0,T=w.length,S=this.minOpacity,C=this.maxOpacity,k=C-S;T>_;){var x=w[_+3]/256,M=4*Math.floor(x*(o-1));if(x>0){var A=a(x)?l:c;x>0&&(x=x*k+S),w[_++]=A[M],w[_++]=A[M+1],w[_++]=A[M+2],w[_++]=A[M+3]*x*256}else _+=4}return d.putImageData(b,0,0),u},_getBrush:function(){var t=this._brushCanvas||(this._brushCanvas=r.createCanvas()),e=this.pointSize+this.blurSize,i=2*e;t.width=i,t.height=i;var n=t.getContext("2d");return n.clearRect(0,0,i,i),n.shadowOffsetX=i,n.shadowBlur=this.blurSize,n.shadowColor="#000",n.beginPath(),n.arc(-e,e,this.pointSize,0,2*Math.PI,!0),n.closePath(),n.fill(),t},_getGradient:function(t,e,i){for(var n=this._gradientPixels,o=n[i]||(n[i]=new Uint8ClampedArray(1024)),r=[],a=0,s=0;256>s;s++)e[i](s/255,!0,r),o[a++]=r[0],o[a++]=r[1],o[a++]=r[2],o[a++]=r[3];return o}},t.exports=n},function(t,e,i){i(263),i(264),i(265);var n=i(1);n.registerProcessor("filter",i(267))},function(t,e,i){"use strict";var n=i(3),o=i(8),r=i(1).extendComponentModel({type:"legend",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(t,e,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateData(i);var n=this._data,o=this.option.selected;if(n[0]&&"single"===this.get("selectedMode")){var r=!1;for(var a in o)o[a]&&(this.select(a),r=!0);!r&&this.select(n[0].get("name"))}},mergeOption:function(t){r.superCall(this,"mergeOption",t),this._updateData(this.ecModel)},_updateData:function(t){
var e=n.map(this.get("data")||[],function(t){return"string"==typeof t&&(t={name:t}),new o(t,this,this.ecModel)},this);this._data=e;var i=n.map(t.getSeries(),function(t){return t.name});t.eachSeries(function(t){if(t.legendDataProvider){var e=t.legendDataProvider();i=i.concat(e.mapArray(e.getName))}}),this._availableNames=i},getData:function(){return this._data},select:function(t){var e=this.option.selected,i=this.get("selectedMode");if("single"===i){var o=this._data;n.each(o,function(t){e[t.get("name")]=!1})}e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;t in e||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},isSelected:function(t){var e=this.option.selected;return!(t in e&&!e[t])&&n.indexOf(this._availableNames,t)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:"top",align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,textStyle:{color:"#333"},selectedMode:!0}});t.exports=r},function(t,e,i){function n(t,e,i){var n,o={},a="toggleSelected"===t;return i.eachComponent("legend",function(i){a&&null!=n?i[n?"select":"unSelect"](e.name):(i[t](e.name),n=i.isSelected(e.name));var s=i.getData();r.each(s,function(t){var e=t.get("name");if("\n"!==e&&""!==e){var n=i.isSelected(e);e in o?o[e]=o[e]&&n:o[e]=n}})}),{name:e.name,selected:o}}var o=i(1),r=i(3);o.registerAction("legendToggleSelect","legendselectchanged",r.curry(n,"toggleSelected")),o.registerAction("legendSelect","legendselected",r.curry(n,"select")),o.registerAction("legendUnSelect","legendunselected",r.curry(n,"unSelect"))},function(t,e,i){function n(t,e){e.dispatchAction({type:"legendToggleSelect",name:t})}function o(t,e,i){t.get("legendHoverLink")&&i.dispatchAction({type:"highlight",seriesName:t.name,name:e})}function r(t,e,i){t.get("legendHoverLink")&&i.dispatchAction({type:"downplay",seriesName:t.name,name:e})}var a=i(3),s=i(100),l=i(42),c=i(266),h=a.curry,u="#ccc";t.exports=i(1).extendComponentView({type:"legend",init:function(){this._symbolTypeStore={}},render:function(t,e,i){var s=this.group;if(s.removeAll(),t.get("show")){var u=t.get("selectedMode"),d=t.get("align");"auto"===d&&(d="right"===t.get("left")&&"vertical"===t.get("orient")?"right":"left");var f={},p={};a.each(t.getData(),function(a){var c=a.get("name");""!==c&&"\n"!==c||s.add(new l.Group({newline:!0}));var g=e.getSeriesByName(c)[0];if(f[c]=a,g&&!p[c]){var m=g.getData(),v=m.getVisual("color");"function"==typeof v&&(v=v(g.getDataParams(0)));var y=m.getVisual("legendSymbol")||"roundRect",x=m.getVisual("symbol"),b=this._createItem(c,a,t,y,x,d,v,u);b.on("click",h(n,c,i)).on("mouseover",h(o,g,"",i)).on("mouseout",h(r,g,"",i)),p[c]=!0}},this),e.eachRawSeries(function(e){if(e.legendDataProvider){var a=e.legendDataProvider();a.each(function(s){var l=a.getName(s);if(f[l]&&!p[l]){var c=a.getItemVisual(s,"color"),g="roundRect",m=this._createItem(l,f[l],t,g,null,d,c,u);m.on("click",h(n,l,i)).on("mouseover",h(o,e,l,i)).on("mouseout",h(r,e,l,i)),p[l]=!0}},!1,this)}},this),c.layout(s,t,i),c.addBackground(s,t)}},_createItem:function(t,e,i,n,o,r,a,c){var h=i.get("itemWidth"),d=i.get("itemHeight"),f=i.isSelected(t),p=new l.Group,g=e.getModel("textStyle"),m=e.get("icon");if(n=m||n,p.add(s.createSymbol(n,0,0,h,d,f?a:u)),!m&&o&&(o!==n||"none"==o)){var v=.8*d;"none"===o&&(o="circle"),p.add(s.createSymbol(o,(h-v)/2,(d-v)/2,v,v,f?a:u))}var y="left"===r?h+5:-5,x=r,b=i.get("formatter");"string"==typeof b&&b?t=b.replace("{name}",t):"function"==typeof b&&(t=b(t));var w=new l.Text({style:{text:t,x:y,y:d/2,fill:f?g.getTextColor():u,textFont:g.getFont(),textAlign:x,textVerticalAlign:"middle"}});return p.add(w),p.add(new l.Rect({shape:p.getBoundingRect(),invisible:!0})),p.eachChild(function(t){t.silent=!c}),this.group.add(p),l.setHoverStyle(p),p}})},function(t,e,i){function n(t,e,i){o.positionGroup(t,e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()},e.get("padding"))}var o=i(21),r=i(6),a=i(42);t.exports={layout:function(t,e,i){var r=o.getLayoutRect(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()},e.get("padding"));o.box(e.get("orient"),t,e.get("itemGap"),r.width,r.height),n(t,e,i)},addBackground:function(t,e){var i=r.normalizeCssArray(e.get("padding")),n=t.getBoundingRect(),o=e.getItemStyle(["color","opacity"]);o.fill=e.get("backgroundColor");var s=new a.Rect({shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[1]+i[3],height:n.height+i[0]+i[2]},style:o,silent:!0,z2:-1});a.subPixelOptimizeRect(s),t.add(s)}}},function(t,e){t.exports=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0})}},function(t,e,i){i(269),i(270),i(1).registerAction({type:"showTip",event:"showTip",update:"none"},function(){}),i(1).registerAction({type:"hideTip",event:"hideTip",update:"none"},function(){})},function(t,e,i){i(1).extendComponentModel({type:"tooltip",defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove",alwaysShowContent:!1,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:!0,animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",lineStyle:{color:"#555",width:1,type:"solid"},crossStyle:{color:"#555",width:1,type:"dashed",textStyle:{}},shadowStyle:{color:"rgba(150,150,150,0.3)"}},textStyle:{color:"#fff",fontSize:14}}})},function(t,e,i){function n(t,e){if(!t||!e)return!1;var i=g.round;return i(t[0])===i(e[0])&&i(t[1])===i(e[1])}function o(t,e,i,n){return{x1:t,y1:e,x2:i,y2:n}}function r(t,e,i,n){return{x:t,y:e,width:i,height:n}}function a(t,e,i,n,o,r){return{cx:t,cy:e,r0:i,r:n,startAngle:o,endAngle:r,clockwise:!0}}function s(t,e,i,n,o){var r=i.clientWidth,a=i.clientHeight,s=20;return t+r+s>n?t-=r+s:t+=s,e+a+s>o?e-=a+s:e+=s,[t,e]}function l(t,e,i){var n=i.clientWidth,o=i.clientHeight,r=5,a=0,s=0,l=e.width,c=e.height;switch(t){case"inside":a=e.x+l/2-n/2,s=e.y+c/2-o/2;break;case"top":a=e.x+l/2-n/2,s=e.y-o-r;break;case"bottom":a=e.x+l/2-n/2,s=e.y+c+r;break;case"left":a=e.x-n-r,s=e.y+c/2-o/2;break;case"right":a=e.x+l+r,s=e.y+c/2-o/2}return[a,s]}function c(t,e,i,n,o,r,a){var c=a.getWidth(),h=a.getHeight(),u=r&&r.getBoundingRect().clone();if(r&&u.applyTransform(r.transform),"function"==typeof t&&(t=t([e,i],o,u)),f.isArray(t))e=m(t[0],c),i=m(t[1],h);else if("string"==typeof t&&r){var d=l(t,u,n.el);e=d[0],i=d[1]}else{var d=s(e,i,n.el,c,h);e=d[0],i=d[1]}n.moveTo(e,i)}function h(t){var e=t.coordinateSystem,i=t.get("tooltip.trigger",!0);return!(!e||"cartesian2d"!==e.type&&"polar"!==e.type&&"single"!==e.type||"item"===i)}var u=i(271),d=i(42),f=i(3),p=i(6),g=i(7),m=g.parsePercent,v=i(78);i(1).extendComponentView({type:"tooltip",_axisPointers:{},init:function(t,e){if(!v.node){var i=new u(e.getDom(),e);this._tooltipContent=i,e.on("showTip",this._manuallyShowTip,this),e.on("hideTip",this._manuallyHideTip,this)}},render:function(t,e,i){if(!v.node){this.group.removeAll(),this._axisPointers={},this._tooltipModel=t,this._ecModel=e,this._api=i,this._lastHover={};var n=this._tooltipContent;n.update(),n.enterable=t.get("enterable"),this._alwaysShowContent=t.get("alwaysShowContent"),this._seriesGroupByAxis=this._prepareAxisTriggerData(t,e);var o=this._crossText;if(o&&this.group.add(o),null!=this._lastX&&null!=this._lastY){var r=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){r._manuallyShowTip({x:r._lastX,y:r._lastY})})}var a=this._api.getZr(),s=this._tryShow;a.off("click",s),a.off("mousemove",s),a.off("mouseout",this._hide),"click"===t.get("triggerOn")?a.on("click",s,this):(a.on("mousemove",s,this),a.on("mouseout",this._hide,this))}},_manuallyShowTip:function(t){if(t.from!==this.uid){var e=this._ecModel,i=t.seriesIndex,n=t.dataIndex,o=e.getSeriesByIndex(i),r=this._api;if(null==t.x||null==t.y){if(o||e.eachSeries(function(t){h(t)&&!o&&(o=t)}),o){var a=o.getData();null==n&&(n=a.indexOfName(t.name));var s,l,c=a.getItemGraphicEl(n),u=o.coordinateSystem;if(u&&u.dataToPoint){var d=u.dataToPoint(a.getValues(u.dimensions,n,!0));s=d&&d[0],l=d&&d[1]}else if(c){var f=c.getBoundingRect().clone();f.applyTransform(c.transform),s=f.x+f.width/2,l=f.y+f.height/2}null!=s&&null!=l&&this._tryShow({offsetX:s,offsetY:l,target:c,event:{}})}}else{var c=r.getZr().handler.findHover(t.x,t.y);this._tryShow({offsetX:t.x,offsetY:t.y,target:c,event:{}})}}},_manuallyHideTip:function(t){t.from!==this.uid&&this._hide()},_prepareAxisTriggerData:function(t,e){var i={};return e.eachSeries(function(t){if(h(t)){var e,n,o=t.coordinateSystem;"cartesian2d"===o.type?(e=o.getBaseAxis(),n=e.dim+e.index):"single"===o.type?(e=o.getAxis(),n=e.dim+e.type):(e=o.getBaseAxis(),n=e.dim+o.name),i[n]=i[n]||{coordSys:[],series:[]},i[n].coordSys.push(o),i[n].series.push(t)}},this),i},_tryShow:function(t){var e=t.target,i=this._tooltipModel,n=i.get("trigger"),o=this._ecModel,r=this._api;if(i)if(this._lastX=t.offsetX,this._lastY=t.offsetY,e&&null!=e.dataIndex){var a=e.dataModel||o.getSeriesByIndex(e.seriesIndex),s=e.dataIndex,l=a.getData().getItemModel(s);"axis"===(l.get("tooltip.trigger")||n)?this._showAxisTooltip(i,o,t):(this._ticket="",this._hideAxisPointer(),this._resetLastHover(),this._showItemTooltipContent(a,s,t)),r.dispatchAction({type:"showTip",from:this.uid,dataIndex:e.dataIndex,seriesIndex:e.seriesIndex})}else"item"===n?this._hide():this._showAxisTooltip(i,o,t),"cross"===i.get("axisPointer.type")&&r.dispatchAction({type:"showTip",from:this.uid,x:t.offsetX,y:t.offsetY})},_showAxisTooltip:function(t,e,i){var o=t.getModel("axisPointer"),r=o.get("type");if("cross"===r){var a=i.target;if(a&&null!=a.dataIndex){var s=e.getSeriesByIndex(a.seriesIndex),l=a.dataIndex;this._showItemTooltipContent(s,l,i)}}this._showAxisPointer();var c=!0;f.each(this._seriesGroupByAxis,function(t){var e=t.coordSys,a=e[0],s=[i.offsetX,i.offsetY];if(!a.containPoint(s))return void this._hideAxisPointer(a.name);c=!1;var l=a.dimensions,h=a.pointToData(s,!0);s=a.dataToPoint(h);var u=a.getBaseAxis(),d=o.get("axis");"auto"===d&&(d=u.dim);var p=!1,g=this._lastHover;if("cross"===r)n(g.data,h)&&(p=!0),g.data=h;else{var m=f.indexOf(l,d);g.data===h[m]&&(p=!0),g.data=h[m]}"cartesian2d"!==a.type||p?"polar"!==a.type||p?"single"!==a.type||p||this._showSinglePointer(o,a,d,s):this._showPolarPointer(o,a,d,s):this._showCartesianPointer(o,a,d,s),"cross"!==r&&this._dispatchAndShowSeriesTooltipContent(a,t.series,s,h,p)},this),c&&this._hide()},_showCartesianPointer:function(t,e,i,n){function a(i,n,r){var a="x"===i?o(n[0],r[0],n[0],r[1]):o(r[0],n[1],r[1],n[1]),s=l._getPointerElement(e,t,i,a);h?d.updateProps(s,{shape:a},t):s.attr({shape:a})}function s(i,n,o){var a=e.getAxis(i),s=a.getBandWidth(),c=o[1]-o[0],u="x"===i?r(n[0]-s/2,o[0],s,c):r(o[0],n[1]-s/2,c,s),f=l._getPointerElement(e,t,i,u);h?d.updateProps(f,{shape:u},t):f.attr({shape:u})}var l=this,c=t.get("type"),h="cross"!==c;if("cross"===c)a("x",n,e.getAxis("y").getGlobalExtent()),a("y",n,e.getAxis("x").getGlobalExtent()),this._updateCrossText(e,n,t);else{var u=e.getAxis("x"===i?"y":"x"),f=u.getGlobalExtent();"cartesian2d"===e.type&&("line"===c?a:s)(i,n,f)}},_showSinglePointer:function(t,e,i,n){function r(i,n,r){var s=e.getAxis(),c=s.orient,h="horizontal"===c?o(n[0],r[0],n[0],r[1]):o(r[0],n[1],r[1],n[1]),u=a._getPointerElement(e,t,i,h);l?d.updateProps(u,{shape:h},t):u.attr({shape:h})}var a=this,s=t.get("type"),l="cross"!==s,c=e.getRect(),h=[c.y,c.y+c.height];r(i,n,h)},_showPolarPointer:function(t,e,i,n){function r(i,n,r){var a,s=e.pointToCoord(n);if("angle"===i){var c=e.coordToPoint([r[0],s[1]]),h=e.coordToPoint([r[1],s[1]]);a=o(c[0],c[1],h[0],h[1])}else a={cx:e.cx,cy:e.cy,r:s[0]};var u=l._getPointerElement(e,t,i,a);f?d.updateProps(u,{shape:a},t):u.attr({shape:a})}function s(i,n,o){var r,s=e.getAxis(i),c=s.getBandWidth(),h=e.pointToCoord(n),u=Math.PI/180;r="angle"===i?a(e.cx,e.cy,o[0],o[1],(-h[1]-c/2)*u,(-h[1]+c/2)*u):a(e.cx,e.cy,h[0]-c/2,h[0]+c/2,0,2*Math.PI);var p=l._getPointerElement(e,t,i,r);f?d.updateProps(p,{shape:r},t):p.attr({shape:r})}var l=this,c=t.get("type"),h=e.getAngleAxis(),u=e.getRadiusAxis(),f="cross"!==c;if("cross"===c)r("angle",n,u.getExtent()),r("radius",n,h.getExtent()),this._updateCrossText(e,n,t);else{var p=e.getAxis("radius"===i?"angle":"radius"),g=p.getExtent();("line"===c?r:s)(i,n,g)}},_updateCrossText:function(t,e,i){var n=i.getModel("crossStyle"),o=n.getModel("textStyle"),r=this._tooltipModel,a=this._crossText;a||(a=this._crossText=new d.Text({style:{textAlign:"left",textVerticalAlign:"bottom"}}),this.group.add(a));var s=t.pointToData(e),l=t.dimensions;s=f.map(s,function(e,i){var n=t.getAxis(l[i]);return e="category"===n.type||"time"===n.type?n.scale.getLabel(e):p.addCommas(e.toFixed(n.getPixelPrecision()))}),a.setStyle({fill:o.getTextColor()||n.get("color"),textFont:o.getFont(),text:s.join(", "),x:e[0]+5,y:e[1]-5}),a.z=r.get("z"),a.zlevel=r.get("zlevel")},_getPointerElement:function(t,e,i,n){var o=this._tooltipModel,r=o.get("z"),a=o.get("zlevel"),s=this._axisPointers,l=t.name;if(s[l]=s[l]||{},s[l][i])return s[l][i];var c=e.get("type"),h=e.getModel(c+"Style"),u="shadow"===c,f=h[u?"getAreaStyle":"getLineStyle"](),p="polar"===t.type?u?"Sector":"radius"===i?"Circle":"Line":u?"Rect":"Line";u?f.stroke=null:f.fill=null;var g=s[l][i]=new d[p]({style:f,z:r,zlevel:a,silent:!0,shape:n});return this.group.add(g),g},_dispatchAndShowSeriesTooltipContent:function(t,e,i,n,o){var r=this._tooltipModel,a=this._tooltipContent,s=t.getBaseAxis(),l=f.map(e,function(t){return{seriesIndex:t.seriesIndex,dataIndex:t.getAxisTooltipDataIndex?t.getAxisTooltipDataIndex(t.coordDimToDataDim(s.dim),n,s):t.getData().indexOfNearest(t.coordDimToDataDim(s.dim)[0],n["x"===s.dim||"radius"===s.dim?0:1])}}),h=this._lastHover,u=this._api;if(h.payloadBatch&&!o&&u.dispatchAction({type:"downplay",batch:h.payloadBatch}),o||(u.dispatchAction({type:"highlight",batch:l}),h.payloadBatch=l),u.dispatchAction({type:"showTip",dataIndex:l[0].dataIndex,seriesIndex:l[0].seriesIndex,from:this.uid}),s&&r.get("showContent")){var d,g=r.get("formatter"),m=r.get("position"),v=f.map(e,function(t,e){return t.getDataParams(l[e].dataIndex)});a.show(r);var y=l[0].dataIndex;if(!o){if(this._ticket="",g){if("string"==typeof g)d=p.formatTpl(g,v);else if("function"==typeof g){var x=this,b="axis_"+t.name+"_"+y,w=function(t,e){t===x._ticket&&(a.setContent(e),c(m,i[0],i[1],a,v,null,u))};x._ticket=b,d=g(v,b,w)}}else{var _=e[0].getData().getName(y);d=(_?_+"<br />":"")+f.map(e,function(t,e){return t.formatTooltip(l[e].dataIndex,!0)}).join("<br />")}a.setContent(d)}c(m,i[0],i[1],a,v,null,u)}},_showItemTooltipContent:function(t,e,i){var n=this._api,o=t.getData(),r=o.getItemModel(e),a=this._tooltipModel,s=this._tooltipContent,l=r.getModel("tooltip");if(l.parentModel?l.parentModel.parentModel=a:l.parentModel=this._tooltipModel,l.get("showContent")){var h,u=l.get("formatter"),d=l.get("position"),f=t.getDataParams(e);if(u){if("string"==typeof u)h=p.formatTpl(u,f);else if("function"==typeof u){var g=this,m="item_"+t.name+"_"+e,v=function(t,e){t===g._ticket&&(s.setContent(e),c(d,i.offsetX,i.offsetY,s,f,i.target,n))};g._ticket=m,h=u(f,m,v)}}else h=t.formatTooltip(e);s.show(l),s.setContent(h),c(d,i.offsetX,i.offsetY,s,f,i.target,n)}},_showAxisPointer:function(t){if(t){var e=this._axisPointers[t];e&&f.each(e,function(t){t.show()})}else this.group.eachChild(function(t){t.show()}),this.group.show()},_resetLastHover:function(){var t=this._lastHover;t.payloadBatch&&this._api.dispatchAction({type:"downplay",batch:t.payloadBatch}),this._lastHover={}},_hideAxisPointer:function(t){if(t){var e=this._axisPointers[t];e&&f.each(e,function(t){t.hide()})}else this.group.hide()},_hide:function(){this._hideAxisPointer(),this._resetLastHover(),this._alwaysShowContent||this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._api.dispatchAction({type:"hideTip",from:this.uid})},dispose:function(t,e){if(!v.node){var i=e.getZr();this._tooltipContent.hide(),i.off("click",this._tryShow),i.off("mousemove",this._tryShow),i.off("mouseout",this._hide),e.off("showTip",this._manuallyShowTip),e.off("hideTip",this._manuallyHideTip)}}})},function(t,e,i){function n(t){var e="cubic-bezier(0.23, 1, 0.32, 1)",i="left "+t+"s "+e+",top "+t+"s "+e;return l.map(p,function(t){return t+"transition:"+i}).join(";")}function o(t){var e=[],i=t.get("fontSize"),n=t.getTextColor();return n&&e.push("color:"+n),e.push("font:"+t.getFont()),i&&e.push("line-height:"+Math.round(3*i/2)+"px"),d(["decoration","align"],function(i){var n=t.get(i);n&&e.push("text-"+i+":"+n)}),e.join(";")}function r(t){t=t;var e=[],i=t.get("transitionDuration"),r=t.get("backgroundColor"),a=t.getModel("textStyle"),s=t.get("padding");return i&&e.push(n(i)),r&&(e.push("background-Color:"+c.toHex(r)),e.push("filter:alpha(opacity=70)"),e.push("background-Color:"+r)),d(["width","color","radius"],function(i){var n="border-"+i,o=f(n),r=t.get(o);null!=r&&e.push(n+":"+r+("color"===i?"":"px"))}),e.push(o(a)),null!=s&&e.push("padding:"+u.normalizeCssArray(s).join("px ")+"px"),e.join(";")+";"}function a(t,e){var i=document.createElement("div"),n=e.getZr();this.el=i,this._x=e.getWidth()/2,this._y=e.getHeight()/2,t.appendChild(i),this._container=t,this._show=!1,this._hideTimeout;var o=this;i.onmouseenter=function(){o.enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},i.onmousemove=function(e){if(!o.enterable){var i=n.handler;h.normalizeEvent(t,e),i.dispatch("mousemove",e)}},i.onmouseleave=function(){o.enterable&&o._show&&o.hideLater(o._hideDelay),o._inContent=!1},s(i,t)}function s(t,e){function i(t){n(t.target)&&t.preventDefault()}function n(i){for(;i&&i!==e;){if(i===t)return!0;i=i.parentNode}}h.addEventListener(e,"touchstart",i),h.addEventListener(e,"touchmove",i),h.addEventListener(e,"touchend",i)}var l=i(3),c=i(38),h=i(80),u=i(6),d=l.each,f=u.toCamelCase,p=["","-webkit-","-moz-","-o-"],g="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";a.prototype={constructor:a,enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),i=t.style;"absolute"!==i.position&&"absolute"!==e.position&&(i.position="relative")},show:function(t){clearTimeout(this._hideTimeout),this.el.style.cssText=g+r(t)+";left:"+this._x+"px;top:"+this._y+"px;"+(t.get("extraCssText")||""),this._show=!0},setContent:function(t){var e=this.el;e.innerHTML=t,e.style.display=t?"block":"none"},moveTo:function(t,e){var i=this.el.style;i.left=t+"px",i.top=e+"px",this._x=t,this._y=e},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this.enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(l.bind(this.hide,this),t)):this.hide())},isShow:function(){return this._show}},t.exports=a},function(t,e,i){"use strict";i(273),i(279),i(281),i(1).extendComponentView({type:"polar"})},function(t,e,i){function n(t,e){var i=t.get("center"),n=t.get("radius"),o=e.getWidth(),r=e.getHeight(),a=s.parsePercent;this.cx=a(i[0],o),this.cy=a(i[1],r);var l=this.getRadiusAxis(),c=Math.min(o,r)/2;l.setExtent(0,a(n,c))}function o(t,e){var i=this,n=i.getAngleAxis(),o=i.getRadiusAxis();if(n.scale.setExtent(1/0,-(1/0)),o.scale.setExtent(1/0,-(1/0)),t.eachSeries(function(t){if(t.coordinateSystem===i){var e=t.getData();o.scale.unionExtent(e.getDataExtent("radius","category"!==o.type)),n.scale.unionExtent(e.getDataExtent("angle","category"!==n.type))}}),c(n,n.model),c(o,o.model),"category"===n.type&&!n.onBand){var r=n.getExtent(),a=360/n.scale.count();n.inverse?r[1]+=a:r[1]-=a,n.setExtent(r[0],r[1])}}function r(t,e){if(t.type=e.get("type"),t.scale=l.createScaleByModel(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,"angleAxis"===e.mainType){var i=e.get("startAngle");t.inverse=e.get("inverse")^e.get("clockwise"),t.setExtent(i,i+(t.inverse?-360:360))}e.axis=t,t.model=e}var a=i(274),s=i(7),l=i(108),c=l.niceScaleExtent;i(277);var h={dimensions:a.prototype.dimensions,create:function(t,e){var i=[];return t.eachComponent("polar",function(t,s){var l=new a(s);l.resize=n,l.update=o;var c=l.getRadiusAxis(),h=l.getAngleAxis(),u=t.findAxisModel("radiusAxis"),d=t.findAxisModel("angleAxis");r(c,u),r(h,d),l.resize(t,e),i.push(l),t.coordinateSystem=l}),t.eachSeries(function(t){"polar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("polarIndex")])}),i}};i(25).register("polar",h)},function(t,e,i){"use strict";var n=i(275),o=i(276),r=function(t){this.name=t||"",this.cx=0,this.cy=0,this._radiusAxis=new n,this._angleAxis=new o};r.prototype={constructor:r,type:"polar",dimensions:["radius","angle"],containPoint:function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},containData:function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},getAxis:function(t){return this["_"+t+"Axis"]},getAxesByScale:function(t){var e=[],i=this._angleAxis,n=this._radiusAxis;return i.scale.type===t&&e.push(i),n.scale.type===t&&e.push(n),e},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},dataToPoints:function(t){return t.mapArray(this.dimensions,function(t,e){return this.dataToPoint([t,e])},this)},dataToPoint:function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},pointToData:function(t,e){var i=this.pointToCoord(t);return[this._radiusAxis.radiusToData(i[0],e),this._angleAxis.angleToData(i[1],e)]},pointToCoord:function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=this.getAngleAxis(),o=n.getExtent(),r=Math.min(o[0],o[1]),a=Math.max(o[0],o[1]);n.inverse?r=a-360:a=r+360;var s=Math.sqrt(e*e+i*i);e/=s,i/=s;for(var l=Math.atan2(-i,e)/Math.PI*180,c=r>l?1:-1;r>l||l>a;)l+=360*c;return[s,l]},coordToPoint:function(t){var e=t[0],i=t[1]/180*Math.PI,n=Math.cos(i)*e+this.cx,o=-Math.sin(i)*e+this.cy;return[n,o]}},t.exports=r},function(t,e,i){"use strict";function n(t,e){r.call(this,"radius",t,e),this.type="category"}var o=i(3),r=i(117);n.prototype={constructor:n,dataToRadius:r.prototype.dataToCoord,radiusToData:r.prototype.coordToData},o.inherits(n,r),t.exports=n},function(t,e,i){"use strict";function n(t,e){e=e||[0,360],r.call(this,"angle",t,e),this.type="category"}var o=i(3),r=i(117);n.prototype={constructor:n,dataToAngle:r.prototype.dataToCoord,angleToData:r.prototype.coordToData},o.inherits(n,r),t.exports=n},function(t,e,i){"use strict";i(278),i(1).extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(t){var e,i=this.ecModel;return i.eachComponent(t,function(t){i.getComponent("polar",t.getShallow("polarIndex"))===this&&(e=t)},this),e},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}})},function(t,e,i){"use strict";function n(t,e){return e.type||(e.data?"category":"value")}var o=i(3),r=i(19),a=i(121),s=r.extend({type:"polarAxis",axis:null});o.merge(s.prototype,i(123));var l={angle:{polarIndex:0,startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{polarIndex:0,splitNumber:5}};a("angle",s,n,l.angle),a("radius",s,n,l.radius)},function(t,e,i){"use strict";i(273),i(280)},function(t,e,i){"use strict";function n(t,e,i,n){var o=t.coordToPoint([e,n]),r=t.coordToPoint([i,n]);return{x1:o[0],y1:o[1],x2:r[0],y2:r[1]}}var o=i(3),r=i(42),a=i(8),s=["axisLine","axisLabel","axisTick","splitLine","splitArea"];i(1).extendComponentView({type:"angleAxis",render:function(t,e){if(this.group.removeAll(),t.get("show")){var i=e.getComponent("polar",t.get("polarIndex")),n=t.axis,r=i.coordinateSystem,a=r.getRadiusAxis().getExtent(),l=n.getTicksCoords();"category"!==n.type&&l.pop(),o.each(s,function(e){t.get(e+".show")&&this["_"+e](t,r,l,a)},this)}},_axisLine:function(t,e,i,n){var o=t.getModel("axisLine.lineStyle"),a=new r.Circle({shape:{cx:e.cx,cy:e.cy,r:n[1]},style:o.getLineStyle(),z2:1,silent:!0});a.style.fill=null,this.group.add(a)},_axisTick:function(t,e,i,a){var s=t.getModel("axisTick"),l=(s.get("inside")?-1:1)*s.get("length"),c=o.map(i,function(t){return new r.Line({shape:n(e,a[1],a[1]+l,t)})});this.group.add(r.mergePath(c,{style:s.getModel("lineStyle").getLineStyle()}))},_axisLabel:function(t,e,i,n){for(var o=t.axis,s=t.get("data"),l=t.getModel("axisLabel"),c=l.getModel("textStyle"),h=t.getFormattedLabels(),u=l.get("margin"),d=o.getLabelsCoords(),f=0;f<i.length;f++){var p=n[1],g=e.coordToPoint([p+u,d[f]]),m=e.cx,v=e.cy,y=Math.abs(g[0]-m)/p<.3?"center":g[0]>m?"left":"right",x=Math.abs(g[1]-v)/p<.3?"middle":g[1]>v?"top":"bottom",b=c;s&&s[f]&&s[f].textStyle&&(b=new a(s[f].textStyle,c)),this.group.add(new r.Text({style:{x:g[0],y:g[1],fill:b.getTextColor(),text:h[f],textAlign:y,textVerticalAlign:x,textFont:b.getFont()},silent:!0}))}},_splitLine:function(t,e,i,a){var s=t.getModel("splitLine"),l=s.getModel("lineStyle"),c=l.get("color"),h=0;c=c instanceof Array?c:[c];for(var u=[],d=0;d<i.length;d++){var f=h++%c.length;u[f]=u[f]||[],u[f].push(new r.Line({shape:n(e,a[0],a[1],i[d])}))}for(var d=0;d<u.length;d++)this.group.add(r.mergePath(u[d],{style:o.defaults({stroke:c[d%c.length]},l.getLineStyle()),silent:!0,z:t.get("z")}))},_splitArea:function(t,e,i,n){var a=t.getModel("splitArea"),s=a.getModel("areaStyle"),l=s.get("color"),c=0;l=l instanceof Array?l:[l];for(var h=[],u=Math.PI/180,d=-i[0]*u,f=Math.min(n[0],n[1]),p=Math.max(n[0],n[1]),g=t.get("clockwise"),m=1;m<i.length;m++){var v=c++%l.length;h[v]=h[v]||[],h[v].push(new r.Sector({shape:{cx:e.cx,cy:e.cy,r0:f,r:p,startAngle:d,endAngle:-i[m]*u,clockwise:g},silent:!0})),d=-i[m]*u}for(var m=0;m<h.length;m++)this.group.add(r.mergePath(h[m],{style:o.defaults({fill:l[m%l.length]},s.getAreaStyle()),silent:!0}))}})},function(t,e,i){i(273),i(282)},function(t,e,i){"use strict";function n(t,e,i){return{position:[t.cx,t.cy],rotation:i/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotation:e.getModel("axisLabel").get("rotate"),z2:1}}var o=i(3),r=i(42),a=i(126),s=["axisLine","axisLabel","axisTick","axisName"],l=["splitLine","splitArea"];i(1).extendComponentView({type:"radiusAxis",render:function(t,e){if(this.group.removeAll(),t.get("show")){var i=e.getComponent("polar",t.get("polarIndex")),r=i.coordinateSystem.getAngleAxis(),c=t.axis,h=i.coordinateSystem,u=c.getTicksCoords(),d=r.getExtent()[0],f=c.getExtent(),p=n(h,t,d),g=new a(t,p);o.each(s,g.add,g),this.group.add(g.getGroup()),o.each(l,function(e){t.get(e+".show")&&this["_"+e](t,h,d,f,u)},this)}},_splitLine:function(t,e,i,n,a){var s=t.getModel("splitLine"),l=s.getModel("lineStyle"),c=l.get("color"),h=0;c=c instanceof Array?c:[c];for(var u=[],d=0;d<a.length;d++){var f=h++%c.length;u[f]=u[f]||[],u[f].push(new r.Circle({shape:{cx:e.cx,cy:e.cy,r:a[d]},silent:!0}))}for(var d=0;d<u.length;d++)this.group.add(r.mergePath(u[d],{style:o.defaults({stroke:c[d%c.length],fill:null},l.getLineStyle()),silent:!0}))},_splitArea:function(t,e,i,n,a){var s=t.getModel("splitArea"),l=s.getModel("areaStyle"),c=l.get("color"),h=0;c=c instanceof Array?c:[c];for(var u=[],d=a[0],f=1;f<a.length;f++){var p=h++%c.length;u[p]=u[p]||[],u[p].push(new r.Sector({shape:{cx:e.cx,cy:e.cy,r0:d,r:a[f],startAngle:0,endAngle:2*Math.PI},silent:!0})),d=a[f]}for(var f=0;f<u.length;f++)this.group.add(r.mergePath(u[f],{style:o.defaults({fill:c[f%c.length]},l.getAreaStyle()),silent:!0}))}})},function(t,e,i){i(163),i(284),i(161)},function(t,e,i){"use strict";var n=i(158);t.exports=i(1).extendComponentView({type:"geo",init:function(t,e){var i=new n(e,!0);this._mapDraw=i,this.group.add(i.group)},render:function(t,e,i){t.get("show")&&this._mapDraw.draw(t,e,i)}})},function(t,e,i){"use strict";var n=i(1),o=i(42),r=i(21);n.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),n.extendComponentView({type:"title",render:function(t,e,i){if(this.group.removeAll(),t.get("show")){var n=this.group,a=t.getModel("textStyle"),s=t.getModel("subtextStyle"),l=t.get("textAlign"),c=new o.Text({style:{text:t.get("text"),textFont:a.getFont(),fill:a.getTextColor(),textBaseline:"top"},z2:10}),h=c.getBoundingRect(),u=t.get("subtext"),d=new o.Text({style:{text:u,textFont:s.getFont(),fill:s.getTextColor(),y:h.height+t.get("itemGap"),textBaseline:"top"},z2:10}),f=t.get("link"),p=t.get("sublink");c.silent=!f,d.silent=!p,f&&c.on("click",function(){window.open(f,t.get("target"))}),p&&d.on("click",function(){window.open(p,t.get("subtarget"))}),n.add(c),u&&n.add(d);var g=n.getBoundingRect(),m=t.getBoxLayoutParams();m.width=g.width,m.height=g.height;var v=r.getLayoutRect(m,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));l||(l=t.get("left")||t.get("right"),"middle"===l&&(l="center"),"right"===l?v.x+=v.width:"center"===l&&(v.x+=v.width/2)),n.position=[v.x,v.y],c.setStyle("textAlign",l),d.setStyle("textAlign",l),g=n.getBoundingRect();var y=v.margin,x=t.getItemStyle(["color","opacity"]);x.fill=t.get("backgroundColor");var b=new o.Rect({shape:{x:g.x-y[3],y:g.y-y[0],width:g.width+y[1]+y[3],height:g.height+y[0]+y[2]},style:x,silent:!0});o.subPixelOptimizeRect(b),n.add(b)}}})},function(t,e,i){i(287),i(288),i(290),i(291),i(292),i(295),i(296),i(298),i(299)},function(t,e,i){i(19).registerSubTypeDefaulter("dataZoom",function(t){return"slider"})},function(t,e,i){function n(t){var e={};return h(["start","end","startValue","endValue"],function(i){e[i]=t[i]}),e}function o(t,e,i,n){null!=i[e]&&null==i[t]&&(n[t]=null)}var r=i(3),a=i(78),s=i(1),l=i(5),c=i(289),h=r.each,u=l.eachAxisDim,d=s.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,angleAxisIndex:null,radiusAxisIndex:null,filterMode:"filter",throttle:100,start:0,end:100,startValue:null,endValue:null},init:function(t,e,i){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel;var o=n(t);this.mergeDefaultAndTheme(t,i),this.doInit(o)},mergeOption:function(t){var e=n(t);r.merge(this.option,t,!0),this.doInit(e)},doInit:function(t){var e=this.option;a.canvasSupported||(e.realtime=!1),o("start","startValue",t,e),o("end","endValue",t,e),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var t=this._axisProxies;this.eachTargetAxis(function(e,i,n,o){var r=this.dependentModels[e.axis][i],a=r.__dzAxisProxy||(r.__dzAxisProxy=new c(e.name,i,this,o));t[e.name+"_"+i]=a},this)},_resetTarget:function(){var t=this.option,e=this._judgeAutoMode();u(function(e){var i=e.axisIndex;t[i]=l.normalizeToArray(t[i])},this),"axisIndex"===e?this._autoSetAxisIndex():"orient"===e&&this._autoSetOrient()},_judgeAutoMode:function(){var t=this.option,e=!1;u(function(i){null!=t[i.axisIndex]&&(e=!0)},this);var i=t.orient;return null==i&&e?"orient":e?void 0:(null==i&&(t.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var t=!0,e=this.get("orient",!0),i=this.option;if(t){var n="vertical"===e?{dim:"y",axisIndex:"yAxisIndex",axis:"yAxis"}:{dim:"x",axisIndex:"xAxisIndex",axis:"xAxis"};this.dependentModels[n.axis].length&&(i[n.axisIndex]=[0],t=!1)}t&&u(function(e){if(t){var n=[],o=this.dependentModels[e.axis];if(o.length&&!n.length)for(var r=0,a=o.length;a>r;r++)"category"===o[r].get("type")&&n.push(r);i[e.axisIndex]=n,n.length&&(t=!1)}},this),t&&this.ecModel.eachSeries(function(t){
this._isSeriesHasAllAxesTypeOf(t,"value")&&u(function(e){var n=i[e.axisIndex],o=t.get(e.axisIndex);r.indexOf(n,o)<0&&n.push(o)})},this)},_autoSetOrient:function(){var t;this.eachTargetAxis(function(e){!t&&(t=e.name)},this),this.option.orient="y"===t?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(t,e){var i=!0;return u(function(n){var o=t.get(n.axisIndex),r=this.dependentModels[n.axis][o];r&&r.get("type")===e||(i=!1)},this),i},getFirstTargetAxisModel:function(){var t;return u(function(e){if(null==t){var i=this.get(e.axisIndex);i.length&&(t=this.dependentModels[e.axis][i[0]])}},this),t},eachTargetAxis:function(t,e){var i=this.ecModel;u(function(n){h(this.get(n.axisIndex),function(o){t.call(e,n,o,this,i)},this)},this)},getAxisProxy:function(t,e){return this._axisProxies[t+"_"+e]},setRawRange:function(t){h(["start","end","startValue","endValue"],function(e){this.option[e]=t[e]},this)},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();return t?t.getDataPercentWindow():void 0},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(){var t=this._axisProxies;for(var e in t)if(t.hasOwnProperty(e)&&t[e].hostedBy(this))return t[e];for(var e in t)if(t.hasOwnProperty(e)&&!t[e].hostedBy(this))return t[e]}});t.exports=d},function(t,e,i){function n(t,e){var i=[1/0,-(1/0)];return c(e,function(e){var n=e.getData();n&&c(e.coordDimToDataDim(t),function(t){var e=n.getDataExtent(t);e[0]<i[0]&&(i[0]=e[0]),e[1]>i[1]&&(i[1]=e[1])})},this),i}function o(t,e,i){var n=i.getAxisModel(),o=n.axis.scale,a=[0,100],s=[t.start,t.end],u=[];return e=e.slice(),r(e,n,o),c(["startValue","endValue"],function(e){u.push(null!=t[e]?o.parse(t[e]):null)}),c([0,1],function(t){var i=u[t],n=s[t];null!=n||null==i?(null==n&&(n=a[t]),i=o.parse(l.linearMap(n,a,e,!0))):n=l.linearMap(i,e,a,!0),u[t]=l.round(i),s[t]=l.round(n)}),{valueWindow:h(u),percentWindow:h(s)}}function r(t,e,i){return c(["min","max"],function(n,o){var r=e.get(n,!0);null!=r&&(r+"").toLowerCase()!=="data"+n&&(t[o]=i.parse(r))}),e.get("scale",!0)||(t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0)),t}function a(t,e){var i=t.getAxisModel(),n=t._percentWindow,o=t._valueWindow;if(n){var r=e||0===n[0]&&100===n[1],a=!e&&l.getPixelPrecision(o,[0,500]),s=!(e||20>a&&a>=0),c=e||r||s;i.setRange&&i.setRange(c?null:+o[0].toFixed(a),c?null:+o[1].toFixed(a))}}var s=i(3),l=i(7),c=s.each,h=l.asc,u=function(t,e,i,n){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this.ecModel=n,this._dataZoomModel=i};u.prototype={constructor:u,hostedBy:function(t){return this._dataZoomModel===t},getDataExtent:function(){return this._dataExtent.slice()},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var t=[];return this.ecModel.eachSeries(function(e){this._axisIndex===e.get(this._dimName+"AxisIndex")&&t.push(e)},this),t},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var t,e,i=this._dimName,n=this.ecModel,o=this.getAxisModel(),r="x"===i||"y"===i;r?(e="gridIndex",t="x"===i?"y":"x"):(e="polarIndex",t="angle"===i?"radius":"angle");var a;return n.eachComponent(t+"Axis",function(t){(t.get(e)||0)===(o.get(e)||0)&&(a=t)}),a},reset:function(t){if(t===this._dataZoomModel){var e=this._dataExtent=n(this._dimName,this.getTargetSeriesModels()),i=o(t.option,e,this);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,a(this)}},restore:function(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,a(this,!0))},filterData:function(t){function e(t){return t>=r[0]&&t<=r[1]}if(t===this._dataZoomModel){var i=this._dimName,n=this.getTargetSeriesModels(),o=t.get("filterMode"),r=this._valueWindow,a=this.getOtherAxisModel();t.get("$fromToolbox")&&a&&"category"===a.get("type")&&(o="empty"),c(n,function(t){var n=t.getData();n&&c(t.coordDimToDataDim(i),function(i){"empty"===o?t.setData(n.map(i,function(t){return e(t)?t:NaN})):n.filterSelf(i,e)})})}}},t.exports=u},function(t,e,i){var n=i(28);t.exports=n.extend({type:"dataZoom",render:function(t,e,i,n){this.dataZoomModel=t,this.ecModel=e,this.api=i},getTargetInfo:function(){function t(t,e,i,n){for(var o,r=0;r<i.length;r++)if(i[r].model===t){o=i[r];break}o||i.push(o={model:t,axisModels:[],coordIndex:n}),o.axisModels.push(e)}var e=this.dataZoomModel,i=this.ecModel,n=[],o=[],r=[];return e.eachTargetAxis(function(e,a){var s=i.getComponent(e.axis,a);if(s){r.push(s);var l=s.get("gridIndex"),c=s.get("polarIndex");if(null!=l){var h=i.getComponent("grid",l);t(h,s,n,l)}else if(null!=c){var h=i.getComponent("polar",c);t(h,s,o,c)}}},this),{cartesians:n,polars:o,axisModels:r}}})},function(t,e,i){var n=i(288),o=(i(21),i(3),n.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackgroundColor:"#ddd",fillerColor:"rgba(47,69,84,0.15)",handleColor:"rgba(148,164,165,0.95)",handleSize:10,labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}},mergeOption:function(t){o.superApply(this,"mergeOption",arguments)}}));t.exports=o},function(t,e,i){function n(t){return"x"===t?"y":"x"}var o=i(3),r=i(42),a=i(293),s=i(290),l=r.Rect,c=i(7),h=c.linearMap,u=i(21),d=i(294),f=c.asc,p=o.bind,g=Math.round,m=Math.max,v=o.each,y=7,x=1,b=30,w="horizontal",_="vertical",T=5,S=["line","bar","candlestick","scatter"],C=s.extend({type:"dataZoom.slider",init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._halfHandleSize,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,i,n){return C.superApply(this,"render",arguments),a.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),this._halfHandleSize=g(t.get("handleSize")/2),this.dataZoomModel.get("show")===!1?void this.group.removeAll():(n&&"dataZoom"===n.type&&n.from===this.uid||this._buildView(),void this._updateView())},remove:function(){C.superApply(this,"remove",arguments),a.clear(this,"_dispatchZoomAction")},dispose:function(){C.superApply(this,"dispose",arguments),a.clear(this,"_dispatchZoomAction")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new r.Group;this._renderBackground(),this._renderDataShadow(),this._renderHandle(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,i=this._findCoordRect(),n={width:e.getWidth(),height:e.getHeight()},r=this._orient===w?{right:n.width-i.x-i.width,top:n.height-b-y,width:i.width,height:b}:{right:y,top:i.y,width:b,height:i.height},a=u.getLayoutParams(t.option);o.each(["right","top","width","height"],function(t){"ph"===a[t]&&(a[t]=r[t])});var s=u.getLayoutRect(a,n,t.padding);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],this._orient===_&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,i=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),o=n&&n.get("inverse"),r=this._displayables.barGroup,a=(this._dataShadowInfo||{}).otherAxisInverse;r.attr(i!==w||o?i===w&&o?{scale:a?[-1,1]:[-1,-1]}:i!==_||o?{scale:a?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:a?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:a?[1,1]:[1,-1]});var s=t.getBoundingRect([r]);t.position[0]=e.x-s.x,t.position[1]=e.y-s.y},_getViewExtent:function(){var t=this._halfHandleSize,e=m(this._size[0],4*t),i=[t,e-t];return i},_renderBackground:function(){var t=this.dataZoomModel,e=this._size;this._displayables.barGroup.add(new l({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")}}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,i=t.series,n=i.getRawData(),o=i.getShadowDim?i.getShadowDim():t.otherDim,a=n.getDataExtent(o),s=.3*(a[1]-a[0]);a=[a[0]-s,a[1]+s];var l=[0,e[1]],c=[0,e[0]],u=[[e[0],0],[0,0]],d=c[1]/(n.count()-1),f=0,p=Math.round(n.count()/e[0]);n.each([o],function(t,e){if(p>0&&e%p)return void(f+=d);var i=null==t||isNaN(t)||""===t?null:h(t,a,l,!0);null!=i&&u.push([f,i]),f+=d}),this._displayables.barGroup.add(new r.Polyline({shape:{points:u},style:{fill:this.dataZoomModel.get("dataBackgroundColor"),lineWidth:0},silent:!0,z2:-20}))}},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(e!==!1){var i,r=this.ecModel;return t.eachTargetAxis(function(a,s){var l=t.getAxisProxy(a.name,s).getTargetSeriesModels();o.each(l,function(t){if(!(i||e!==!0&&o.indexOf(S,t.get("type"))<0)){var l=n(a.name),c=r.getComponent(a.axis,s).axis;i={thisAxis:c,series:t,thisDim:a.name,otherDim:l,otherAxisInverse:t.coordinateSystem.getOtherAxis(c).inverse}}},this)},this),i}},_renderHandle:function(){var t=this._displayables,e=t.handles=[],i=t.handleLabels=[],n=this._displayables.barGroup,o=this._size;n.add(t.filler=new l({draggable:!0,cursor:"move",drift:p(this._onDragMove,this,"all"),ondragend:p(this._onDragEnd,this),onmouseover:p(this._showDataInfo,this,!0),onmouseout:p(this._showDataInfo,this,!1),style:{fill:this.dataZoomModel.get("fillerColor"),textPosition:"inside"}})),n.add(new l(r.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:o[0],height:o[1]},style:{stroke:this.dataZoomModel.get("dataBackgroundColor"),lineWidth:x,fill:"rgba(0,0,0,0)"}}))),v([0,1],function(t){n.add(e[t]=new l({style:{fill:this.dataZoomModel.get("handleColor")},cursor:"move",draggable:!0,drift:p(this._onDragMove,this,t),ondragend:p(this._onDragEnd,this),onmouseover:p(this._showDataInfo,this,!0),onmouseout:p(this._showDataInfo,this,!1)}));var o=this.dataZoomModel.textStyleModel;this.group.add(i[t]=new r.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",fill:o.getTextColor(),textFont:o.getFont()}}))},this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[h(t[0],[0,100],e,!0),h(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var i=this._handleEnds,n=this._getViewExtent();d(e,i,n,"all"===t||this.dataZoomModel.get("zoomLock")?"rigid":"cross",t),this._range=f([h(i[0],n,[0,100],!0),h(i[1],n,[0,100],!0)])},_updateView:function(){var t=this._displayables,e=this._handleEnds,i=f(e.slice()),n=this._size,o=this._halfHandleSize;v([0,1],function(i){var r=t.handles[i];r.setShape({x:e[i]-o,y:-1,width:2*o,height:n[1]+2,r:1})},this),t.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:this._size[1]}),this._updateDataInfo()},_updateDataInfo:function(){function t(t){var e=r.getTransform(i.handles[t],this.group),s=r.transformDirection(0===t?"right":"left",e),l=this._halfHandleSize+T,h=r.applyTransform([c[t]+(0===t?-l:l),this._size[1]/2],e);n[t].setStyle({x:h[0],y:h[1],textVerticalAlign:o===w?"middle":s,textAlign:o===w?s:"center",text:a[t]})}var e=this.dataZoomModel,i=this._displayables,n=i.handleLabels,o=this._orient,a=["",""];if(e.get("showDetail")){var s,l;e.eachTargetAxis(function(t,i){s||(s=e.getAxisProxy(t.name,i).getDataValueWindow(),l=this.ecModel.getComponent(t.axis,i).axis)},this),s&&(a=[this._formatLabel(s[0],l),this._formatLabel(s[1],l)])}var c=f(this._handleEnds.slice());t.call(this,0),t.call(this,1)},_formatLabel:function(t,e){var i=this.dataZoomModel,n=i.get("labelFormatter");if(o.isFunction(n))return n(t);var r=i.get("labelPrecision");return null!=r&&"auto"!==r||(r=e.getPixelPrecision()),t=null==t&&isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(r,20)),o.isString(n)&&(t=n.replace("{value}",t)),t},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr("invisible",!t),e[1].attr("invisible",!t)},_onDragMove:function(t,e,i){this._dragging=!0;var n=this._applyBarTransform([e,i],!0);this._updateInterval(t,n[0]),this._updateView(),this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),this._dispatchZoomAction()},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_applyBarTransform:function(t,e){var i=this._displayables.barGroup.getLocalTransform();return r.applyTransform(t,i,e)},_findCoordRect:function(){var t,e=this.getTargetInfo();if(e.cartesians.length)t=e.cartesians[0].model.coordinateSystem.getRect();else{var i=this.api.getWidth(),n=this.api.getHeight();t={x:.2*i,y:.2*n,width:.6*i,height:.6*n}}return t}});t.exports=C},function(t,e){var i={},n="\x00__throttleOriginMethod",o="\x00__throttleRate";i.throttle=function(t,e,i,n){function o(o){function f(){h=(new Date).getTime(),u=null,(d?t:t[o]).apply(a,s||[])}var p=function(){l=(new Date).getTime(),a=this,s=arguments,r=l-(n?c:h)-e,clearTimeout(u),n?i?u=setTimeout(f,e):r>=0&&f():r>=0?f():i&&(u=setTimeout(f,-r)),c=l};return p.clear=function(){u&&(clearTimeout(u),u=null)},p}var r,a,s,l=(new Date).getTime(),c=0,h=0,u=null,d="function"==typeof t;if(e=e||0,d)return o();for(var f=[],p=0;p<t.length;p++)f[p]=o(p);return f},i.fixRate=function(t,e){return null!=e?i.throttle(t,e,!0,!1):t},i.debounce=function(t,e){return null!=e?i.throttle(t,e,!0,!0):t},i.createOrUpdate=function(t,e,r,a){var s=t[e];if(s&&null!=r&&a){var l=s[n]||s,c=s[o];c!==r&&(s=t[e]=i[a](l,r),s[n]=l,s[o]=r)}},i.clear=function(t,e){var i=t[e];i&&i[n]&&(t[e]=i[n])},t.exports=i},function(t,e){t.exports=function(t,e,i,n,o){function r(t,e,i){var n=e.length?e.slice():[e,e];return e[0]>e[1]&&n.reverse(),0>t&&n[0]+t<i[0]&&(t=i[0]-n[0]),t>0&&n[1]+t>i[1]&&(t=i[1]-n[1]),t}return t?("rigid"===n?(t=r(t,e,i),e[0]+=t,e[1]+=t):(t=r(t,e[o],i),e[o]+=t,"push"===n&&e[0]>e[1]&&(e[1-o]=e[o])),e):e}},function(t,e,i){t.exports=i(288).extend({type:"dataZoom.inside",defaultOption:{zoomLock:!1}})},function(t,e,i){function n(t,e,i,n){e=e.slice();var o=n.axisModels[0];if(o){var a=r(t,o,i),s=a.signal*(e[1]-e[0])*a.pixel/a.pixelLength;return c(s,e,[0,100],"rigid"),e}}function o(t,e,i,n,o,s){i=i.slice();var l=o.axisModels[0];if(l){var c=r(e,l,n),h=c.pixel-c.pixelStart,u=h/c.pixelLength*(i[1]-i[0])+i[0];return t=Math.max(t,0),i[0]=(i[0]-u)*t+u,i[1]=(i[1]-u)*t+u,a(i)}}function r(t,e,i){var n=e.axis,o=i.rect,r={};return"x"===n.dim?(r.pixel=t[0],r.pixelLength=o.width,r.pixelStart=o.x,r.signal=n.inverse?1:-1):(r.pixel=t[1],r.pixelLength=o.height,r.pixelStart=o.y,r.signal=n.inverse?-1:1),r}function a(t){var e=[0,100];return!(t[0]<=e[1])&&(t[0]=e[1]),!(t[1]<=e[1])&&(t[1]=e[1]),!(t[0]>=e[0])&&(t[0]=e[0]),!(t[1]>=e[0])&&(t[1]=e[0]),t}var s=i(290),l=i(3),c=i(294),h=i(297),u=l.bind,d=s.extend({type:"dataZoom.inside",init:function(t,e){this._range},render:function(t,e,i,n){d.superApply(this,"render",arguments),h.shouldRecordRange(n,t.id)&&(this._range=t.getPercentRange());var o=this.getTargetInfo().cartesians,r=l.map(o,function(t){return h.generateCoordId(t.model)});l.each(o,function(e){var n=e.model;h.register(i,{coordId:h.generateCoordId(n),allCoordIds:r,coordinateSystem:n.coordinateSystem,dataZoomId:t.id,throttleRage:t.get("throttle",!0),panGetRange:u(this._onPan,this,e),zoomGetRange:u(this._onZoom,this,e)})},this)},remove:function(){h.unregister(this.api,this.dataZoomModel.id),d.superApply(this,"remove",arguments),this._range=null},dispose:function(){h.unregister(this.api,this.dataZoomModel.id),d.superApply(this,"dispose",arguments),this._range=null},_onPan:function(t,e,i,o){return this._range=n([i,o],this._range,e,t)},_onZoom:function(t,e,i,n,r){var a=this.dataZoomModel;return a.option.zoomLock?this._range:this._range=o(1/i,[n,r],this._range,e,t,a)}});t.exports=d},function(t,e,i){function n(t){var e=t.getZr();return e[p]||(e[p]={})}function o(t,e,i){var n=new u(t.getZr());return n.enable(),n.on("pan",f(a,i)),n.on("zoom",f(s,i)),n}function r(t){h.each(t,function(e,i){e.count||(e.controller.off("pan").off("zoom"),delete t[i])})}function a(t,e,i){l(t,function(n){return n.panGetRange(t.controller,e,i)})}function s(t,e,i,n){l(t,function(o){return o.zoomGetRange(t.controller,e,i,n)})}function l(t,e){var i=[];h.each(t.dataZoomInfos,function(t){var n=e(t);n&&i.push({dataZoomId:t.dataZoomId,start:n[0],end:n[1]})}),t.dispatchAction(i)}function c(t,e){t.dispatchAction({type:"dataZoom",batch:e})}var h=i(3),u=i(159),d=i(293),f=h.curry,p="\x00_ec_dataZoom_roams",g={register:function(t,e){var i=n(t),a=e.dataZoomId,s=e.coordId;h.each(i,function(t,i){var n=t.dataZoomInfos;n[a]&&h.indexOf(e.allCoordIds,s)<0&&(delete n[a],t.count--)}),r(i);var l=i[s];l||(l=i[s]={coordId:s,dataZoomInfos:{},count:0},l.controller=o(t,e,l),l.dispatchAction=h.curry(c,t)),l.controller.rect=e.coordinateSystem.getRect().clone(),d.createOrUpdate(l,"dispatchAction",e.throttleRate,"fixRate"),!l.dataZoomInfos[a]&&l.count++,l.dataZoomInfos[a]=e},unregister:function(t,e){var i=n(t);h.each(i,function(t){var i=t.dataZoomInfos;i[e]&&(delete i[e],t.count--)}),r(i)},shouldRecordRange:function(t,e){if(t&&"dataZoom"===t.type&&t.batch)for(var i=0,n=t.batch.length;n>i;i++)if(t.batch[i].dataZoomId===e)return!1;return!0},generateCoordId:function(t){return t.type+"\x00_"+t.id}};t.exports=g},function(t,e,i){function n(t,e,i){i.getAxisProxy(t.name,e).reset(i)}function o(t,e,i){i.getAxisProxy(t.name,e).filterData(i)}var r=i(1);r.registerProcessor("filter",function(t,e){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(n),t.eachTargetAxis(o)}),t.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy(),i=e.getDataPercentWindow(),n=e.getDataValueWindow();t.setRawRange({start:i[0],end:i[1],startValue:n[0],endValue:n[1]})})})},function(t,e,i){var n=i(3),o=i(5),r=i(1);r.registerAction("dataZoom",function(t,e){var i=o.createLinkedNodesFinder(n.bind(e.eachComponent,e,"dataZoom"),o.eachAxisDim,function(t,e){return t.get(e.axisIndex)}),r=[];e.eachComponent({mainType:"dataZoom",query:t},function(t,e){r.push.apply(r,i(t).nodes)}),n.each(r,function(e,i){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})},function(t,e,i){i(301),i(312)},function(t,e,i){i(1).registerPreprocessor(i(302)),i(303),i(304),i(305),i(308),i(311)},function(t,e,i){function n(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var o=i(3),r=o.each;t.exports=function(t){var e=t&&t.visualMap;o.isArray(e)||(e=e?[e]:[]),r(e,function(t){if(t){n(t,"splitList")&&!n(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&o.isArray(e)&&r(e,function(t){o.isObject(t)&&(n(t,"start")&&!n(t,"min")&&(t.min=t.start),n(t,"end")&&!n(t,"max")&&(t.max=t.end))})}})}},function(t,e,i){i(19).registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"})},function(t,e,i){function n(t,e){var i=t.targetVisuals,n={};a.each(["inRange","outOfRange"],function(t){var e=r.prepareVisualTypes(i[t]);n[t]=e}),t.eachTargetSeries(function(e){function o(t){return s.getItemVisual(a,t)}function r(t,e){s.setItemVisual(a,t,e)}var a,s=e.getData(),l=t.getDataDimension(s);s.each([l],function(e,s){a=s;for(var l=t.getValueState(e),c=i[l],h=n[l],u=0,d=h.length;d>u;u++){var f=h[u];c[f]&&c[f].applyVisual(e,o,r)}})})}var o=i(1),r=i(187),a=i(3);o.registerVisualCoding("component",function(t){t.eachComponent("visualMap",function(e){n(e,t)})})},function(t,e,i){var n=i(306),o=i(3),r=i(7),a=[20,140],s=n.extend({type:"visualMap.continuous",defaultOption:{handlePosition:"auto",calculable:!1,range:[-(1/0),1/0],hoverLink:!0,realtime:!0,itemWidth:null,itemHeight:null},doMergeOption:function(t,e){s.superApply(this,"doMergeOption",arguments),this.resetTargetSeries(t,e),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod="linear"}),this._resetRange()},resetItemSize:function(){n.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;"horizontal"===this._orient&&t.reverse(),(null==t[0]||isNaN(t[0]))&&(t[0]=a[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=a[1])},_resetRange:function(){var t=this.getExtent(),e=this.option.range;e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1])},completeVisualOption:function(){n.prototype.completeVisualOption.apply(this,arguments),o.each(this.stateList,function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=0)},this)},setSelected:function(t){this.option.range=t.slice(),this._resetRange()},getSelected:function(){var t=this.getExtent(),e=r.asc((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},getValueState:function(t){var e=this.option.range,i=this.getExtent();return(e[0]<=i[0]||e[0]<=t)&&(e[1]>=i[1]||t<=e[1])?"inRange":"outOfRange"}});t.exports=s},function(t,e,i){function n(t,e){o.each(["inRange","outOfRange","target","controller","color"],function(i){e.hasOwnProperty(i)?t[i]=o.clone(e[i]):delete t[i]})}var o=i(3),r=i(78),a=i(1),s=i(5),l=i(307),c=i(187),h=c.mapVisual,u=c.eachVisual,d=i(7),f=o.isArray,p=o.each,g=d.asc,m=d.linearMap,v=a.extendComponentModel({type:"visualMap",dependencies:["series"],dataBound:[-(1/0),1/0],stateList:["inRange","outOfRange"],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",seriesIndex:null,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:["#bf444c","#d88273","#f6efa6"],formatter:null,text:null,textStyle:{color:"#333"}},init:function(t,e,i){this._autoSeriesIndex=!1,this._dataExtent,this.controllerVisuals={},this.targetVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(t,i),this.doMergeOption({},!0)},mergeOption:function(t){v.superApply(this,"mergeOption",arguments),this.doMergeOption(t,!1)},doMergeOption:function(t,e){var i=this.option;!e&&n(i,t),r.canvasSupported||(i.realtime=!1),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},formatValueText:function(t,e){function i(t){return t===l[0]?"min":t===l[1]?"max":(+t).toFixed(s)}var n,r,a=this.option,s=a.precision,l=this.dataBound,c=a.formatter;return o.isArray(t)&&(t=t.slice(),n=!0),r=e?t:n?[i(t[0]),i(t[1])]:i(t),o.isString(c)?c.replace("{value}",n?r[0]:r).replace("{value2}",n?r[1]:r):o.isFunction(c)?n?c(t[0],t[1]):c(t):n?t[0]===l[0]?"< "+r[1]:t[1]===l[1]?"> "+r[0]:r[0]+" - "+r[1]:r},resetTargetSeries:function(t,e){var i=this.option,n=this._autoSeriesIndex=null==(e?i:t).seriesIndex;i.seriesIndex=n?[]:s.normalizeToArray(i.seriesIndex),n&&this.ecModel.eachSeries(function(t,e){var n=t.getData();"list"===n.type&&i.seriesIndex.push(e)})},resetExtent:function(){var t=this.option,e=g([t.min,t.max]);this._dataExtent=e},getDataDimension:function(t){var e=this.option.dimension;return null!=e?e:t.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},resetVisual:function(t){function e(e,n){p(this.stateList,function(o){var r=n[o]||(n[o]={}),a=this.option[e][o]||{};p(a,function(e,n){if(c.isValidType(n)){var a={type:n,dataExtent:i,visual:e};t&&t.call(this,a,o),r[n]=new c(a)}},this)},this)}var i=this.getExtent();e.call(this,"controller",this.controllerVisuals),e.call(this,"target",this.targetVisuals)},completeVisualOption:function(){function t(t){f(n.color)&&!t.inRange&&(t.inRange={color:n.color.slice().reverse()}),p(this.stateList,function(e){var i=t[e];if(o.isString(i)){var n=l.get(i,"active",d);n?(t[e]={},t[e][i]=n):delete t[e]}},this)}function e(t,e,i){var n=t[e],o=t[i];n&&!o&&(o=t[i]={},p(n,function(t,e){var i=l.get(e,"inactive",d);c.isValidType(e)&&i&&(o[e]=i)}))}function i(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,i=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,n=this.get("inactiveColor");p(this.stateList,function(r){var a=this.itemSize,s=t[r];s||(s=t[r]={color:d?n:[n]}),s.symbol||(s.symbol=e&&o.clone(e)||(d?"roundRect":["roundRect"])),s.symbolSize||(s.symbolSize=i&&o.clone(i)||(d?a[0]:[a[0],a[0]])),s.symbol=h(s.symbol,function(t){return"none"===t||"square"===t?"roundRect":t});var l=s.symbolSize;if(l){var c=-(1/0);u(l,function(t){t>c&&(c=t)}),s.symbolSize=h(l,function(t){return m(t,[0,c],[0,a[0]],!0)})}},this)}var n=this.option,r={inRange:n.inRange,outOfRange:n.outOfRange},a=n.target||(n.target={}),s=n.controller||(n.controller={});o.merge(a,r),o.merge(s,r);var d=this.isCategory();t.call(this,a),t.call(this,s),e.call(this,a,"inRange","outOfRange"),e.call(this,a,"outOfRange","inRange"),i.call(this,s)},eachTargetSeries:function(t,e){o.each(this.option.seriesIndex,function(i){t.call(e,this.ecModel.getSeriesByIndex(i))},this)},isCategory:function(){return!!this.option.categories},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},setSelected:o.noop,getValueState:o.noop});t.exports=v},function(t,e,i){var n=i(3),o={get:function(t,e,i){var o=n.clone((r[t]||{})[e]);return i&&n.isArray(o)?o[o.length-1]:o}},r={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};t.exports=o},function(t,e,i){function n(t,e,i){return new a.Polygon({shape:{points:t},draggable:!!e,cursor:i,drift:e})}function o(t,e){return 0===t?[[0,0],[e,0],[e,-e]]:[[0,0],[e,0],[e,e]]}var r=i(309),a=i(42),s=i(3),l=i(7),c=i(294),h=l.linearMap,u=i(75),d=i(310),f=s.each,p=r.extend({type:"visualMap.continuous",init:function(){r.prototype.init.apply(this,arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle},doRender:function(t,e,i,n){n&&"selectDataRange"===n.type&&n.from===this.uid?this._updateView():this._buildView()},_buildView:function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var i=t.get("text");this._renderEndsText(e,i,0),this._renderEndsText(e,i,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this.positionGroup(e)},_renderEndsText:function(t,e,i){if(e){var n=e[1-i];n=null!=n?n+"":"";var o=this.visualMapModel,r=o.get("textGap"),s=o.itemSize,l=this._shapes.barGroup,c=this._applyTransform([s[0]/2,0===i?-r:s[1]+r],l),h=this._applyTransform(0===i?"bottom":"top",l),u=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new a.Text({style:{x:c[0],y:c[1],textVerticalAlign:"horizontal"===u?"middle":h,textAlign:"horizontal"===u?h:"center",text:n,textFont:d.getFont(),fill:d.getTextColor()}}))}},_renderBar:function(t){var e=this.visualMapModel,i=this._shapes,o=e.itemSize,r=this._orient,a=this._useHandle,l=d.getItemAlign(e,this.api,o),c=i.barGroup=this._createBarGroup(l);c.add(i.outOfRange=n()),c.add(i.inRange=n(null,s.bind(this._modifyHandle,this,"all"),a?"move":null));var h=e.textStyleModel.getTextRect("国"),u=Math.max(h.width,h.height);a&&(i.handleGroups=[],i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(c,0,o,u,r,l),this._createHandle(c,1,o,u,r,l)),t.add(c)},_createHandle:function(t,e,i,r,l){var c=new a.Group({position:[i[0],0]}),h=n(o(e,r),s.bind(this._modifyHandle,this,e),"move");c.add(h);var u={x:"horizontal"===l?r/2:1.5*r,y:"horizontal"===l?0===e?-(1.5*r):1.5*r:0===e?-r/2:r/2},d=this.visualMapModel.textStyleModel,f=new a.Text({silent:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textFont:d.getFont(),fill:d.getTextColor()}});this.group.add(f);var p=this._shapes;p.handleThumbs[e]=h,p.handleGroups[e]=c,p.handleLabelPoints[e]=u,p.handleLabels[e]=f,t.add(c)},_modifyHandle:function(t,e,i){if(this._useHandle){var n=this._applyTransform([e,i],this._shapes.barGroup,!0);this._updateInterval(t,n[1]),this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()})}},_resetInterval:function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),i=t.getExtent(),n=[0,t.itemSize[1]];this._handleEnds=[h(e[0],i,n,!0),h(e[1],i,n,!0)]},_updateInterval:function(t,e){e=e||0;var i=this.visualMapModel,n=this._handleEnds;c(e,n,[0,i.itemSize[1]],"all"===t?"rigid":"push",t);var o=i.getExtent(),r=[0,i.itemSize[1]];this._dataInterval=[h(n[0],r,o,!0),h(n[1],r,o,!0)]},_updateView:function(t){var e=this.visualMapModel,i=e.getExtent(),n=this._shapes,o=this._dataInterval,r=[0,e.itemSize[1]],a=t?r:this._handleEnds,s=this._createBarVisual(o,i,a,"inRange"),l=this._createBarVisual(i,i,r,"outOfRange");n.inRange.setStyle("fill",s.barColor).setShape("points",s.barPoints),n.outOfRange.setStyle("fill",l.barColor).setShape("points",l.barPoints),this._useHandle&&f([0,1],function(t){n.handleThumbs[t].setStyle("fill",s.handlesColor[t]),n.handleLabels[t].setStyle({text:e.formatValueText(o[t]),textAlign:this._applyTransform("horizontal"===this._orient?0===t?"bottom":"top":"left",n.barGroup)})},this),this._updateHandlePosition(a)},_createBarVisual:function(t,e,i,n){var o=this.getControllerVisual(t,n,"color").color,r=[this.getControllerVisual(t[0],n,"symbolSize").symbolSize,this.getControllerVisual(t[1],n,"symbolSize").symbolSize],a=this._createBarPoints(i,r);return{barColor:new u(0,0,1,1,o),barPoints:a,handlesColor:[o[0].color,o[o.length-1].color]}},_createBarPoints:function(t,e){var i=this.visualMapModel.itemSize;return[[i[0]-e[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-e[1],t[1]]]},_createBarGroup:function(t){var e=this._orient,i=this.visualMapModel.get("inverse");return new a.Group("horizontal"!==e||i?"horizontal"===e&&i?{scale:"bottom"===t?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==e||i?{scale:"left"===t?[1,1]:[-1,1]}:{scale:"left"===t?[1,-1]:[-1,-1]}:{scale:"bottom"===t?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandlePosition:function(t){if(this._useHandle){var e=this._shapes;f([0,1],function(i){var n=e.handleGroups[i];n.position[1]=t[i];var o=e.handleLabelPoints[i],r=a.applyTransform([o.x,o.y],a.getTransform(n,this.group));e.handleLabels[i].setStyle({x:r[0],y:r[1]})},this)}},_applyTransform:function(t,e,i){var n=a.getTransform(e,this.group);return a[s.isArray(t)?"applyTransform":"transformDirection"](t,n,i)}});t.exports=p},function(t,e,i){var n=i(1),o=i(3),r=i(42),a=i(6),s=i(21),l=i(187);t.exports=n.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(t,e){this.ecModel=t,this.api=e,this.visualMapModel,this._updatableShapes={}},render:function(t,e,i,n){return this.visualMapModel=t,t.get("show")===!1?void this.group.removeAll():void this.doRender.apply(this,arguments)},renderBackground:function(t){var e=this.visualMapModel,i=a.normalizeCssArray(e.get("padding")||0),n=t.getBoundingRect();t.add(new r.Rect({z2:-1,silent:!0,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},getControllerVisual:function(t,e,i){function n(t){return u[t]}function r(t,e){u[t]=e}var a=this.visualMapModel,s=o.isArray(t);if(s&&(!e||"color"!==i))throw new Error(t);var c=a.controllerVisuals[e||a.getValueState(t)],h=a.get("contentColor"),u={symbol:a.get("itemSymbol"),color:s?[{color:h,offset:0},{color:h,offset:1}]:h},d=l.prepareVisualTypes(c);return o.each(d,function(e){var o=c[e];i&&!l.isInVisualCluster(e,i)||o&&o.applyVisual(t,n,r)}),u},positionGroup:function(t){var e=this.visualMapModel,i=this.api;s.positionGroup(t,e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},doRender:o.noop
})},function(t,e,i){var n=i(21),o={getItemAlign:function(t,e,i){var o=t.option,r=o.align;if(null!=r&&"auto"!==r)return r;for(var a={width:e.getWidth(),height:e.getHeight()},s="horizontal"===o.orient?1:0,l=[["left","right","width"],["top","bottom","height"]],c=l[s],h=[0,null,10],u={},d=0;3>d;d++)u[l[1-s][d]]=h[d],u[c[d]]=2===d?i[0]:o[c[d]];var f=[["x","width",3],["y","height",0]][s],p=n.getLayoutRect(u,a,o.padding);return c[(p.margin[f[2]]||0)+p[f[0]]+.5*p[f[1]]<.5*a[f[1]]?0:1]}};t.exports=o},function(t,e,i){var n=i(1),o={type:"selectDataRange",event:"dataRangeSelected",update:"update"};n.registerAction(o,function(t,e){e.eachComponent({mainType:"visualMap",query:t},function(e){e.setSelected(t.selected)})})},function(t,e,i){i(1).registerPreprocessor(i(302)),i(303),i(304),i(313),i(314),i(311)},function(t,e,i){function n(t,e){var i=t.inverse;("vertical"===t.orient?!i:i)&&e.reverse()}var o=i(306),r=i(3),a=i(187),s=o.extend({type:"visualMap.piecewise",defaultOption:{selected:null,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10},doMergeOption:function(t,e){s.superApply(this,"doMergeOption",arguments),this._pieceList=[],this.resetTargetSeries(t,e),this.resetExtent();var i=this._mode=this._decideMode();l[this._mode].call(this),this._resetSelected(t,e);var n=this.option.categories;this.resetVisual(function(t,e){"categories"===i?(t.mappingMethod="category",t.categories=r.clone(n)):(t.mappingMethod="piecewise",t.pieceList=r.map(this._pieceList,function(t){var t=r.clone(t);return"inRange"!==e&&(t.visual=null),t}))})},_resetSelected:function(t,e){var i=this.option,n=this._pieceList,o=(e?i:t).selected||{};if(i.selected=o,r.each(n,function(t,e){var i=this.getSelectedMapKey(t);i in o||(o[i]=!0)},this),"single"===i.selectedMode){var a=!1;r.each(n,function(t,e){var i=this.getSelectedMapKey(t);o[i]&&(a?o[i]=!1:a=!0)},this)}},getSelectedMapKey:function(t){return"categories"===this._mode?t.value+"":t.index+""},getPieceList:function(){return this._pieceList},_decideMode:function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(t){this.option.selected=r.clone(t)},getValueState:function(t){var e=this._pieceList,i=a.findPieceIndex(t,e);return null!=i&&this.option.selected[this.getSelectedMapKey(e[i])]?"inRange":"outOfRange"}}),l={splitNumber:function(){var t=this.option,e=t.precision,i=this.getExtent(),n=t.splitNumber;n=Math.max(parseInt(n,10),1),t.splitNumber=n;for(var o=(i[1]-i[0])/n;+o.toFixed(e)!==o&&5>e;)e++;t.precision=e,o=+o.toFixed(e);for(var r=0,a=i[0];n>r;r++,a+=o){var s=r===n-1?i[1]:a+o;this._pieceList.push({text:this.formatValueText([a,s]),index:r,interval:[a,s]})}},categories:function(){var t=this.option;r.each(t.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})},this),n(t,this._pieceList)},pieces:function(){var t=this.option;r.each(t.pieces,function(t,e){r.isObject(t)||(t={value:t});var i,n={text:"",index:e};if(null!=t.label&&(n.text=t.label,i=!0),t.hasOwnProperty("value"))n.value=t.value,i||(n.text=this.formatValueText(n.value));else{var o=t.min,s=t.max;null==o&&(o=-(1/0)),null==s&&(s=1/0),o===s&&(n.value=o),n.interval=[o,s],i||(n.text=this.formatValueText([o,s]))}n.visual=a.retrieveVisuals(t),this._pieceList.push(n)},this),n(t,this._pieceList)}};t.exports=s},function(t,e,i){var n=i(309),o=i(3),r=i(42),a=i(100),s=i(21),l=i(310),c=n.extend({type:"visualMap.piecewise",doRender:function(){function t(t){var i=new r.Group;i.onclick=o.bind(this._onItemClick,this,t.piece),this._createItemSymbol(i,t.piece,[0,0,u[0],u[1]]),f&&i.add(new r.Text({style:{x:"right"===h?-n:u[0]+n,y:u[1]/2,text:t.piece.text,textVerticalAlign:"middle",textAlign:h,textFont:l,fill:c}})),e.add(i)}var e=this.group;e.removeAll();var i=this.visualMapModel,n=i.get("textGap"),a=i.textStyleModel,l=a.getFont(),c=a.getTextColor(),h=this._getItemAlign(),u=i.itemSize,d=this._getViewData(),f=!d.endsText,p=!f;p&&this._renderEndsText(e,d.endsText[0],u),o.each(d.pieceList,t,this),p&&this._renderEndsText(e,d.endsText[1],u),s.box(i.get("orient"),e,i.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},_getItemAlign:function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return l.getItemAlign(t,this.api,t.itemSize);var i=e.align;return i&&"auto"!==i||(i="left"),i},_renderEndsText:function(t,e,i){if(e){var n=new r.Group,o=this.visualMapModel.textStyleModel;n.add(new r.Text({style:{x:i[0]/2,y:i[1]/2,textVerticalAlign:"middle",textAlign:"center",text:e,textFont:o.getFont(),fill:o.getTextColor()}})),t.add(n)}},_getViewData:function(){var t=this.visualMapModel,e=o.map(t.getPieceList(),function(t,e){return{piece:t,index:e}}),i=t.get("text"),n=t.get("orient"),r=t.get("inverse");return("horizontal"===n?r:!r)?e.reverse():i&&(i=i.slice().reverse()),{pieceList:e,endsText:i}},_createItemSymbol:function(t,e,i){var n;if(this.visualMapModel.isCategory())n=e.value;else if(null!=e.value)n=e.value;else{var o=e.interval||[];n=(o[0]+o[1])/2}var r=this.getControllerVisual(n);t.add(a.createSymbol(r.symbol,i[0],i[1],i[2],i[3],r.color))},_onItemClick:function(t){var e=this.visualMapModel,i=e.option,n=o.clone(i.selected),r=e.getSelectedMapKey(t);"single"===i.selectedMode?(n[r]=!0,o.each(n,function(t,e){n[e]=e===r})):n[r]=!n[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:n})}});t.exports=c},function(t,e,i){i(316),i(317),i(1).registerPreprocessor(function(t){t.markPoint=t.markPoint||{}})},function(t,e,i){var n=i(5),o=i(1).extendComponentModel({type:"markPoint",dependencies:["series","grid","polar"],init:function(t,e,i,n){this.mergeDefaultAndTheme(t,i),this.mergeOption(t,i,n.createdBySelf,!0)},mergeOption:function(t,e,i,r){i||e.eachSeries(function(t){var i=t.get("markPoint"),a=t.markPointModel;if(!i||!i.data)return void(t.markPointModel=null);if(a)a.mergeOption(i,e,!0);else{r&&n.defaultEmphasis(i.label,["position","show","textStyle","distance","formatter"]);var s={seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0};a=new o(i,this,e,s)}t.markPointModel=a},this)},defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2},emphasis:{}}}});t.exports=o},function(t,e,i){function n(t,e,i){var n=e.coordinateSystem;t.each(function(o){var r,a=t.getItemModel(o),s=a.getShallow("x"),l=a.getShallow("y");if(null!=s&&null!=l)r=[c.parsePercent(s,i.getWidth()),c.parsePercent(l,i.getHeight())];else if(e.getMarkerPosition)r=e.getMarkerPosition(t.getValues(t.dimensions,o));else if(n){var h=t.get(n.dimensions[0],o),u=t.get(n.dimensions[1],o);r=n.dataToPoint([h,u])}t.setItemLayout(o,r)})}function o(t,e,i){var n;n=t?a.map(t&&t.dimensions,function(t){var i=e.getData().getDimensionInfo(e.coordDimToDataDim(t)[0])||{};return i.name=t,i}):[{name:"value",type:"float"}];var o=new d(n,i),r=a.map(i.get("data"),a.curry(f.dataTransform,e));return t&&(r=a.filter(r,a.curry(f.dataFilter,t))),o.initData(r,null,t?f.dimValueGetter:function(t){return t.value}),o}var r=i(98),a=i(3),s=i(6),l=i(5),c=i(7),h=s.addCommas,u=s.encodeHTML,d=i(94),f=i(318),p={getRawDataArray:function(){return this.option.data},formatTooltip:function(t){var e=this.getData(),i=this.getRawValue(t),n=a.isArray(i)?a.map(i,h).join(", "):h(i),o=e.getName(t);return this.name+"<br />"+((o?u(o)+" : ":"")+n)},getData:function(){return this._data},setData:function(t){this._data=t}};a.defaults(p,l.dataFormatMixin),i(1).extendComponentView({type:"markPoint",init:function(){this._symbolDrawMap={}},render:function(t,e,i){var n=this._symbolDrawMap;for(var o in n)n[o].__keep=!1;e.eachSeries(function(t){var e=t.markPointModel;e&&this._renderSeriesMP(t,e,i)},this);for(var o in n)n[o].__keep||(n[o].remove(),this.group.remove(n[o].group))},updateLayout:function(t,e,i){e.eachSeries(function(t){var e=t.markPointModel;e&&(n(e.getData(),t,i),this._symbolDrawMap[t.name].updateLayout(e))},this)},_renderSeriesMP:function(t,e,i){var s=t.coordinateSystem,l=t.name,c=t.getData(),h=this._symbolDrawMap,u=h[l];u||(u=h[l]=new r);var d=o(s,t,e);a.mixin(e,p),e.setData(d),n(e.getData(),t,i),d.each(function(t){var i=d.getItemModel(t),n=i.getShallow("symbolSize");"function"==typeof n&&(n=n(e.getRawValue(t),e.getDataParams(t))),d.setItemVisual(t,{symbolSize:n,color:i.get("itemStyle.normal.color")||c.getVisual("color"),symbol:i.getShallow("symbol")})}),u.updateData(d),this.group.add(u.group),d.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=e})}),u.__keep=!0}})},function(t,e,i){function n(t,e,i){var n=-1;do n=Math.max(a.getPrecision(t.get(e,i)),n),t=t.stackedOn;while(t);return n}function o(t,e,i,o,r,a){var s=[],l=p(e,o,t),c=e.indexOfNearest(o,l,!0);s[r]=e.get(i,c,!0),s[a]=e.get(o,c,!0);var h=n(e,o,c);return h>=0&&(s[a]=+s[a].toFixed(h)),s}var r=i(3),a=i(7),s=r.indexOf,l=r.curry,c={min:l(o,"min"),max:l(o,"max"),average:l(o,"average")},h=function(t,e){var i=t.getData(),n=t.coordinateSystem;if((isNaN(e.x)||isNaN(e.y))&&!r.isArray(e.coord)&&n){var o=u(e,i,n,t);if(e=r.clone(e),e.type&&c[e.type]&&o.baseAxis&&o.valueAxis){var a=n.dimensions,l=s(a,o.baseAxis.dim),h=s(a,o.valueAxis.dim);e.coord=c[e.type](i,o.baseDataDim,o.valueDataDim,l,h),e.value=e.coord[h]}else e.coord=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis]}return e},u=function(t,e,i,n){var o={};return null!=t.valueIndex||null!=t.valueDim?(o.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,o.valueAxis=i.getAxis(n.dataDimToCoordDim(o.valueDataDim)),o.baseAxis=i.getOtherAxis(o.valueAxis),o.baseDataDim=n.coordDimToDataDim(o.baseAxis.dim)[0]):(o.baseAxis=n.getBaseAxis(),o.valueAxis=i.getOtherAxis(o.baseAxis),o.baseDataDim=n.coordDimToDataDim(o.baseAxis.dim)[0],o.valueDataDim=n.coordDimToDataDim(o.valueAxis.dim)[0]),o},d=function(t,e){return t&&t.containData&&e.coord&&(null==e.x||null==e.y)?t.containData(e.coord):!0},f=function(t,e,i,n){return 2>n?t.coord&&t.coord[n]:t.value},p=function(t,e,i){return"average"===i?t.getSum(e,!0)/t.count():t.getDataExtent(e,!0)["max"===i?1:0]};t.exports={dataTransform:h,dataFilter:d,dimValueGetter:f,getAxisInfo:u,numCalculate:p}},function(t,e,i){i(320),i(321),i(1).registerPreprocessor(function(t){t.markLine=t.markLine||{}})},function(t,e,i){var n=i(5),o=i(1).extendComponentModel({type:"markLine",dependencies:["series","grid","polar"],init:function(t,e,i,n){this.mergeDefaultAndTheme(t,i),this.mergeOption(t,i,n.createdBySelf,!0)},mergeOption:function(t,e,i,r){i||e.eachSeries(function(t){var i=t.get("markLine"),a=t.markLineModel;if(!i||!i.data)return void(t.markLineModel=null);if(a)a.mergeOption(i,e,!0);else{r&&n.defaultEmphasis(i.label,["position","show","textStyle","distance","formatter"]);var s={seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0};a=new o(i,this,e,s)}t.markLineModel=a},this)},defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}});t.exports=o},function(t,e,i){function n(t,e){return f.dataFilter(t,e[0])&&f.dataFilter(t,e[1])}function o(t,e,i,n,o,r,a){var s,l=r.coordinateSystem,c=t.getItemModel(e),u=c.get("x"),d=c.get("y");if(null!=u&&null!=d)s=[h.parsePercent(u,a.getWidth()),h.parsePercent(d,a.getHeight())];else{if(r.getMarkerPosition)s=r.getMarkerPosition(t.getValues(t.dimensions,e));else{var f=l.dimensions,p=t.get(f[0],e),g=t.get(f[1],e);s=l.dataToPoint([p,g])}if(n&&"cartesian2d"===l.type){var m=null!=o?l.getAxis(1===o?"x":"y"):l.getAxesByScale("ordinal")[0];m&&m.onBand&&(s["x"===m.dim?0:1]=m.toGlobalCoord(m.getExtent()[i?0:1]))}}t.setItemLayout(e,s)}function r(t,e,i){var o;o=t?a.map(t&&t.dimensions,function(t){var i=e.getData().getDimensionInfo(e.coordDimToDataDim(t)[0])||{};return i.name=t,i}):[{name:"value",type:"float"}];var r=new s(o,i),l=new s(o,i),c=new s([],i),h=a.map(i.get("data"),a.curry(g,e,t,i));t&&(h=a.filter(h,a.curry(n,t)));var u=t?f.dimValueGetter:function(t){return t.value};return r.initData(a.map(h,function(t){return t[0]}),null,u),l.initData(a.map(h,function(t){return t[1]}),null,u),c.initData(a.map(h,function(t){return t[2]})),{from:r,to:l,line:c}}var a=i(3),s=i(94),l=i(6),c=i(5),h=i(7),u=l.addCommas,d=l.encodeHTML,f=i(318),p=i(194),g=function(t,e,i,n){var o=t.getData(),r=n.type;if(!a.isArray(n)&&("min"===r||"max"===r||"average"===r)){var s=f.getAxisInfo(n,o,e,t),l=s.baseAxis.dim+"Axis",c=s.valueAxis.dim+"Axis",h=s.baseAxis.scale.getExtent(),u=a.clone(n),d={};u.type=null,u[l]=h[0],d[l]=h[1];var p=f.numCalculate(o,s.valueDataDim,r);p=s.valueAxis.coordToData(s.valueAxis.dataToCoord(p));var g=i.get("precision");g>=0&&(p=+p.toFixed(g)),u[c]=d[c]=p,n=[u,d,{type:r,valueIndex:n.valueIndex,value:p}]}return n=[f.dataTransform(t,n[0]),f.dataTransform(t,n[1]),a.extend({},n[2])],n[2].type=n[2].type||"",a.merge(n[2],n[0]),a.merge(n[2],n[1]),n},m={formatTooltip:function(t){var e=this._data,i=this.getRawValue(t),n=a.isArray(i)?a.map(i,u).join(", "):u(i),o=e.getName(t);return this.name+"<br />"+((o?d(o)+" : ":"")+n)},getRawDataArray:function(){return this.option.data},getData:function(){return this._data},setData:function(t){this._data=t}};a.defaults(m,c.dataFormatMixin),i(1).extendComponentView({type:"markLine",init:function(){this._markLineMap={}},render:function(t,e,i){var n=this._markLineMap;for(var o in n)n[o].__keep=!1;e.eachSeries(function(t){var n=t.markLineModel;n&&this._renderSeriesML(t,n,e,i)},this);for(var o in n)n[o].__keep||this.group.remove(n[o].group)},updateLayout:function(t,e,i){e.eachSeries(function(t){var e=t.markLineModel;if(e){var n=e.getData(),r=e.__from,a=e.__to;r.each(function(e){var s=n.getItemModel(e),l=s.get("type"),c=s.get("valueIndex");o(r,e,!0,l,c,t,i),o(a,e,!1,l,c,t,i)}),n.each(function(t){n.setItemLayout(t,[r.getItemLayout(t),a.getItemLayout(t)])}),this._markLineMap[t.name].updateLayout()}},this)},_renderSeriesML:function(t,e,i,n){function s(e,i,r,a,s){var l=e.getItemModel(i);o(e,i,r,a,s,t,n),e.setItemVisual(i,{symbolSize:l.get("symbolSize")||b[r?0:1],symbol:l.get("symbol",!0)||x[r?0:1],color:l.get("itemStyle.normal.color")||h.getVisual("color")})}var l=t.coordinateSystem,c=t.name,h=t.getData(),u=this._markLineMap,d=u[c];d||(d=u[c]=new p),this.group.add(d.group);var f=r(l,t,e),g=f.from,v=f.to,y=f.line;e.__from=g,e.__to=v,a.extend(e,m),e.setData(y);var x=e.get("symbol"),b=e.get("symbolSize");a.isArray(x)||(x=[x,x]),"number"==typeof b&&(b=[b,b]),f.from.each(function(t){var e=y.getItemModel(t),i=e.get("type"),n=e.get("valueIndex");s(g,t,!0,i,n),s(v,t,!1,i,n)}),y.each(function(t){var e=y.getItemModel(t).get("lineStyle.normal.color");y.setItemVisual(t,{color:e||g.getItemVisual(t,"color")}),y.setItemLayout(t,[g.getItemLayout(t),v.getItemLayout(t)])}),d.updateData(y,g,v),f.line.eachItemGraphicEl(function(t,i){t.traverse(function(t){t.dataModel=e})}),d.__keep=!0}})},function(t,e,i){var n=i(1);n.registerPreprocessor(i(323)),i(324),i(325),i(326),i(328)},function(t,e,i){function n(t){var e=t.type,i={number:"value",time:"time"};if(i[e]&&(t.axisType=i[e],delete t.type),o(t),r(t,"controlPosition")){var n=t.controlStyle||(t.controlStyle={});r(n,"position")||(n.position=t.controlPosition),"none"!==n.position||r(n,"show")||(n.show=!1,delete n.position),delete t.controlPosition}a.each(t.data||[],function(t){a.isObject(t)&&!a.isArray(t)&&(!r(t,"value")&&r(t,"name")&&(t.value=t.name),o(t))})}function o(t){var e=t.itemStyle||(t.itemStyle={}),i=e.emphasis||(e.emphasis={}),n=t.label||t.label||{},o=n.normal||(n.normal={}),s={normal:1,emphasis:1};a.each(n,function(t,e){s[e]||r(o,e)||(o[e]=t)}),i.label&&!r(n,"emphasis")&&(n.emphasis=i.label,delete i.label)}function r(t,e){return t.hasOwnProperty(e)}var a=i(3);t.exports=function(t){var e=t&&t.timeline;a.isArray(e)||(e=e?[e]:[]),a.each(e,function(t){t&&n(t)})}},function(t,e,i){i(19).registerSubTypeDefaulter("timeline",function(){return"slider"})},function(t,e,i){var n=i(1);n.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e){var i=e.getComponent("timeline");i&&null!=t.currentIndex&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.setPlayState(!1)),e.resetOption("timeline")}),n.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var i=e.getComponent("timeline");i&&null!=t.playState&&i.setPlayState(t.playState)})},function(t,e,i){var n=i(327);t.exports=n.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#304654"}},emphasis:{show:!0,textStyle:{color:"#c23531"}}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}})},function(t,e,i){var n=i(19),o=i(94),r=i(3),a=i(5),s=n.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{textStyle:{color:"#000"}},emphasis:{}},data:[]},init:function(t,e,i){this._data,this._names,this.mergeDefaultAndTheme(t,i),this._initData()},mergeOption:function(t){s.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),0>t&&(t=0)),this.option.currentIndex=t},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(t){this.option.autoPlay=!!t},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var t=this.option,e=t.data||[],i=t.axisType,n=this._names=[];if("category"===i){var s=[];r.each(e,function(t,e){var i,o=a.getDataItemValue(t);r.isObject(t)?(i=r.clone(t),i.value=e):i=e,s.push(i),r.isString(o)||null!=o&&!isNaN(o)||(o=""),n.push(o+"")}),e=s}var l={category:"ordinal",time:"time"}[i]||"number",c=this._data=new o([{name:"value",type:l}],this);c.initData(e,n)},getData:function(){return this._data},getCategories:function(){return"category"===this.get("axisType")?this._names.slice():void 0}});t.exports=s},function(t,e,i){function n(t,e){return c.getLayoutRect(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}function o(t,e,i,n){var o=l.makePath(t.get(e).replace(/^path:\/\//,""),s.clone(n||{}),new p(i[0],i[1],i[2],i[3]),"center");return o}function r(t,e,i,n,o,r){var a=t.get("symbol"),l=e.get("color"),c=t.get("symbolSize"),h=c/2,u=e.getItemStyle(["color","symbol","symbolSize"]);return o?(o.setStyle(u),o.setColor(l),i.add(o),r&&r.onUpdate(o)):(o=d.createSymbol(a,-h,-h,c,c,l),i.add(o),r&&r.onCreate(o)),n=s.merge({rectHover:!0,style:u,z2:100},n,!0),o.attr(n),o}function a(t,e,i,n,o){if(!t.dragging){var r=n.getModel("checkpointStyle"),a=i.dataToCoord(n.getData().get(["value"],e));o||!r.get("animation",!0)?t.attr({position:[a,0]}):(t.stopAnimation(!0),t.animateTo({position:[a,0]},r.get("animationDuration",!0),r.get("animationEasing",!0)))}}var s=i(3),l=i(42),c=i(21),h=i(329),u=i(330),d=i(100),f=i(108),p=i(15),g=i(17),m=i(7),v=i(5),y=i(6),x=y.encodeHTML,b=s.bind,w=s.each,_=Math.PI;t.exports=h.extend({type:"timeline.slider",init:function(t,e){this.api=e,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(t,e,i,n){if(this.model=t,this.api=i,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var o=this._layout(t,i),r=this._createGroup("mainGroup"),a=this._createGroup("labelGroup"),s=this._axis=this._createAxis(o,t);w(["AxisLine","AxisTick","Control","CurrentPointer"],function(e){this["_render"+e](o,r,s,t)},this),this._renderAxisLabel(o,a,s,t),this._position(o,t)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(t,e){var i=t.get("label.normal.position"),o=t.get("orient"),r=n(t,e);null==i||"auto"===i?i="horizontal"===o?r.y+r.height/2<e.getHeight()/2?"-":"+":r.x+r.width/2<e.getWidth()/2?"+":"-":isNaN(i)&&(i={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[o][i]);var a={horizontal:"center",vertical:i>=0||"+"===i?"left":"right"},s={horizontal:i>=0||"+"===i?"top":"bottom",vertical:"middle"},l={horizontal:0,vertical:_/2},c="vertical"===o?r.height:r.width,h=t.getModel("controlStyle"),u=h.get("show"),d=u?h.get("itemSize"):0,f=u?h.get("itemGap"):0,p=d+f,g=t.get("label.normal.rotate")||0;g=g*_/180;var m,v,y,x,b=h.get("position",!0),u=h.get("show",!0),w=u&&h.get("showPlayBtn",!0),T=u&&h.get("showPrevBtn",!0),S=u&&h.get("showNextBtn",!0),C=0,k=c;return"left"===b||"bottom"===b?(w&&(m=[0,0],C+=p),T&&(v=[C,0],C+=p),S&&(y=[k-d,0],k-=p)):(w&&(m=[k-d,0],k-=p),T&&(v=[0,0],C+=p),S&&(y=[k-d,0],k-=p)),x=[C,k],t.get("inverse")&&x.reverse(),{viewRect:r,mainLength:c,orient:o,rotation:l[o],labelRotation:g,labelPosOpt:i,labelAlign:a[o],labelBaseline:s[o],playPosition:m,prevBtnPosition:v,nextBtnPosition:y,axisExtent:x,controlSize:d,controlGap:f}},_position:function(t,e){function i(t){var e=t.position;t.origin=[u[0][0]-e[0],u[1][0]-e[1]]}function n(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function o(t,e,i,n,o){t[n]+=i[n][o]-e[n][o]}var r=this._mainGroup,a=this._labelGroup,s=t.viewRect;if("vertical"===t.orient){var l=g.create(),c=s.x,h=s.y+s.height;g.translate(l,l,[-c,-h]),g.rotate(l,l,-_/2),g.translate(l,l,[c,h]),s=s.clone(),s.applyTransform(l)}var u=n(s),d=n(r.getBoundingRect()),f=n(a.getBoundingRect()),p=r.position,m=a.position;m[0]=p[0]=u[0][0];var v=t.labelPosOpt;if(isNaN(v)){var y="+"===v?0:1;o(p,d,u,1,y),o(m,f,u,1,1-y)}else{var y=v>=0?0:1;o(p,d,u,1,y),m[1]=p[1]+v}r.position=p,a.position=m,r.rotation=a.rotation=t.rotation,i(r),i(a)},_createAxis:function(t,e){var i=e.getData(),n=e.get("axisType"),o=f.createScaleByModel(e,n),r=i.getDataExtent("value");o.setExtent(r[0],r[1]),this._customizeScale(o,i),o.niceTicks();var a=new u("value",o,t.axisExtent,n);return a.model=e,a},_customizeScale:function(t,e){t.getTicks=function(){return e.mapArray(["value"],function(t){return t})},t.getTicksLabels=function(){return s.map(this.getTicks(),t.getLabel,t)}},_createGroup:function(t){var e=this["_"+t]=new l.Group;return this.group.add(e),e},_renderAxisLine:function(t,e,i,n){var o=i.getExtent();n.get("lineStyle.show")&&e.add(new l.Line({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:s.extend({lineCap:"round"},n.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(t,e,i,n){var o=n.getData(),a=i.scale.getTicks(),s=this._prepareTooltipHostModel(o,n);w(a,function(t,n){var a=i.dataToCoord(t),c=o.getItemModel(n),h=c.getModel("itemStyle.normal"),u=c.getModel("itemStyle.emphasis"),d={position:[a,0],onclick:b(this._changeTimeline,this,n)},f=r(c,h,e,d);l.setHoverStyle(f,u.getItemStyle()),c.get("tooltip")?(f.dataIndex=n,f.dataModel=s):f.dataIndex=f.dataModel=null},this)},_prepareTooltipHostModel:function(t,e){var i=v.createDataFormatModel({},t,e.get("data")),n=this;return i.formatTooltip=function(t){return x(n._axis.scale.getLabel(t))},i},_renderAxisLabel:function(t,e,i,n){var o=n.getModel("label.normal");if(o.get("show")){var r=n.getData(),a=i.scale.getTicks(),s=f.getFormattedLabels(i,o.get("formatter")),c=i.getLabelInterval();w(a,function(n,o){if(!i.isLabelIgnored(o,c)){var a=r.getItemModel(o),h=a.getModel("label.normal.textStyle"),u=a.getModel("label.emphasis.textStyle"),d=i.dataToCoord(n),f=new l.Text({style:{text:s[o],textAlign:t.labelAlign,textVerticalAlign:t.labelBaseline,textFont:h.getFont(),fill:h.getTextColor()},position:[d,0],rotation:t.labelRotation-t.rotation,onclick:b(this._changeTimeline,this,o),silent:!1});e.add(f),l.setHoverStyle(f,u.getItemStyle())}},this)}},_renderControl:function(t,e,i,n){function r(t,i,r,d){if(t){var f={position:t,origin:[a/2,0],rotation:d?-s:0,rectHover:!0,style:c,onclick:r},p=o(n,i,u,f);e.add(p),l.setHoverStyle(p,h)}}var a=t.controlSize,s=t.rotation,c=n.getModel("controlStyle.normal").getItemStyle(),h=n.getModel("controlStyle.emphasis").getItemStyle(),u=[0,-a/2,a,a],d=n.getPlayState(),f=n.get("inverse",!0);r(t.nextBtnPosition,"controlStyle.nextIcon",b(this._changeTimeline,this,f?"-":"+")),r(t.prevBtnPosition,"controlStyle.prevIcon",b(this._changeTimeline,this,f?"+":"-")),r(t.playPosition,"controlStyle."+(d?"stopIcon":"playIcon"),b(this._handlePlayClick,this,!d),!0)},_renderCurrentPointer:function(t,e,i,n){var o=n.getData(),s=n.getCurrentIndex(),l=o.getItemModel(s).getModel("checkpointStyle"),c=this,h={onCreate:function(t){t.draggable=!0,t.drift=b(c._handlePointerDrag,c),t.ondragend=b(c._handlePointerDragend,c),a(t,s,i,n,!0)},onUpdate:function(t){a(t,s,i,n)}};this._currentPointer=r(l,l,this._mainGroup,{},this._currentPointer,h)},_handlePlayClick:function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},_handlePointerDrag:function(t,e,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},_handlePointerDragend:function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},_pointerChangeTimeline:function(t,e){var i=this._toAxisCoord(t)[0],n=this._axis,o=m.asc(n.getExtent().slice());i>o[1]&&(i=o[1]),i<o[0]&&(i=o[0]),this._currentPointer.position[0]=i,this._currentPointer.dirty();var r=this._findNearestTick(i),a=this.model;(e||r!==a.getCurrentIndex()&&a.get("realtime"))&&this._changeTimeline(r)},_doPlayStop:function(){function t(){var t=this.model;this._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))}this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(b(t,this),this.model.get("playInterval")))},_toAxisCoord:function(t){var e=this._mainGroup.getLocalTransform();return l.applyTransform(t,e,!0)},_findNearestTick:function(t){var e,i=this.model.getData(),n=1/0,o=this._axis;return i.each(["value"],function(i,r){var a=o.dataToCoord(i),s=Math.abs(a-t);n>s&&(n=s,e=r)}),e},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})}})},function(t,e,i){var n=i(28);t.exports=n.extend({type:"timeline"})},function(t,e,i){var n=i(3),o=i(117),r=i(108),a=function(t,e,i,n){o.call(this,t,e,i),this.type=n||"value",this._autoLabelInterval,this.model=null};a.prototype={constructor:a,getLabelInterval:function(){var t=this.model,e=t.getModel("label.normal"),i=e.get("interval");if(null!=i&&"auto"!=i)return i;var i=this._autoLabelInterval;return i||(i=this._autoLabelInterval=r.getAxisLabelInterval(n.map(this.scale.getTicks(),this.dataToCoord,this),r.getFormattedLabels(this,e.get("formatter")),e.getModel("textStyle").getFont(),"horizontal"===t.get("orient"))),i},isLabelIgnored:function(t){if("category"===this.type){var e=this.getLabelInterval();return"function"==typeof e&&!e(t,this.scale.getLabel(t))||t%(e+1)}}},n.inherits(a,o),t.exports=a},function(t,e,i){i(332),i(334),i(336),i(337),i(338),i(339),i(344)},function(t,e,i){var n=i(333),o=i(3),r=i(1).extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(t){r.superApply(this,"mergeDefaultAndTheme",arguments),o.each(this.option.feature,function(t,e){var i=n.get(e);i&&o.merge(t,i.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});t.exports=r},function(t,e){"use strict";var i={};t.exports={register:function(t,e){i[t]=e},get:function(t){return i[t]}}},function(t,e,i){(function(e){function n(t){return 0===t.indexOf("my")}var o=i(333),r=i(3),a=i(42),s=i(8),l=i(95),c=i(266),h=i(14);t.exports=i(1).extendComponentView({type:"toolbox",render:function(t,e,i){function u(r,a){var l,c=v[r],h=v[a],u=g[c],f=new s(u,t,t.ecModel);if(c&&!h){if(n(c))l={model:f,onclick:f.option.onclick,featureName:c};else{var p=o.get(c);if(!p)return;l=new p(f)}m[c]=l}else{if(l=m[h],!l)return;l.model=f}return!c&&h?void(l.dispose&&l.dispose(e,i)):!f.get("show")||l.unusable?void(l.remove&&l.remove(e,i)):(d(f,l,c),f.setIconStatus=function(t,e){var i=this.option,n=this.iconPaths;i.iconStatus=i.iconStatus||{},i.iconStatus[t]=e,n[t]&&n[t].trigger(e)},void(l.render&&l.render(f,e,i)))}function d(n,o,s){var l=n.getModel("iconStyle"),c=o.getIcons?o.getIcons():n.get("icon"),h=n.get("title")||{};if("string"==typeof c){var u=c,d=h;c={},h={},c[s]=u,h[s]=d}var g=n.iconPaths={};r.each(c,function(s,c){var u=l.getModel("normal").getItemStyle(),d=l.getModel("emphasis").getItemStyle(),m={x:-p/2,y:-p/2,width:p,height:p},v=0===s.indexOf("image://")?(m.image=s.slice(8),new a.Image({style:m})):a.makePath(s.replace("path://",""),{style:u,hoverStyle:d,rectHover:!0},m,"center");a.setHoverStyle(v),t.get("showTitle")&&(v.__title=h[c],v.on("mouseover",function(){v.setStyle({text:h[c],textPosition:d.textPosition||"bottom",textFill:d.fill||d.stroke||"#000",textAlign:d.textAlign||"center"})}).on("mouseout",function(){v.setStyle({textFill:null})})),v.trigger(n.get("iconStatus."+c)||"normal"),f.add(v),v.on("click",r.bind(o.onclick,o,e,i,c)),g[c]=v})}var f=this.group;if(f.removeAll(),t.get("show")){var p=+t.get("itemSize"),g=t.get("feature")||{},m=this._features||(this._features={}),v=[];r.each(g,function(t,e){v.push(e)}),new l(this._featureNames||[],v).add(u).update(u).remove(r.curry(u,null)).execute(),this._featureNames=v,c.layout(f,t,i),c.addBackground(f,t),f.eachChild(function(t){var e=t.__title,n=t.hoverStyle;if(n&&e){var o=h.getBoundingRect(e,n.font),r=t.position[0]+f.position[0],a=t.position[1]+f.position[1]+p,s=!1;
a+o.height>i.getHeight()&&(n.textPosition="top",s=!0);var l=s?-5-o.height:p+8;r+o.width/2>i.getWidth()?(n.textPosition=["100%",l],n.textAlign="right"):r-o.width/2<0&&(n.textPosition=[0,l],n.textAlign="left")}})}},remove:function(t,e){r.each(this._features,function(i){i.remove&&i.remove(t,e)}),this.group.removeAll()},dispose:function(t,e){r.each(this._features,function(i){i.dispose&&i.dispose(t,e)})}})}).call(e,i(335))},function(t,e){function i(){c=!1,a.length?l=a.concat(l):h=-1,l.length&&n()}function n(){if(!c){var t=setTimeout(i);c=!0;for(var e=l.length;e;){for(a=l,l=[];++h<e;)a&&a[h].run();h=-1,e=l.length}a=null,c=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function r(){}var a,s=t.exports={},l=[],c=!1,h=-1;s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];l.push(new o(t,e)),1!==l.length||c||setTimeout(n,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=r,s.addListener=r,s.once=r,s.off=r,s.removeListener=r,s.removeAllListeners=r,s.emit=r,s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e,i){function n(t){this.model=t}var o=i(78);n.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:"保存为图片",type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:["右键另存为图片"]},n.prototype.unusable=!o.canvasSupported;var r=n.prototype;r.onclick=function(t,e){var i=this.model,n=i.get("name")||t.get("title.0.text")||"echarts",o=document.createElement("a"),r=i.get("type",!0)||"png";o.download=n+"."+r,o.target="_blank";var a=e.getConnectedDataURL({type:r,backgroundColor:i.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")});if(o.href=a,"function"==typeof MouseEvent){var s=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});o.dispatchEvent(s)}else{var l=i.get("lang"),c='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(l&&l[0]||"")+'" /></body>',h=window.open();h.document.write(c)}},i(333).register("saveAsImage",n),t.exports=n},function(t,e,i){"use strict";function n(t){this.model=t}var o=i(3);n.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"},option:{},seriesIndex:{}};var r=n.prototype;r.getIcons=function(){var t=this.model,e=t.get("icon"),i={};return o.each(t.get("type"),function(t){e[t]&&(i[t]=e[t])}),i};var a={line:function(t,e,i,n){return"bar"===t?o.merge({id:e,type:"line",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},n.get("option.line")||{},!0):void 0},bar:function(t,e,i,n){return"line"===t?o.merge({id:e,type:"bar",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},n.get("option.bar")||{},!0):void 0},stack:function(t,e,i,n){return"line"===t||"bar"===t?o.merge({id:e,stack:"__ec_magicType_stack__"},n.get("option.stack")||{},!0):void 0},tiled:function(t,e,i,n){return"line"===t||"bar"===t?o.merge({id:e,stack:""},n.get("option.tiled")||{},!0):void 0}},s=[["line","bar"],["stack","tiled"]];r.onclick=function(t,e,i){var n=this.model,r=n.get("seriesIndex."+i);if(a[i]){var l={series:[]},c=function(t){var e=t.subType,r=t.id,s=a[i](e,r,t,n);s&&(o.defaults(s,t.option),l.series.push(s));var c=t.coordinateSystem;if(c&&"cartesian2d"===c.type&&("line"===i||"bar"===i)){var h=c.getAxesByScale("ordinal")[0];if(h){var u=h.dim,d=t.get(u+"AxisIndex"),f=u+"Axis";l[f]=l[f]||[];for(var p=0;d>=p;p++)l[f][d]=l[f][d]||{};l[f][d].boundaryGap="bar"===i}}};o.each(s,function(t){o.indexOf(t,i)>=0&&o.each(t,function(t){n.setIconStatus(t,"normal")})}),n.setIconStatus(i,"emphasis"),t.eachComponent({mainType:"series",query:null==r?null:{seriesIndex:r}},c),e.dispatchAction({type:"changeMagicType",currentType:i,newOption:l})}};var l=i(1);l.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)}),i(333).register("magicType",n),t.exports=n},function(t,e,i){function n(t){var e={},i=[],n=[];return t.eachRawSeries(function(t){var o=t.coordinateSystem;if(!o||"cartesian2d"!==o.type&&"polar"!==o.type)i.push(t);else{var r=o.getBaseAxis();if("category"===r.type){var a=r.dim+"_"+r.index;e[a]||(e[a]={categoryAxis:r,valueAxis:o.getOtherAxis(r),series:[]},n.push({axisDim:r.dim,axisIndex:r.index})),e[a].series.push(t)}else i.push(t)}}),{seriesGroupByCategoryAxis:e,other:i,meta:n}}function o(t){var e=[];return p.each(t,function(t,i){var n=t.categoryAxis,o=t.valueAxis,r=o.dim,a=[" "].concat(p.map(t.series,function(t){return t.name})),s=[n.model.getCategories()];p.each(t.series,function(t){s.push(t.getRawData().mapArray(r,function(t){return t}))});for(var l=[a.join(v)],c=0;c<s[0].length;c++){for(var h=[],u=0;u<s.length;u++)h.push(s[u][c]);l.push(h.join(v))}e.push(l.join("\n"))}),e.join("\n\n"+m+"\n\n")}function r(t){return p.map(t,function(t){var e=t.getRawData(),i=[t.name],n=[];return e.each(e.dimensions,function(){for(var t=arguments.length,o=arguments[t-1],r=e.getName(o),a=0;t-1>a;a++)n[a]=arguments[a];i.push((r?r+v:"")+n.join(v))}),i.join("\n")}).join("\n\n"+m+"\n\n")}function a(t){var e=n(t);return{value:p.filter([o(e.seriesGroupByCategoryAxis),r(e.other)],function(t){return t.replace(/[\n\t\s]/g,"")}).join("\n\n"+m+"\n\n"),meta:e.meta}}function s(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function l(t){var e=t.slice(0,t.indexOf("\n"));return e.indexOf(v)>=0?!0:void 0}function c(t){for(var e=t.split(/\n+/g),i=s(e.shift()).split(y),n=[],o=p.map(i,function(t){return{name:t,data:[]}}),r=0;r<e.length;r++){var a=s(e[r]).split(y);n.push(a.shift());for(var l=0;l<a.length;l++)o[l]&&(o[l].data[r]=a[l])}return{series:o,categories:n}}function h(t){for(var e=t.split(/\n+/g),i=s(e.shift()),n=[],o=0;o<e.length;o++){var r,a=s(e[o]).split(y),l="",c=!1;isNaN(a[0])?(c=!0,l=a[0],a=a.slice(1),n[o]={name:l,value:[]},r=n[o].value):r=n[o]=[];for(var h=0;h<a.length;h++)r.push(+a[h]);1===r.length&&(c?n[o].value=r[0]:n[o]=r[0])}return{name:i,data:n}}function u(t,e){var i=t.split(new RegExp("\n*"+m+"\n*","g")),n={series:[]};return p.each(i,function(t,i){if(l(t)){var o=c(t),r=e[i],a=r.axisDim+"Axis";r&&(n[a]=n[a]||[],n[a][r.axisIndex]={data:o.categories},n.series=n.series.concat(o.series))}else{var o=h(t);n.series.push(o)}}),n}function d(t){this._dom=null,this.model=t}function f(t,e){return p.map(t,function(t,i){var n=e&&e[i];return p.isObject(n)&&!p.isArray(n)?(p.isObject(t)&&!p.isArray(t)&&(t=t.value),p.defaults({value:t},n)):t})}var p=i(3),g=i(80),m=new Array(60).join("-"),v="	",y=new RegExp("["+v+"]+","g");d.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:"数据视图",lang:["数据视图","关闭","刷新"],backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},d.prototype.onclick=function(t,e){function i(){n.removeChild(r),S._dom=null}var n=e.getDom(),o=this.model;this._dom&&n.removeChild(this._dom);var r=document.createElement("div");r.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",r.style.backgroundColor=o.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=o.get("lang")||[];s.innerHTML=l[0]||o.get("title"),s.style.cssText="margin: 10px 20px;",s.style.color=o.get("textColor");var c=document.createElement("div"),h=document.createElement("textarea");c.style.cssText="display:block;width:100%;overflow:hidden;";var d=o.get("optionToContent"),f=o.get("contentToOption"),m=a(t);if("function"==typeof d){var y=d(e.getOption());"string"==typeof y?c.innerHTML=y:p.isDom(y)&&c.appendChild(y)}else c.appendChild(h),h.readOnly=o.get("readOnly"),h.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",h.style.color=o.get("textColor"),h.style.borderColor=o.get("textareaBorderColor"),h.style.backgroundColor=o.get("textareaColor"),h.value=m.value;var x=m.meta,b=document.createElement("div");b.style.cssText="position:absolute;bottom:0;left:0;right:0;";var w="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",_=document.createElement("div"),T=document.createElement("div");w+=";background-color:"+o.get("buttonColor"),w+=";color:"+o.get("buttonTextColor");var S=this;g.addEventListener(_,"click",i),g.addEventListener(T,"click",function(){var t;try{t="function"==typeof f?f(c,e.getOption()):u(h.value,x)}catch(n){throw i(),new Error("Data view format error "+n)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),i()}),_.innerHTML=l[1],T.innerHTML=l[2],T.style.cssText=w,_.style.cssText=w,!o.get("readOnly")&&b.appendChild(T),b.appendChild(_),g.addEventListener(h,"keydown",function(t){if(9===(t.keyCode||t.which)){var e=this.value,i=this.selectionStart,n=this.selectionEnd;this.value=e.substring(0,i)+v+e.substring(n),this.selectionStart=this.selectionEnd=i+1,g.stop(t)}}),r.appendChild(s),r.appendChild(c),r.appendChild(b),c.style.height=n.clientHeight-80+"px",n.appendChild(r),this._dom=r},d.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},d.prototype.dispose=function(t,e){this.remove(t,e)},i(333).register("dataView",d),i(1).registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var i=[];p.each(t.newOption.series,function(t){var n=e.getSeriesByName(t.name)[0];if(n){var o=n.get("data");i.push({name:t.name,data:f(t.data,o)})}else i.push(p.extend({type:"scatter"},t))}),e.mergeOption(p.defaults({series:i},t.newOption))}),t.exports=d},function(t,e,i){"use strict";function n(t){this.model=t,this._controllerGroup,this._controller,this._isZoomActive}function o(t,e){var i=[{axisModel:t.getAxis("x").model,axisIndex:0},{axisModel:t.getAxis("y").model,axisIndex:0}];return i.grid=t,e.eachComponent({mainType:"dataZoom",subType:"select"},function(t,n){r("xAxis",i[0].axisModel,t,e)&&(i[0].dataZoomModel=t),r("yAxis",i[1].axisModel,t,e)&&(i[1].dataZoomModel=t)}),i}function r(t,e,i,n){var o=i.get(t+"Index");return null!=o&&n.getComponent(t,o)===e}function a(t,e){var i=e.grid,n=new d(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0]);if(n.intersect(i.getRect())){var o=i.getCartesian(e[0].axisIndex,e[1].axisIndex),r=o.pointToData([t[0][0],t[1][0]],!0),a=o.pointToData([t[0][1],t[1][1]],!0);return[v([r[0],a[0]]),v([r[1],a[1]])]}}function s(t,e,i,n){var o=e[i],r=o.dataZoomModel;return r?{dataZoomId:r.id,startValue:t[i][0],endValue:t[i][1]}:void 0}function l(t,e){t.setIconStatus("back",p.count(e)>1?"emphasis":"normal")}var c=i(3),h=i(7),u=i(225),d=i(15),f=i(29),p=i(340),g=i(160),m=c.each,v=h.asc;i(341);var y="\x00_ec_\x00toolbox-dataZoom_";n.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:{zoom:"区域缩放",back:"区域缩放还原"}};var x=n.prototype;x.render=function(t,e,i){l(t,e)},x.onclick=function(t,e,i){var n=this._controllerGroup;this._controllerGroup||(n=this._controllerGroup=new f,e.getZr().add(n)),b[i].call(this,n,this.model,t,e)},x.remove=function(t,e){this._disposeController(),g.release("globalPan",e.getZr())},x.dispose=function(t,e){var i=e.getZr();g.release("globalPan",i),this._disposeController(),this._controllerGroup&&i.remove(this._controllerGroup)};var b={zoom:function(t,e,i,n){var o=this._isZoomActive=!this._isZoomActive,r=n.getZr();g[o?"take":"release"]("globalPan",r),e.setIconStatus("zoom",o?"emphasis":"normal"),o?(r.setDefaultCursorStyle("crosshair"),this._createController(t,e,i,n)):(r.setDefaultCursorStyle("default"),this._disposeController())},back:function(t,e,i,n){this._dispatchAction(p.pop(i),n)}};x._createController=function(t,e,i,n){var o=this._controller=new u("rect",n.getZr(),{lineWidth:3,stroke:"#333",fill:"rgba(0,0,0,0.2)"});o.on("selectEnd",c.bind(this._onSelected,this,o,e,i,n)),o.enable(t,!1)},x._disposeController=function(){var t=this._controller;t&&(t.off("selected"),t.dispose())},x._onSelected=function(t,e,i,n,r){if(r.length){var l=r[0];t.update();var c={};i.eachComponent("grid",function(t,e){var n=t.coordinateSystem,r=o(n,i),h=a(l,r);if(h){var u=s(h,r,0,"x"),d=s(h,r,1,"y");u&&(c[u.dataZoomId]=u),d&&(c[d.dataZoomId]=d)}},this),p.push(i,c),this._dispatchAction(c,n)}},x._dispatchAction=function(t,e){var i=[];m(t,function(t){i.push(t)}),i.length&&e.dispatchAction({type:"dataZoom",from:this.uid,batch:c.clone(i,!0)})},i(333).register("dataZoom",n),i(1).registerPreprocessor(function(t){function e(t,e){if(e){var o=t+"Index",r=e[o];null==r||c.isArray(r)||(r=r===!1?[]:[r]),i(t,function(e,i){if(null==r||-1!==c.indexOf(r,i)){var a={type:"select",$fromToolbox:!0,id:y+t+i};a[o]=i,n.push(a)}})}}function i(e,i){var n=t[e];c.isArray(n)||(n=n?[n]:[]),m(n,i)}if(t){var n=t.dataZoom||(t.dataZoom=[]);c.isArray(n)||(n=[n]);var o=t.toolbox;if(o&&(c.isArray(o)&&(o=o[0]),o&&o.feature)){var r=o.feature.dataZoom;e("xAxis",r),e("yAxis",r)}}}),t.exports=n},function(t,e,i){function n(t){var e=t[a];return e||(e=t[a]=[{}]),e}var o=i(3),r=o.each,a="\x00_ec_hist_store",s={push:function(t,e){var i=n(t);r(e,function(e,n){for(var o=i.length-1;o>=0;o--){var r=i[o];if(r[n])break}if(0>o){var a=t.queryComponents({mainType:"dataZoom",subType:"select",id:n})[0];if(a){var s=a.getPercentRange();i[0][n]={dataZoomId:n,start:s[0],end:s[1]}}}}),i.push(e)},pop:function(t){var e=n(t),i=e[e.length-1];e.length>1&&e.pop();var o={};return r(i,function(t,i){for(var n=e.length-1;n>=0;n--){var t=e[n][i];if(t){o[i]=t;break}}}),o},clear:function(t){t[a]=null},count:function(t){return n(t).length}};t.exports=s},function(t,e,i){i(287),i(288),i(290),i(342),i(343),i(298),i(299)},function(t,e,i){var n=i(288);t.exports=n.extend({type:"dataZoom.select"})},function(t,e,i){t.exports=i(290).extend({type:"dataZoom.select"})},function(t,e,i){"use strict";function n(t){this.model=t}var o=i(340);n.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:"还原"};var r=n.prototype;r.onclick=function(t,e,i){o.clear(t),e.dispatchAction({type:"restore",from:this.uid})},i(333).register("restore",n),i(1).registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")}),t.exports=n},function(t,e,i){i(346),i(77).registerPainter("vml",i(348))},function(t,e,i){if(!i(78).canvasSupported){var n=i(16),o=i(15),r=i(48).CMD,a=i(38),s=i(14),l=i(47),c=i(45),h=i(59),u=i(62),d=i(44),f=i(4),p=i(347),g=Math.round,m=Math.sqrt,v=Math.abs,y=Math.cos,x=Math.sin,b=Math.max,w=n.applyTransform,_=",",T="progid:DXImageTransform.Microsoft",S=21600,C=S/2,k=1e5,M=1e3,A=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=S+","+S,t.coordorigin="0,0"},D=function(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},I=function(t,e,i){return"rgb("+[t,e,i].join(",")+")"},L=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},P=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},N=function(t,e,i){return(parseFloat(t)||0)*k+(parseFloat(e)||0)*M+i},E=function(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t},R=function(t,e,i){var n=a.parse(e);i=+i,isNaN(i)&&(i=1),n&&(t.color=I(n[0],n[1],n[2]),t.opacity=i*n[3])},O=function(t){var e=a.parse(t);return[I(e[0],e[1],e[2]),e[3]]},z=function(t,e,i){var n=e.fill;if(null!=n)if(n instanceof f){var o,r=0,a=[0,0],s=0,l=1,c=i.getBoundingRect(),h=c.width,u=c.height;if("linear"===n.type){o="gradient";var d=i.transform,p=[n.x*h,n.y*u],g=[n.x2*h,n.y2*u];d&&(w(p,p,d),w(g,g,d));var m=g[0]-p[0],v=g[1]-p[1];r=180*Math.atan2(m,v)/Math.PI,0>r&&(r+=360),1e-6>r&&(r=0)}else{o="gradientradial";var p=[n.x*h,n.y*u],d=i.transform,y=i.scale,x=h,_=u;a=[(p[0]-c.x)/x,(p[1]-c.y)/_],d&&w(p,p,d),x/=y[0]*S,_/=y[1]*S;var T=b(x,_);s=0/T,l=2*n.r/T-s}var C=n.colorStops.slice();C.sort(function(t,e){return t.offset-e.offset});for(var k=C.length,M=[],A=[],D=0;k>D;D++){var I=C[D],L=O(I.color);A.push(I.offset*l+s+" "+L[0]),0!==D&&D!==k-1||M.push(L)}if(k>=2){var P=M[0][0],N=M[1][0],E=M[0][1]*e.opacity,z=M[1][1]*e.opacity;t.type=o,t.method="none",t.focus="100%",t.angle=r,t.color=P,t.color2=N,t.colors=A.join(","),t.opacity=z,t.opacity2=E}"radial"===o&&(t.focusposition=a.join(","))}else R(t,n,e.opacity)},V=function(t,e){null!=e.lineJoin&&(t.joinstyle=e.lineJoin),null!=e.miterLimit&&(t.miterlimit=e.miterLimit*S),null!=e.lineCap&&(t.endcap=e.lineCap),null!=e.lineDash&&(t.dashstyle=e.lineDash.join(" ")),null==e.stroke||e.stroke instanceof f||R(t,e.stroke,e.opacity)},F=function(t,e,i,n){var o="fill"==e,r=t.getElementsByTagName(e)[0];null!=i[e]&&"none"!==i[e]&&(o||!o&&i.lineWidth)?(t[o?"filled":"stroked"]="true",i[e]instanceof f&&P(t,r),r||(r=p.createNode(e)),o?z(r,i,n):V(r,i),L(t,r)):(t[o?"filled":"stroked"]="false",P(t,r))},B=[[],[],[]],H=function(t,e){var i,n,o,a,s,l,c=r.M,h=r.C,u=r.L,d=r.A,f=r.Q,p=[];for(a=0;a<t.length;){switch(o=t[a++],n="",i=0,o){case c:n=" m ",i=1,s=t[a++],l=t[a++],B[0][0]=s,B[0][1]=l;break;case u:n=" l ",i=1,s=t[a++],l=t[a++],B[0][0]=s,B[0][1]=l;break;case f:case h:n=" c ",i=3;var v,b,T=t[a++],k=t[a++],M=t[a++],A=t[a++];o===f?(v=M,b=A,M=(M+2*T)/3,A=(A+2*k)/3,T=(s+2*T)/3,k=(l+2*k)/3):(v=t[a++],b=t[a++]),B[0][0]=T,B[0][1]=k,B[1][0]=M,B[1][1]=A,B[2][0]=v,B[2][1]=b,s=v,l=b;break;case d:var D=0,I=0,L=1,P=1,N=0;e&&(D=e[4],I=e[5],L=m(e[0]*e[0]+e[1]*e[1]),P=m(e[2]*e[2]+e[3]*e[3]),N=Math.atan2(-e[1]/P,e[0]/L));var E=t[a++],R=t[a++],O=t[a++],z=t[a++],V=t[a++]+N,F=t[a++]+V+N;a++;var H=t[a++],$=E+y(V)*O,U=R+x(V)*z,T=E+y(F)*O,k=R+x(F)*z,j=H?" wa ":" at ";Math.abs($-T)<1e-10&&H&&($+=270/S),p.push(j,g(((E-O)*L+D)*S-C),_,g(((R-z)*P+I)*S-C),_,g(((E+O)*L+D)*S-C),_,g(((R+z)*P+I)*S-C),_,g(($*L+D)*S-C),_,g((U*P+I)*S-C),_,g((T*L+D)*S-C),_,g((k*P+I)*S-C)),s=T,l=k;break;case r.R:var W=B[0],G=B[1];W[0]=t[a++],W[1]=t[a++],G[0]=W[0]+t[a++],G[1]=W[1]+t[a++],e&&(w(W,W,e),w(G,G,e)),W[0]=g(W[0]*S-C),G[0]=g(G[0]*S-C),W[1]=g(W[1]*S-C),G[1]=g(G[1]*S-C),p.push(" m ",W[0],_,W[1]," l ",G[0],_,W[1]," l ",G[0],_,G[1]," l ",W[0],_,G[1]);break;case r.Z:p.push(" x ")}if(i>0){p.push(n);for(var q=0;i>q;q++){var Z=B[q];e&&w(Z,Z,e),p.push(g(Z[0]*S-C),_,g(Z[1]*S-C),i-1>q?_:"")}}}return p.join("")};d.prototype.brushVML=function(t){var e=this.style,i=this._vmlEl;i||(i=p.createNode("shape"),A(i),this._vmlEl=i),F(i,"fill",e,this),F(i,"stroke",e,this);var n=this.transform,o=null!=n,r=i.getElementsByTagName("stroke")[0];if(r){var a=e.lineWidth;if(o&&!e.strokeNoScale){var s=n[0]*n[3]-n[1]*n[2];a*=m(v(s))}r.weight=a+"px"}var l=this.path;this.__dirtyPath&&(l.beginPath(),this.buildPath(l,this.shape),this.__dirtyPath=!1),i.path=H(l.data,this.transform),i.style.zIndex=N(this.zlevel,this.z,this.z2),L(t,i),e.text&&this.drawRectText(t,this.getBoundingRect())},d.prototype.onRemove=function(t){P(t,this._vmlEl),this.removeRectText(t)},d.prototype.onAdd=function(t){L(t,this._vmlEl),this.appendRectText(t)};var $=function(t){return"object"==typeof t&&t.tagName&&"IMG"===t.tagName.toUpperCase()};h.prototype.brushVML=function(t){var e,i,n=this.style,o=n.image;if($(o)){var r=o.src;if(r===this._imageSrc)e=this._imageWidth,i=this._imageHeight;else{var a=o.runtimeStyle,s=a.width,l=a.height;a.width="auto",a.height="auto",e=o.width,i=o.height,a.width=s,a.height=l,this._imageSrc=r,this._imageWidth=e,this._imageHeight=i}o=r}else o===this._imageSrc&&(e=this._imageWidth,i=this._imageHeight);if(o){var c=n.x||0,h=n.y||0,u=n.width,d=n.height,f=n.sWidth,v=n.sHeight,y=n.sx||0,x=n.sy||0,S=f&&v,C=this._vmlEl;C||(C=p.doc.createElement("div"),A(C),this._vmlEl=C);var k,M=C.style,D=!1,I=1,P=1;if(this.transform&&(k=this.transform,I=m(k[0]*k[0]+k[1]*k[1]),P=m(k[2]*k[2]+k[3]*k[3]),D=k[1]||k[2]),D){var E=[c,h],R=[c+u,h],O=[c,h+d],z=[c+u,h+d];w(E,E,k),w(R,R,k),w(O,O,k),w(z,z,k);var V=b(E[0],R[0],O[0],z[0]),F=b(E[1],R[1],O[1],z[1]),B=[];B.push("M11=",k[0]/I,_,"M12=",k[2]/P,_,"M21=",k[1]/I,_,"M22=",k[3]/P,_,"Dx=",g(c*I+k[4]),_,"Dy=",g(h*P+k[5])),M.padding="0 "+g(V)+"px "+g(F)+"px 0",M.filter=T+".Matrix("+B.join("")+", SizingMethod=clip)"}else k&&(c=c*I+k[4],h=h*P+k[5]),M.filter="",M.left=g(c)+"px",M.top=g(h)+"px";var H=this._imageEl,U=this._cropEl;H||(H=p.doc.createElement("div"),this._imageEl=H);var j=H.style;if(S){if(e&&i)j.width=g(I*e*u/f)+"px",j.height=g(P*i*d/v)+"px";else{var W=new Image,G=this;W.onload=function(){W.onload=null,e=W.width,i=W.height,j.width=g(I*e*u/f)+"px",j.height=g(P*i*d/v)+"px",G._imageWidth=e,G._imageHeight=i,G._imageSrc=o},W.src=o}U||(U=p.doc.createElement("div"),U.style.overflow="hidden",this._cropEl=U);var q=U.style;q.width=g((u+y*u/f)*I),q.height=g((d+x*d/v)*P),q.filter=T+".Matrix(Dx="+-y*u/f*I+",Dy="+-x*d/v*P+")",U.parentNode||C.appendChild(U),H.parentNode!=U&&U.appendChild(H)}else j.width=g(I*u)+"px",j.height=g(P*d)+"px",C.appendChild(H),U&&U.parentNode&&(C.removeChild(U),this._cropEl=null);var Z="",Y=n.opacity;1>Y&&(Z+=".Alpha(opacity="+g(100*Y)+") "),Z+=T+".AlphaImageLoader(src="+o+", SizingMethod=scale)",j.filter=Z,C.style.zIndex=N(this.zlevel,this.z,this.z2),L(t,C),n.text&&this.drawRectText(t,this.getBoundingRect())}},h.prototype.onRemove=function(t){P(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},h.prototype.onAdd=function(t){L(t,this._vmlEl),this.appendRectText(t)};var U,j="normal",W={},G=0,q=100,Z=document.createElement("div"),Y=function(t){var e=W[t];if(!e){G>q&&(G=0,W={});var i,n=Z.style;try{n.font=t,i=n.fontFamily.split(",")[0]}catch(o){}e={style:n.fontStyle||j,variant:n.fontVariant||j,weight:n.fontWeight||j,size:0|parseFloat(n.fontSize||12),family:i||"Microsoft YaHei"},W[t]=e,G++}return e};s.measureText=function(t,e){var i=p.doc;U||(U=i.createElement("div"),U.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",p.doc.body.appendChild(U));try{U.style.font=e}catch(n){}return U.innerHTML="",U.appendChild(i.createTextNode(t)),{width:U.offsetWidth}};for(var X=new o,K=function(t,e,i,n){var o=this.style,r=o.text;if(r){var a,l,c=o.textAlign,h=Y(o.textFont),u=h.style+" "+h.variant+" "+h.weight+" "+h.size+'px "'+h.family+'"',d=o.textBaseline,f=o.textVerticalAlign;i=i||s.getBoundingRect(r,u,c,d);var m=this.transform;if(m&&!n&&(X.copy(e),X.applyTransform(m),e=X),n)a=e.x,l=e.y;else{var v=o.textPosition,y=o.textDistance;if(v instanceof Array)a=e.x+E(v[0],e.width),l=e.y+E(v[1],e.height),c=c||"left",d=d||"top";else{var x=s.adjustTextPositionOnRect(v,e,i,y);a=x.x,l=x.y,c=c||x.textAlign,d=d||x.textBaseline}}if(f){switch(f){case"middle":l-=i.height/2;break;case"bottom":l-=i.height}d="top"}var b=h.size;switch(d){case"hanging":case"top":l+=b/1.75;break;case"middle":break;default:l-=b/2.25}switch(c){case"left":break;case"center":a-=i.width/2;break;case"right":a-=i.width}var T,S,C,k=p.createNode,M=this._textVmlEl;M?(C=M.firstChild,T=C.nextSibling,S=T.nextSibling):(M=k("line"),T=k("path"),S=k("textpath"),C=k("skew"),S.style["v-text-align"]="left",A(M),T.textpathok=!0,S.on=!0,M.from="0 0",M.to="1000 0.05",L(M,C),L(M,T),L(M,S),this._textVmlEl=M);var I=[a,l],P=M.style;m&&n?(w(I,I,m),C.on=!0,C.matrix=m[0].toFixed(3)+_+m[2].toFixed(3)+_+m[1].toFixed(3)+_+m[3].toFixed(3)+",0,0",C.offset=(g(I[0])||0)+","+(g(I[1])||0),C.origin="0 0",P.left="0px",P.top="0px"):(C.on=!1,P.left=g(a)+"px",P.top=g(l)+"px"),S.string=D(r);try{S.style.font=u}catch(R){}F(M,"fill",{fill:n?o.fill:o.textFill,opacity:o.opacity},this),F(M,"stroke",{stroke:n?o.stroke:o.textStroke,opacity:o.opacity,lineDash:o.lineDash},this),M.style.zIndex=N(this.zlevel,this.z,this.z2),L(t,M)}},Q=function(t){P(t,this._textVmlEl),this._textVmlEl=null},J=function(t){L(t,this._textVmlEl)},tt=[l,c,h,d,u],et=0;et<tt.length;et++){var it=tt[et].prototype;it.drawRectText=K,it.removeRectText=Q,it.appendRectText=J}u.prototype.brushVML=function(t){var e=this.style;e.text&&this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0)},u.prototype.onRemove=function(t){this.removeRectText(t)},u.prototype.onAdd=function(t){this.appendRectText(t)}}},function(t,e,i){if(!i(78).canvasSupported){var n,o="urn:schemas-microsoft-com:vml",r=window,a=r.document,s=!1;try{!a.namespaces.zrvml&&a.namespaces.add("zrvml",o),n=function(t){return a.createElement("<zrvml:"+t+' class="zrvml">')}}catch(l){n=function(t){return a.createElement("<"+t+' xmlns="'+o+'" class="zrvml">')}}var c=function(){if(!s){s=!0;var t=a.styleSheets;t.length<31?a.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)")}};t.exports={doc:a,initVML:c,createNode:n}}},function(t,e,i){function n(t){return parseInt(t,10)}function o(t,e){s.initVML(),this.root=t,this.storage=e;var i=document.createElement("div"),n=document.createElement("div");i.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",n.style.cssText="position:absolute;left:0;top:0;",t.appendChild(i),this._vmlRoot=n,this._vmlViewport=i,this.resize();var o=e.delFromMap,r=e.addToMap;e.delFromMap=function(t){var i=e.get(t);o.call(e,t),i&&i.onRemove&&i.onRemove(n)},e.addToMap=function(t){t.onAdd&&t.onAdd(n),r.call(e,t)},this._firstPaint=!0}function r(t){return function(){a('In IE8.0 VML mode painter not support method "'+t+'"')}}var a=i(39),s=i(347);o.prototype={constructor:o,getViewportRoot:function(){return this._vmlViewport},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,i=0;i<t.length;i++){var n=t[i];n.invisible||n.ignore?(n.__alreadyNotVisible||n.onRemove(e),n.__alreadyNotVisible=!0):(n.__alreadyNotVisible&&n.onAdd(e),n.__alreadyNotVisible=!1,n.__dirty&&(n.beforeBrush&&n.beforeBrush(),(n.brushVML||n.brush).call(n,e),n.afterBrush&&n.afterBrush())),n.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(){var t=this._getWidth(),e=this._getHeight();if(this._width!=t&&this._height!=e){this._width=t,this._height=e;var i=this._vmlViewport.style;i.width=t+"px",i.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||n(e.width))-n(e.paddingLeft)-n(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||n(e.height))-n(e.paddingTop)-n(e.paddingBottom)|0}};for(var l=["getLayer","insertLayer","eachLayer","eachBuildinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],c=0;c<l.length;c++){var h=l[c];o.prototype[h]=r(h)}t.exports=o}])}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(window.jQuery)}(function(t){"use strict";var e,i=function(){var e=function(t){return function(e){return t===e}},i=function(t,e){return t===e},n=function(t){return function(e,i){return e[t]===i[t]}},o=function(){return!0},r=function(){return!1},a=function(t){return function(){return!t.apply(t,arguments)}},s=function(t,e){return function(i){return t(i)&&e(i)}},l=function(t){return t},c=function(t,e){return function(){return t[e].apply(t,arguments)}},h=0,u=function(t){var e=++h+"";return t?t+e:e},d=function(e){var i=t(document);return{top:e.top+i.scrollTop(),left:e.left+i.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}},f=function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e},p=function(t,e){return e=e||"",e+t.split(".").map(function(t){return t.substring(0,1).toUpperCase()+t.substring(1)}).join("")};return{eq:e,eq2:i,peq2:n,ok:o,fail:r,self:l,not:a,and:s,invoke:c,uniqueId:u,rect2bnd:d,invertObject:f,namespaceToCamel:p}}(),n=function(){var e=function(t){return t[0]},n=function(t){return t[t.length-1]},o=function(t){return t.slice(0,t.length-1)},r=function(t){return t.slice(1)},a=function(t,e){for(var i=0,n=t.length;n>i;i++){var o=t[i];if(e(o))return o}},s=function(t,e){for(var i=0,n=t.length;n>i;i++)if(!e(t[i]))return!1;return!0},l=function(e,i){return t.inArray(i,e)},c=function(t,e){return-1!==l(t,e)},h=function(t,e){return e=e||i.self,t.reduce(function(t,i){return t+e(i)},0)},u=function(t){for(var e=[],i=-1,n=t.length;++i<n;)e[i]=t[i];return e},d=function(t){return!t||!t.length},f=function(t,i){if(!t.length)return[];var o=r(t);return o.reduce(function(t,e){var o=n(t);return i(n(o),e)?o[o.length]=e:t[t.length]=[e],t},[[e(t)]])},p=function(t){for(var e=[],i=0,n=t.length;n>i;i++)t[i]&&e.push(t[i]);return e},g=function(t){for(var e=[],i=0,n=t.length;n>i;i++)c(e,t[i])||e.push(t[i]);return e},m=function(t,e){var i=l(t,e);return-1===i?null:t[i+1]},v=function(t,e){var i=l(t,e);return-1===i?null:t[i-1]};return{head:e,last:n,initial:o,tail:r,prev:v,next:m,find:a,contains:c,all:s,sum:h,from:u,isEmpty:d,clusterBy:f,compact:p,unique:g}}(),o="function"==typeof define&&define.amd,r=function(e){var i="Comic Sans MS"===e?"Courier New":"Comic Sans MS",n=t("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),o=n.css("fontFamily",i).width(),r=n.css("fontFamily",e+","+i).width();return n.remove(),o!==r},a=navigator.userAgent,s=/MSIE|Trident/i.test(a);if(s){var l=/MSIE (\d+[.]\d+)/.exec(a);l&&(e=parseFloat(l[1])),l=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(a),l&&(e=parseFloat(l[1]))}var c=/Edge\/\d+/.test(a),h=!!window.CodeMirror;if(!h&&o&&require)if(require.hasOwnProperty("resolve"))try{require.resolve("codemirror"),h=!0}catch(u){h=!1}else require.hasOwnProperty("specified")&&(h=require.specified("codemirror"));var d={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:s,isEdge:c,isFF:!c&&/firefox/i.test(a),isPhantom:/PhantomJS/i.test(a),isWebkit:!c&&/webkit/i.test(a),isChrome:!c&&/chrome/i.test(a),isSafari:!c&&/safari/i.test(a),browserVersion:e,jqueryVersion:parseFloat(t.fn.jquery),isSupportAmd:o,hasCodeMirror:h,isFontInstalled:r,isW3CRangeSupport:!!document.createRange},f=String.fromCharCode(160),p="\ufeff",g=function(){var e=function(e){return e&&t(e).hasClass("note-editable")},o=function(e){return e&&t(e).hasClass("note-control-sizing")},r=function(t){return t=t.toUpperCase(),function(e){return e&&e.nodeName.toUpperCase()===t}},a=function(t){return t&&3===t.nodeType},s=function(t){return t&&1===t.nodeType},l=function(t){return t&&/^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(t.nodeName.toUpperCase())},c=function(t){return e(t)?!1:t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase())},h=function(t){return t&&/^H[1-7]/.test(t.nodeName.toUpperCase())},u=r("PRE"),m=r("LI"),v=function(t){return c(t)&&!m(t)},y=r("TABLE"),x=function(t){return!(S(t)||b(t)||w(t)||c(t)||y(t)||T(t))},b=function(t){return t&&/^UL|^OL/.test(t.nodeName.toUpperCase())},w=r("HR"),_=function(t){return t&&/^TD|^TH/.test(t.nodeName.toUpperCase());
},T=r("BLOCKQUOTE"),S=function(t){return _(t)||T(t)||e(t)},C=r("A"),k=function(t){return x(t)&&!!R(t,c)},M=function(t){return x(t)&&!R(t,c)},A=r("BODY"),D=function(t,e){return t.nextSibling===e||t.previousSibling===e},I=function(t,e){e=e||i.ok;var n=[];return t.previousSibling&&e(t.previousSibling)&&n.push(t.previousSibling),n.push(t),t.nextSibling&&e(t.nextSibling)&&n.push(t.nextSibling),n},L=d.isMSIE&&d.browserVersion<11?"&nbsp;":"<br>",P=function(t){return a(t)?t.nodeValue.length:t.childNodes.length},N=function(t){var e=P(t);return 0===e?!0:a(t)||1!==e||t.innerHTML!==L?!(!n.all(t.childNodes,a)||""!==t.innerHTML):!0},E=function(t){l(t)||P(t)||(t.innerHTML=L)},R=function(t,i){for(;t;){if(i(t))return t;if(e(t))break;t=t.parentNode}return null},O=function(t,i){for(t=t.parentNode;t&&1===P(t);){if(i(t))return t;if(e(t))break;t=t.parentNode}return null},z=function(t,n){n=n||i.fail;var o=[];return R(t,function(t){return e(t)||o.push(t),n(t)}),o},V=function(t,e){var i=z(t);return n.last(i.filter(e))},F=function(e,i){for(var n=z(e),o=i;o;o=o.parentNode)if(t.inArray(o,n)>-1)return o;return null},B=function(t,e){e=e||i.fail;for(var n=[];t&&!e(t);)n.push(t),t=t.previousSibling;return n},H=function(t,e){e=e||i.fail;for(var n=[];t&&!e(t);)n.push(t),t=t.nextSibling;return n},$=function(t,e){var n=[];return e=e||i.ok,function o(i){t!==i&&e(i)&&n.push(i);for(var r=0,a=i.childNodes.length;a>r;r++)o(i.childNodes[r])}(t),n},U=function(e,i){var n=e.parentNode,o=t("<"+i+">")[0];return n.insertBefore(o,e),o.appendChild(e),o},j=function(t,e){var i=e.nextSibling,n=e.parentNode;return i?n.insertBefore(t,i):n.appendChild(t),t},W=function(e,i){return t.each(i,function(t,i){e.appendChild(i)}),e},G=function(t){return 0===t.offset},q=function(t){return t.offset===P(t.node)},Z=function(t){return G(t)||q(t)},Y=function(t,e){for(;t&&t!==e;){if(0!==J(t))return!1;t=t.parentNode}return!0},X=function(t,e){for(;t&&t!==e;){if(J(t)!==P(t.parentNode)-1)return!1;t=t.parentNode}return!0},K=function(t,e){return G(t)&&Y(t.node,e)},Q=function(t,e){return q(t)&&X(t.node,e)},J=function(t){for(var e=0;t=t.previousSibling;)e+=1;return e},tt=function(t){return!!(t&&t.childNodes&&t.childNodes.length)},et=function(t,i){var n,o;if(0===t.offset){if(e(t.node))return null;n=t.node.parentNode,o=J(t.node)}else tt(t.node)?(n=t.node.childNodes[t.offset-1],o=P(n)):(n=t.node,o=i?0:t.offset-1);return{node:n,offset:o}},it=function(t,i){var n,o;if(P(t.node)===t.offset){if(e(t.node))return null;n=t.node.parentNode,o=J(t.node)+1}else tt(t.node)?(n=t.node.childNodes[t.offset],o=0):(n=t.node,o=i?P(t.node):t.offset+1);return{node:n,offset:o}},nt=function(t,e){return t.node===e.node&&t.offset===e.offset},ot=function(t){if(a(t.node)||!tt(t.node)||N(t.node))return!0;var e=t.node.childNodes[t.offset-1],i=t.node.childNodes[t.offset];return!(e&&!l(e)||i&&!l(i))},rt=function(t,e){for(;t;){if(e(t))return t;t=et(t)}return null},at=function(t,e){for(;t;){if(e(t))return t;t=it(t)}return null},st=function(t){if(!a(t.node))return!1;var e=t.node.nodeValue.charAt(t.offset-1);return e&&" "!==e&&e!==f},lt=function(t,e,i,n){for(var o=t;o&&(i(o),!nt(o,e));){var r=n&&t.node!==o.node&&e.node!==o.node;o=it(o,r)}},ct=function(t,e){var n=z(e,i.eq(t));return n.map(J).reverse()},ht=function(t,e){for(var i=t,n=0,o=e.length;o>n;n++)i=i.childNodes.length<=e[n]?i.childNodes[i.childNodes.length-1]:i.childNodes[e[n]];return i},ut=function(t,e){var i=e&&e.isSkipPaddingBlankHTML,n=e&&e.isNotSplitEdgePoint;if(Z(t)&&(a(t.node)||n)){if(G(t))return t.node;if(q(t))return t.node.nextSibling}if(a(t.node))return t.node.splitText(t.offset);var o=t.node.childNodes[t.offset],r=j(t.node.cloneNode(!1),t.node);return W(r,H(o)),i||(E(t.node),E(r)),r},dt=function(t,e,n){var o=z(e.node,i.eq(t));return o.length?1===o.length?ut(e,n):o.reduce(function(t,i){return t===e.node&&(t=ut(e,n)),ut({node:i,offset:t?g.position(t):P(i)},n)}):null},ft=function(t,e){var i,o,r=e?c:S,a=z(t.node,r),s=n.last(a)||t.node;r(s)?(i=a[a.length-2],o=s):(i=s,o=i.parentNode);var l=i&&dt(i,t,{isSkipPaddingBlankHTML:e,isNotSplitEdgePoint:e});return l||o!==t.node||(l=t.node.childNodes[t.offset]),{rightNode:l,container:o}},pt=function(t){return document.createElement(t)},gt=function(t){return document.createTextNode(t)},mt=function(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var i=t.parentNode;if(!e){var n,o,r=[];for(n=0,o=t.childNodes.length;o>n;n++)r.push(t.childNodes[n]);for(n=0,o=r.length;o>n;n++)i.insertBefore(r[n],t)}i.removeChild(t)}},vt=function(t,i){for(;t&&!e(t)&&i(t);){var n=t.parentNode;mt(t),t=n}},yt=function(t,e){if(t.nodeName.toUpperCase()===e.toUpperCase())return t;var i=pt(e);return t.style.cssText&&(i.style.cssText=t.style.cssText),W(i,n.from(t.childNodes)),j(i,t),mt(t),i},xt=r("TEXTAREA"),bt=function(t,e){var i=xt(t[0])?t.val():t.html();return e?i.replace(/[\n\r]/g,""):i},wt=function(e,i){var n=bt(e);if(i){var o=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;n=n.replace(o,function(t,e,i){i=i.toUpperCase();var n=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(i)&&!!e,o=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(i);return t+(n||o?"\n":"")}),n=t.trim(n)}return n},_t=function(e){var i=t(e),n=i.offset(),o=i.outerHeight(!0);return{left:n.left,top:n.top+o}},Tt=function(t,e){Object.keys(e).forEach(function(i){t.on(i,e[i])})},St=function(t,e){Object.keys(e).forEach(function(i){t.off(i,e[i])})};return{NBSP_CHAR:f,ZERO_WIDTH_NBSP_CHAR:p,blank:L,emptyPara:"<p>"+L+"</p>",makePredByNodeName:r,isEditable:e,isControlSizing:o,isText:a,isElement:s,isVoid:l,isPara:c,isPurePara:v,isHeading:h,isInline:x,isBlock:i.not(x),isBodyInline:M,isBody:A,isParaInline:k,isPre:u,isList:b,isTable:y,isCell:_,isBlockquote:T,isBodyContainer:S,isAnchor:C,isDiv:r("DIV"),isLi:m,isBR:r("BR"),isSpan:r("SPAN"),isB:r("B"),isU:r("U"),isS:r("S"),isI:r("I"),isImg:r("IMG"),isTextarea:xt,isEmpty:N,isEmptyAnchor:i.and(C,N),isClosestSibling:D,withClosestSiblings:I,nodeLength:P,isLeftEdgePoint:G,isRightEdgePoint:q,isEdgePoint:Z,isLeftEdgeOf:Y,isRightEdgeOf:X,isLeftEdgePointOf:K,isRightEdgePointOf:Q,prevPoint:et,nextPoint:it,isSamePoint:nt,isVisiblePoint:ot,prevPointUntil:rt,nextPointUntil:at,isCharPoint:st,walkPoint:lt,ancestor:R,singleChildAncestor:O,listAncestor:z,lastAncestor:V,listNext:H,listPrev:B,listDescendant:$,commonAncestor:F,wrap:U,insertAfter:j,appendChildNodes:W,position:J,hasChildren:tt,makeOffsetPath:ct,fromOffsetPath:ht,splitTree:dt,splitPoint:ft,create:pt,createText:gt,remove:mt,removeWhile:vt,replace:yt,html:wt,value:bt,posFromPlaceholder:_t,attachEvents:Tt,detachEvents:St}}(),m=function(e,o){var r=this,a=t.summernote.ui;return this.memos={},this.modules={},this.layoutInfo={},this.options=o,this.initialize=function(){return this.layoutInfo=a.createLayout(e,o),this._initialize(),e.hide(),this},this.destroy=function(){this._destroy(),e.removeData("summernote"),a.removeLayout(e,this.layoutInfo)},this.reset=function(){var t=r.isDisabled();this.code(g.emptyPara),this._destroy(),this._initialize(),t&&r.disable()},this._initialize=function(){var e=t.extend({},this.options.buttons);Object.keys(e).forEach(function(t){r.memo("button."+t,e[t])});var i=t.extend({},this.options.modules,t.summernote.plugins||{});Object.keys(i).forEach(function(t){r.module(t,i[t],!0)}),Object.keys(this.modules).forEach(function(t){r.initializeModule(t)})},this._destroy=function(){Object.keys(this.modules).reverse().forEach(function(t){r.removeModule(t)}),Object.keys(this.memos).forEach(function(t){r.removeMemo(t)})},this.code=function(t){var i=this.invoke("codeview.isActivated");return void 0===t?(this.invoke("codeview.sync"),i?this.layoutInfo.codable.val():this.layoutInfo.editable.html()):(i?this.layoutInfo.codable.val(t):this.layoutInfo.editable.html(t),e.val(t),this.triggerEvent("change",t),void 0)},this.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},this.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0)},this.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0)},this.triggerEvent=function(){var t=n.head(arguments),o=n.tail(n.from(arguments)),r=this.options.callbacks[i.namespaceToCamel(t,"on")];r&&r.apply(e[0],o),e.trigger("summernote."+t,o)},this.initializeModule=function(t){var n=this.modules[t];n.shouldInitialize=n.shouldInitialize||i.ok,n.shouldInitialize()&&(n.initialize&&n.initialize(),n.events&&g.attachEvents(e,n.events))},this.module=function(t,e,i){return 1===arguments.length?this.modules[t]:(this.modules[t]=new e(this),void(i||this.initializeModule(t)))},this.removeModule=function(t){var i=this.modules[t];i.shouldInitialize()&&(i.events&&g.detachEvents(e,i.events),i.destroy&&i.destroy()),delete this.modules[t]},this.memo=function(t,e){return 1===arguments.length?this.memos[t]:void(this.memos[t]=e)},this.removeMemo=function(t){this.memos[t]&&this.memos[t].destroy&&this.memos[t].destroy(),delete this.memos[t]},this.createInvokeHandler=function(e,i){return function(n){n.preventDefault(),r.invoke(e,i||t(n.target).closest("[data-value]").data("value"))}},this.invoke=function(){var t=n.head(arguments),e=n.tail(n.from(arguments)),i=t.split("."),o=i.length>1,r=o&&n.head(i),a=o?n.last(i):n.head(i),s=this.modules[r||"editor"];return!r&&this[a]?this[a].apply(this,e):s&&s[a]&&s.shouldInitialize()?s[a].apply(s,e):void 0},this.initialize()};t.fn.extend({summernote:function(){var e=t.type(n.head(arguments)),i="string"===e,o="object"===e,r=o?n.head(arguments):{};r=t.extend({},t.summernote.options,r),r.langInfo=t.extend(!0,{},t.summernote.lang["en-US"],t.summernote.lang[r.lang]),this.each(function(e,i){var n=t(i);if(!n.data("summernote")){var o=new m(n,r);n.data("summernote",o),n.data("summernote").triggerEvent("init",o.layoutInfo)}});var a=this.first();if(a.length){var s=a.data("summernote");if(i)return s.invoke.apply(s,n.from(arguments));r.focus&&s.invoke("editor.focus")}return this}});var v=function(e,i,n,o){this.render=function(r){var a=t(e);if(n&&n.contents&&a.html(n.contents),n&&n.className&&a.addClass(n.className),n&&n.data&&t.each(n.data,function(t,e){a.attr("data-"+t,e)}),n&&n.click&&a.on("click",n.click),i){var s=a.find(".note-children-container");i.forEach(function(t){t.render(s.length?s:a)})}return o&&o(a,n),n&&n.callback&&n.callback(a),r&&r.append(a),a}},y={create:function(e,i){return function(){var n=t.isArray(arguments[0])?arguments[0]:[],o="object"==typeof arguments[1]?arguments[1]:arguments[0];return o&&o.children&&(n=o.children),new v(e,n,o,i)}}},x=y.create('<div class="note-editor note-frame panel panel-default"/>'),b=y.create('<div class="note-toolbar panel-heading"/>'),w=y.create('<div class="note-editing-area"/>'),_=y.create('<textarea class="note-codable"/>'),T=y.create('<div class="note-editable panel-body" contentEditable="true"/>'),S=y.create(['<div class="note-statusbar">','  <div class="note-resizebar">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),C=y.create('<div class="note-editor"/>'),k=y.create('<div class="note-editable" contentEditable="true"/>'),M=y.create('<div class="note-btn-group btn-group">'),A=y.create('<button type="button" class="note-btn btn btn-default btn-sm">',function(t,e){e&&e.tooltip&&t.attr({title:e.tooltip}).tooltip({container:"body",trigger:"hover",placement:"bottom"})}),D=y.create('<div class="dropdown-menu">',function(e,i){var n=t.isArray(i.items)?i.items.map(function(t){var e="string"==typeof t?t:t.value||"",n=i.template?i.template(t):t;return'<li><a href="#" data-value="'+e+'">'+n+"</a></li>"}).join(""):i.items;e.html(n)}),I=y.create('<div class="dropdown-menu note-check">',function(e,i){var n=t.isArray(i.items)?i.items.map(function(t){var e="string"==typeof t?t:t.value||"",n=i.template?i.template(t):t;return'<li><a href="#" data-value="'+e+'">'+E(i.checkClassName)+" "+n+"</a></li>"}).join(""):i.items;e.html(n)}),L=y.create('<div class="note-color-palette"/>',function(t,e){for(var i=[],n=0,o=e.colors.length;o>n;n++){for(var r=e.eventName,a=e.colors[n],s=[],l=0,c=a.length;c>l;l++){var h=a[l];s.push(['<button type="button" class="note-color-btn"','style="background-color:',h,'" ','data-event="',r,'" ','data-value="',h,'" ','title="',h,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}i.push('<div class="note-color-row">'+s.join("")+"</div>")}t.html(i.join("")),t.find(".note-color-btn").tooltip({container:"body",trigger:"hover",placement:"bottom"})}),P=y.create('<div class="modal" aria-hidden="false" tabindex="-1"/>',function(t,e){e.fade&&t.addClass("fade"),t.html(['<div class="modal-dialog">','  <div class="modal-content">',e.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>      <h4 class="modal-title">'+e.title+"</h4>    </div>":"",'    <div class="modal-body">'+e.body+"</div>",e.footer?'    <div class="modal-footer">'+e.footer+"</div>":"","  </div>","</div>"].join(""))}),N=y.create(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(t,e){var i="undefined"!=typeof e.direction?e.direction:"bottom";t.addClass(i),e.hideArrow&&t.find(".arrow").hide()}),E=function(t,e){return e=e||"i","<"+e+' class="'+t+'"/>'},R={editor:x,toolbar:b,editingArea:w,codable:_,editable:T,statusbar:S,airEditor:C,airEditable:k,buttonGroup:M,button:A,dropdown:D,dropdownCheck:I,palette:L,dialog:P,popover:N,icon:E,toggleBtn:function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)},toggleBtnActive:function(t,e){t.toggleClass("active",e)},onDialogShown:function(t,e){t.one("shown.bs.modal",e)},onDialogHidden:function(t,e){t.one("hidden.bs.modal",e)},showDialog:function(t){t.modal("show")},hideDialog:function(t){t.modal("hide")},createLayout:function(t,e){var i=(e.airMode?R.airEditor([R.editingArea([R.airEditable()])]):R.editor([R.toolbar(),R.editingArea([R.codable(),R.editable()]),R.statusbar()])).render();return i.insertAfter(t),{note:t,editor:i,toolbar:i.find(".note-toolbar"),editingArea:i.find(".note-editing-area"),editable:i.find(".note-editable"),codable:i.find(".note-codable"),statusbar:i.find(".note-statusbar")}},removeLayout:function(t,e){t.html(e.editable.html()),e.editor.remove(),t.show()}};t.summernote=t.summernote||{lang:{}},t.extend(t.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var O,z=function(){var t={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};return{isEdit:function(e){return n.contains([t.BACKSPACE,t.TAB,t.ENTER,t.SPACE],e)},isMove:function(e){return n.contains([t.LEFT,t.UP,t.RIGHT,t.DOWN],e)},nameFromCode:i.invertObject(t),code:t}}(),V=function(){var e=function(t,e){var i,o,r=t.parentElement(),a=document.body.createTextRange(),s=n.from(r.childNodes);for(i=0;i<s.length;i++)if(!g.isText(s[i])){if(a.moveToElementText(s[i]),a.compareEndPoints("StartToStart",t)>=0)break;o=s[i]}if(0!==i&&g.isText(s[i-1])){var l=document.body.createTextRange(),c=null;l.moveToElementText(o||r),l.collapse(!o),c=o?o.nextSibling:r.firstChild;var h=t.duplicate();h.setEndPoint("StartToStart",l);for(var u=h.text.replace(/[\r\n]/g,"").length;u>c.nodeValue.length&&c.nextSibling;)u-=c.nodeValue.length,c=c.nextSibling;c.nodeValue;e&&c.nextSibling&&g.isText(c.nextSibling)&&u===c.nodeValue.length&&(u-=c.nodeValue.length,c=c.nextSibling),r=c,i=u}return{cont:r,offset:i}},o=function(t){var e=function(t,o){var r,a;if(g.isText(t)){var s=g.listPrev(t,i.not(g.isText)),l=n.last(s).previousSibling;r=l||t.parentNode,o+=n.sum(n.tail(s),g.nodeLength),a=!l}else{if(r=t.childNodes[o]||t,g.isText(r))return e(r,0);o=0,a=!1}return{node:r,collapseToStart:a,offset:o}},o=document.body.createTextRange(),r=e(t.node,t.offset);return o.moveToElementText(r.node),o.collapse(r.collapseToStart),o.moveStart("character",r.offset),o},r=function(e,a,s,l){this.sc=e,this.so=a,this.ec=s,this.eo=l;var c=function(){if(d.isW3CRangeSupport){var t=document.createRange();return t.setStart(e,a),t.setEnd(s,l),t}var i=o({node:e,offset:a});return i.setEndPoint("EndToEnd",o({node:s,offset:l})),i};this.getPoints=function(){return{sc:e,so:a,ec:s,eo:l}},this.getStartPoint=function(){return{node:e,offset:a}},this.getEndPoint=function(){return{node:s,offset:l}},this.select=function(){var t=c();if(d.isW3CRangeSupport){var e=document.getSelection();e.rangeCount>0&&e.removeAllRanges(),e.addRange(t)}else t.select();return this},this.scrollIntoView=function(e){var i=t(e).height();return e.scrollTop+i<this.sc.offsetTop&&(e.scrollTop+=Math.abs(e.scrollTop+i-this.sc.offsetTop)),this},this.normalize=function(){var t=function(t,e){if(g.isVisiblePoint(t)&&!g.isEdgePoint(t)||g.isVisiblePoint(t)&&g.isRightEdgePoint(t)&&!e||g.isVisiblePoint(t)&&g.isLeftEdgePoint(t)&&e||g.isVisiblePoint(t)&&g.isBlock(t.node)&&g.isEmpty(t.node))return t;var i=g.ancestor(t.node,g.isBlock);if((g.isLeftEdgePointOf(t,i)||g.isVoid(g.prevPoint(t).node))&&!e||(g.isRightEdgePointOf(t,i)||g.isVoid(g.nextPoint(t).node))&&e){if(g.isVisiblePoint(t))return t;e=!e}var n=e?g.nextPointUntil(g.nextPoint(t),g.isVisiblePoint):g.prevPointUntil(g.prevPoint(t),g.isVisiblePoint);return n||t},e=t(this.getEndPoint(),!1),i=this.isCollapsed()?e:t(this.getStartPoint(),!0);return new r(i.node,i.offset,e.node,e.offset)},this.nodes=function(t,e){t=t||i.ok;var o=e&&e.includeAncestor,r=e&&e.fullyContains,a=this.getStartPoint(),s=this.getEndPoint(),l=[],c=[];return g.walkPoint(a,s,function(e){if(!g.isEditable(e.node)){var i;r?(g.isLeftEdgePoint(e)&&c.push(e.node),g.isRightEdgePoint(e)&&n.contains(c,e.node)&&(i=e.node)):i=o?g.ancestor(e.node,t):e.node,i&&t(i)&&l.push(i)}},!0),n.unique(l)},this.commonAncestor=function(){return g.commonAncestor(e,s)},this.expand=function(t){var i=g.ancestor(e,t),n=g.ancestor(s,t);if(!i&&!n)return new r(e,a,s,l);var o=this.getPoints();return i&&(o.sc=i,o.so=0),n&&(o.ec=n,o.eo=g.nodeLength(n)),new r(o.sc,o.so,o.ec,o.eo)},this.collapse=function(t){return t?new r(e,a,e,a):new r(s,l,s,l)},this.splitText=function(){var t=e===s,i=this.getPoints();return g.isText(s)&&!g.isEdgePoint(this.getEndPoint())&&s.splitText(l),g.isText(e)&&!g.isEdgePoint(this.getStartPoint())&&(i.sc=e.splitText(a),i.so=0,t&&(i.ec=i.sc,i.eo=l-a)),new r(i.sc,i.so,i.ec,i.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var e=this.splitText(),i=e.nodes(null,{fullyContains:!0}),o=g.prevPointUntil(e.getStartPoint(),function(t){return!n.contains(i,t.node)}),a=[];return t.each(i,function(t,e){var i=e.parentNode;o.node!==i&&1===g.nodeLength(i)&&a.push(i),g.remove(e,!1)}),t.each(a,function(t,e){g.remove(e,!1)}),new r(o.node,o.offset,o.node,o.offset).normalize()};var h=function(t){return function(){var i=g.ancestor(e,t);return!!i&&i===g.ancestor(s,t)}};this.isOnEditable=h(g.isEditable),this.isOnList=h(g.isList),this.isOnAnchor=h(g.isAnchor),this.isOnCell=h(g.isCell),this.isLeftEdgeOf=function(t){if(!g.isLeftEdgePoint(this.getStartPoint()))return!1;var e=g.ancestor(this.sc,t);return e&&g.isLeftEdgeOf(this.sc,e)},this.isCollapsed=function(){return e===s&&a===l},this.wrapBodyInlineWithPara=function(){if(g.isBodyContainer(e)&&g.isEmpty(e))return e.innerHTML=g.emptyPara,new r(e.firstChild,0,e.firstChild,0);var t=this.normalize();if(g.isParaInline(e)||g.isPara(e))return t;var o;if(g.isInline(t.sc)){var a=g.listAncestor(t.sc,i.not(g.isInline));o=n.last(a),g.isInline(o)||(o=a[a.length-2]||t.sc.childNodes[t.so])}else o=t.sc.childNodes[t.so>0?t.so-1:0];var s=g.listPrev(o,g.isParaInline).reverse();if(s=s.concat(g.listNext(o.nextSibling,g.isParaInline)),s.length){var l=g.wrap(n.head(s),"p");g.appendChildNodes(l,n.tail(s))}return this.normalize()},this.insertNode=function(t){var e=this.wrapBodyInlineWithPara().deleteContents(),i=g.splitPoint(e.getStartPoint(),g.isInline(t));return i.rightNode?i.rightNode.parentNode.insertBefore(t,i.rightNode):i.container.appendChild(t),t},this.pasteHTML=function(e){var i=t("<div></div>").html(e)[0],o=n.from(i.childNodes),r=this.wrapBodyInlineWithPara().deleteContents();return o.reverse().map(function(t){return r.insertNode(t)}).reverse()},this.toString=function(){var t=c();return d.isW3CRangeSupport?t.toString():t.text},this.getWordRange=function(t){var e=this.getEndPoint();if(!g.isCharPoint(e))return this;var i=g.prevPointUntil(e,function(t){return!g.isCharPoint(t)});return t&&(e=g.nextPointUntil(e,function(t){return!g.isCharPoint(t)})),new r(i.node,i.offset,e.node,e.offset)},this.bookmark=function(t){return{s:{path:g.makeOffsetPath(t,e),offset:a},e:{path:g.makeOffsetPath(t,s),offset:l}}},this.paraBookmark=function(t){return{s:{path:n.tail(g.makeOffsetPath(n.head(t),e)),offset:a},e:{path:n.tail(g.makeOffsetPath(n.last(t),s)),offset:l}}},this.getClientRects=function(){var t=c();return t.getClientRects()}};return{create:function(t,e,i,n){if(4===arguments.length)return new r(t,e,i,n);if(2===arguments.length)return i=t,n=e,new r(t,e,i,n);var o=this.createFromSelection();return o||1!==arguments.length?o:(o=this.createFromNode(arguments[0]),o.collapse(g.emptyPara===arguments[0].innerHTML))},createFromSelection:function(){var t,i,n,o;if(d.isW3CRangeSupport){var a=document.getSelection();if(!a||0===a.rangeCount)return null;if(g.isBody(a.anchorNode))return null;var s=a.getRangeAt(0);t=s.startContainer,i=s.startOffset,n=s.endContainer,o=s.endOffset}else{var l=document.selection.createRange(),c=l.duplicate();c.collapse(!1);var h=l;h.collapse(!0);var u=e(h,!0),f=e(c,!1);g.isText(u.node)&&g.isLeftEdgePoint(u)&&g.isTextNode(f.node)&&g.isRightEdgePoint(f)&&f.node.nextSibling===u.node&&(u=f),t=u.cont,i=u.offset,n=f.cont,o=f.offset}return new r(t,i,n,o)},createFromNode:function(t){var e=t,i=0,n=t,o=g.nodeLength(n);return g.isVoid(e)&&(i=g.listPrev(e).length-1,e=e.parentNode),g.isBR(n)?(o=g.listPrev(n).length-1,n=n.parentNode):g.isVoid(n)&&(o=g.listPrev(n).length,n=n.parentNode),this.create(e,i,n,o)},createFromNodeBefore:function(t){return this.createFromNode(t).collapse(!0)},createFromNodeAfter:function(t){return this.createFromNode(t).collapse()},createFromBookmark:function(t,e){var i=g.fromOffsetPath(t,e.s.path),n=e.s.offset,o=g.fromOffsetPath(t,e.e.path),a=e.e.offset;return new r(i,n,o,a)},createFromParaBookmark:function(t,e){var i=t.s.offset,o=t.e.offset,a=g.fromOffsetPath(n.head(e),t.s.path),s=g.fromOffsetPath(n.last(e),t.e.path);return new r(a,i,s,o)}}}(),F=function(){var e=function(e){return t.Deferred(function(i){t.extend(new FileReader,{onload:function(t){var e=t.target.result;i.resolve(e)},onerror:function(){i.reject(this)}}).readAsDataURL(e)}).promise()},i=function(e){return t.Deferred(function(i){var n=t("<img>");n.one("load",function(){n.off("error abort"),i.resolve(n)}).one("error abort",function(){n.off("load").detach(),i.reject(n)}).css({display:"none"}).appendTo(document.body).attr("src",e)}).promise()};return{readFileAsDataURL:e,createImage:i}}(),B=function(t){var e=[],i=-1,n=t[0],o=function(){var e=V.create(n),i={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:t.html(),bookmark:e?e.bookmark(n):i}},r=function(e){null!==e.contents&&t.html(e.contents),null!==e.bookmark&&V.createFromBookmark(n,e.bookmark).select()};this.rewind=function(){t.html()!==e[i].contents&&this.recordUndo(),i=0,r(e[i])},this.reset=function(){e=[],i=-1,t.html(""),this.recordUndo()},this.undo=function(){t.html()!==e[i].contents&&this.recordUndo(),i>0&&(i--,r(e[i]))},this.redo=function(){e.length-1>i&&(i++,r(e[i]))},this.recordUndo=function(){i++,e.length>i&&(e=e.slice(0,i)),e.push(o())}},H=function(){var e=function(e,i){if(d.jqueryVersion<1.9){var n={};return t.each(i,function(t,i){n[i]=e.css(i)}),n}return e.css.call(e,i)};this.fromNode=function(t){var i=["font-family","font-size","text-align","list-style-type","line-height"],n=e(t,i)||{};return n["font-size"]=parseInt(n["font-size"],10),n},this.stylePara=function(e,i){t.each(e.nodes(g.isPara,{includeAncestor:!0}),function(e,n){t(n).css(i)})},this.styleNodes=function(e,o){e=e.splitText();var r=o&&o.nodeName||"SPAN",a=!(!o||!o.expandClosestSibling),s=!(!o||!o.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(g.create(r))];var l=g.makePredByNodeName(r),c=e.nodes(g.isText,{fullyContains:!0}).map(function(t){return g.singleChildAncestor(t,l)||g.wrap(t,r)});if(a){if(s){var h=e.nodes();l=i.and(l,function(t){return n.contains(h,t)})}return c.map(function(e){var i=g.withClosestSiblings(e,l),o=n.head(i),r=n.tail(i);return t.each(r,function(t,e){g.appendChildNodes(o,e.childNodes),g.remove(e)}),n.head(i)})}return c},this.current=function(e){var i=t(g.isElement(e.sc)?e.sc:e.sc.parentNode),n=this.fromNode(i);try{n=t.extend(n,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal"})}catch(o){}if(e.isOnList()){var r=["circle","disc","disc-leading-zero","square"],a=t.inArray(n["list-style-type"],r)>-1;n["list-style"]=a?"unordered":"ordered"}else n["list-style"]="none";var s=g.ancestor(e.sc,g.isPara);if(s&&s.style["line-height"])n["line-height"]=s.style.lineHeight;else{var l=parseInt(n["line-height"],10)/parseInt(n["font-size"],10);n["line-height"]=l.toFixed(1)}return n.anchor=e.isOnAnchor()&&g.ancestor(e.sc,g.isAnchor),n.ancestors=g.listAncestor(e.sc,g.isEditable),n.range=e,n}},$=function(){var e=this;this.insertOrderedList=function(t){this.toggleList("OL",t)},this.insertUnorderedList=function(t){this.toggleList("UL",t)},this.indent=function(e){var o=this,r=V.create(e).wrapBodyInlineWithPara(),a=r.nodes(g.isPara,{includeAncestor:!0}),s=n.clusterBy(a,i.peq2("parentNode"));t.each(s,function(e,i){var r=n.head(i);g.isLi(r)?o.wrapList(i,r.parentNode.nodeName):t.each(i,function(e,i){t(i).css("marginLeft",function(t,e){return(parseInt(e,10)||0)+25})})}),r.select()},this.outdent=function(e){var o=this,r=V.create(e).wrapBodyInlineWithPara(),a=r.nodes(g.isPara,{includeAncestor:!0}),s=n.clusterBy(a,i.peq2("parentNode"));t.each(s,function(e,i){var r=n.head(i);g.isLi(r)?o.releaseList([i]):t.each(i,function(e,i){t(i).css("marginLeft",function(t,e){return e=parseInt(e,10)||0,e>25?e-25:""})})}),r.select()},this.toggleList=function(o,r){var a=V.create(r).wrapBodyInlineWithPara(),s=a.nodes(g.isPara,{includeAncestor:!0}),l=a.paraBookmark(s),c=n.clusterBy(s,i.peq2("parentNode"));if(n.find(s,g.isPurePara)){var h=[];t.each(c,function(t,i){h=h.concat(e.wrapList(i,o))}),s=h}else{var u=a.nodes(g.isList,{includeAncestor:!0}).filter(function(e){return!t.nodeName(e,o)});u.length?t.each(u,function(t,e){g.replace(e,o)}):s=this.releaseList(c,!0)}V.createFromParaBookmark(l,s).select()},this.wrapList=function(t,e){var i=n.head(t),o=n.last(t),r=g.isList(i.previousSibling)&&i.previousSibling,a=g.isList(o.nextSibling)&&o.nextSibling,s=r||g.insertAfter(g.create(e||"UL"),o);return t=t.map(function(t){return g.isPurePara(t)?g.replace(t,"LI"):t}),g.appendChildNodes(s,t),a&&(g.appendChildNodes(s,n.from(a.childNodes)),g.remove(a)),t},this.releaseList=function(e,i){var o=[];return t.each(e,function(e,r){var a=n.head(r),s=n.last(r),l=i?g.lastAncestor(a,g.isList):a.parentNode,c=l.childNodes.length>1?g.splitTree(l,{node:s.parentNode,offset:g.position(s)+1},{isSkipPaddingBlankHTML:!0}):null,h=g.splitTree(l,{node:a.parentNode,offset:g.position(a)},{isSkipPaddingBlankHTML:!0});r=i?g.listDescendant(h,g.isLi):n.from(h.childNodes).filter(g.isLi),!i&&g.isList(l.parentNode)||(r=r.map(function(t){return g.replace(t,"P")})),t.each(n.from(r).reverse(),function(t,e){g.insertAfter(e,l)});var u=n.compact([l,h,c]);t.each(u,function(e,i){var n=[i].concat(g.listDescendant(i,g.isList));t.each(n.reverse(),function(t,e){g.nodeLength(e)||g.remove(e,!0)})}),o=o.concat(r)}),o}},U=function(){var e=new $;this.insertTab=function(t,e){var i=g.createText(new Array(e+1).join(g.NBSP_CHAR));t=t.deleteContents(),t.insertNode(i,!0),t=V.create(i,e),t.select()},this.insertParagraph=function(i){var n=V.create(i);n=n.deleteContents(),n=n.wrapBodyInlineWithPara();var o,r=g.ancestor(n.sc,g.isPara);if(r){if(g.isEmpty(r)&&g.isLi(r))return void e.toggleList(r.parentNode.nodeName);if(g.isEmpty(r)&&g.isPara(r)&&g.isBlockquote(r.parentNode))g.insertAfter(r,r.parentNode),o=r;else{o=g.splitTree(r,n.getStartPoint());var a=g.listDescendant(r,g.isEmptyAnchor);a=a.concat(g.listDescendant(o,g.isEmptyAnchor)),t.each(a,function(t,e){g.remove(e)}),(g.isHeading(o)||g.isPre(o))&&g.isEmpty(o)&&(o=g.replace(o,"p"));
}}else{var s=n.sc.childNodes[n.so];o=t(g.emptyPara)[0],s?n.sc.insertBefore(o,s):n.sc.appendChild(o)}V.create(o,0).normalize().select().scrollIntoView(i)}},j=function(){this.tab=function(t,e){var i=g.ancestor(t.commonAncestor(),g.isCell),o=g.ancestor(i,g.isTable),r=g.listDescendant(o,g.isCell),a=n[e?"prev":"next"](r,i);a&&V.create(a,0).select()},this.createTable=function(e,i,n){for(var o,r=[],a=0;e>a;a++)r.push("<td>"+g.blank+"</td>");o=r.join("");for(var s,l=[],c=0;i>c;c++)l.push("<tr>"+o+"</tr>");s=l.join("");var h=t("<table>"+s+"</table>");return n&&n.tableClassName&&h.addClass(n.tableClassName),h[0]}},W="bogus",G=function(e){var i=this,o=e.layoutInfo.note,r=e.layoutInfo.editor,a=e.layoutInfo.editable,s=e.options,l=s.langInfo,c=a[0],h=null,u=new H,f=new j,p=new U,m=new $,v=new B(a);this.initialize=function(){a.on("keydown",function(t){t.keyCode===z.code.ENTER&&e.triggerEvent("enter",t),e.triggerEvent("keydown",t),s.shortcuts&&!t.isDefaultPrevented()&&i.handleKeyMap(t)}).on("keyup",function(t){e.triggerEvent("keyup",t)}).on("focus",function(t){e.triggerEvent("focus",t)}).on("blur",function(t){e.triggerEvent("blur",t)}).on("mousedown",function(t){e.triggerEvent("mousedown",t)}).on("mouseup",function(t){e.triggerEvent("mouseup",t)}).on("scroll",function(t){e.triggerEvent("scroll",t)}).on("paste",function(t){e.triggerEvent("paste",t)}),a.html(g.html(o)||g.emptyPara);var t=d.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";a.on(t,function(){e.triggerEvent("change",a.html())}),r.on("focusin",function(t){e.triggerEvent("focusin",t)}).on("focusout",function(t){e.triggerEvent("focusout",t)}),!s.airMode&&s.height&&this.setHeight(s.height),!s.airMode&&s.maxHeight&&a.css("max-height",s.maxHeight),!s.airMode&&s.minHeight&&a.css("min-height",s.minHeight),v.recordUndo()},this.destroy=function(){a.off()},this.handleKeyMap=function(t){var i=s.keyMap[d.isMac?"mac":"pc"],n=[];t.metaKey&&n.push("CMD"),t.ctrlKey&&!t.altKey&&n.push("CTRL"),t.shiftKey&&n.push("SHIFT");var o=z.nameFromCode[t.keyCode];o&&n.push(o);var r=i[n.join("+")];r?(t.preventDefault(),e.invoke(r)):z.isEdit(t.keyCode)&&this.afterCommand()},this.createRange=function(){return this.focus(),V.create(c)},this.saveRange=function(t){h=this.createRange(),t&&h.collapse().select()},this.restoreRange=function(){h&&(h.select(),this.focus())},this.saveTarget=function(t){a.data("target",t)},this.clearTarget=function(){a.removeData("target")},this.restoreTarget=function(){return a.data("target")},this.currentStyle=function(){var t=V.create();return t&&(t=t.normalize()),t?u.current(t):u.fromNode(a)},this.styleFromNode=function(t){return u.fromNode(t)},this.undo=function(){e.triggerEvent("before.command",a.html()),v.undo(),e.triggerEvent("change",a.html())},e.memo("help.undo",l.help.undo),this.redo=function(){e.triggerEvent("before.command",a.html()),v.redo(),e.triggerEvent("change",a.html())},e.memo("help.redo",l.help.redo);for(var y=this.beforeCommand=function(){e.triggerEvent("before.command",a.html()),i.focus()},x=this.afterCommand=function(t){v.recordUndo(),t||e.triggerEvent("change",a.html())},b=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","fontName"],w=0,_=b.length;_>w;w++)this[b[w]]=function(t){return function(e){y(),document.execCommand(t,!1,e),x(!0)}}(b[w]),e.memo("help."+b[w],l.help[b[w]]);this.tab=function(){var t=this.createRange();t.isCollapsed()&&t.isOnCell()?f.tab(t):(y(),p.insertTab(t,s.tabSize),x())},e.memo("help.tab",l.help.tab),this.untab=function(){var t=this.createRange();t.isCollapsed()&&t.isOnCell()&&f.tab(t,!0)},e.memo("help.untab",l.help.untab),this.wrapCommand=function(t){return function(){y(),t.apply(i,arguments),x()}},this.insertParagraph=this.wrapCommand(function(){p.insertParagraph(c)}),e.memo("help.insertParagraph",l.help.insertParagraph),this.insertOrderedList=this.wrapCommand(function(){m.insertOrderedList(c)}),e.memo("help.insertOrderedList",l.help.insertOrderedList),this.insertUnorderedList=this.wrapCommand(function(){m.insertUnorderedList(c)}),e.memo("help.insertUnorderedList",l.help.insertUnorderedList),this.indent=this.wrapCommand(function(){m.indent(c)}),e.memo("help.indent",l.help.indent),this.outdent=this.wrapCommand(function(){m.outdent(c)}),e.memo("help.outdent",l.help.outdent),this.insertImage=function(t,i){return F.createImage(t,i).then(function(t){y(),"function"==typeof i?i(t):("string"==typeof i&&t.attr("data-filename",i),t.css("width",Math.min(a.width(),t.width()))),t.show(),V.create(c).insertNode(t[0]),V.createFromNodeAfter(t[0]).select(),x()}).fail(function(t){e.triggerEvent("image.upload.error",t)})},this.insertImages=function(n){t.each(n,function(t,n){var o=n.name;s.maximumImageFileSize&&s.maximumImageFileSize<n.size?e.triggerEvent("image.upload.error",l.image.maximumFileSizeError):F.readFileAsDataURL(n).then(function(t){return i.insertImage(t,o)}).fail(function(){e.triggerEvent("image.upload.error")})})},this.insertImagesOrCallback=function(t){var i=s.callbacks;i.onImageUpload?e.triggerEvent("image.upload",t):this.insertImages(t)},this.insertNode=this.wrapCommand(function(t){var e=this.createRange();e.insertNode(t),V.createFromNodeAfter(t).select()}),this.insertText=this.wrapCommand(function(t){var e=this.createRange(),i=e.insertNode(g.createText(t));V.create(i,g.nodeLength(i)).select()}),this.getSelectedText=function(){var t=this.createRange();return t.isOnAnchor()&&(t=V.createFromNode(g.ancestor(t.sc,g.isAnchor))),t.toString()},this.pasteHTML=this.wrapCommand(function(t){var e=this.createRange().pasteHTML(t);V.createFromNodeAfter(n.last(e)).select()}),this.formatBlock=this.wrapCommand(function(t){t=d.isMSIE?"<"+t+">":t,document.execCommand("FormatBlock",!1,t)}),this.formatPara=function(){this.formatBlock("P")},e.memo("help.formatPara",l.help.formatPara);for(var w=1;6>=w;w++)this["formatH"+w]=function(t){return function(){this.formatBlock("H"+t)}}(w),e.memo("help.formatH"+w,l.help["formatH"+w]);this.fontSize=function(e){var i=this.createRange();if(i&&i.isCollapsed()){var o=u.styleNodes(i),r=n.head(o);t(o).css({"font-size":e+"px"}),r&&!g.nodeLength(r)&&(r.innerHTML=g.ZERO_WIDTH_NBSP_CHAR,V.createFromNodeAfter(r.firstChild).select(),a.data(W,r))}else y(),t(u.styleNodes(i)).css({"font-size":e+"px"}),x()},this.insertHorizontalRule=this.wrapCommand(function(){var t=this.createRange().insertNode(g.create("HR"));t.nextSibling&&V.create(t.nextSibling,0).normalize().select()}),e.memo("help.insertHorizontalRule",l.help.insertHorizontalRule),this.removeBogus=function(){var t=a.data(W);if(t){var e=n.find(n.from(t.childNodes),g.isText),i=e.nodeValue.indexOf(g.ZERO_WIDTH_NBSP_CHAR);-1!==i&&e.deleteData(i,1),g.isEmpty(t)&&g.remove(t),a.removeData(W)}},this.lineHeight=this.wrapCommand(function(t){u.stylePara(this.createRange(),{lineHeight:t})}),this.unlink=function(){var t=this.createRange();if(t.isOnAnchor()){var e=g.ancestor(t.sc,g.isAnchor);t=V.createFromNode(e),t.select(),y(),document.execCommand("unlink"),x()}},this.createLink=this.wrapCommand(function(e){var i=e.url,o=e.text,r=e.isNewWindow,a=e.range||this.createRange(),l=a.toString()!==o;s.onCreateLink&&(i=s.onCreateLink(i));var c=[];if(l){a=a.deleteContents();var h=a.insertNode(t("<A>"+o+"</A>")[0]);c.push(h)}else c=u.styleNodes(a,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});t.each(c,function(e,n){t(n).attr("href",i),r?t(n).attr("target","_blank"):t(n).removeAttr("target")});var d=V.createFromNodeBefore(n.head(c)),f=d.getStartPoint(),p=V.createFromNodeAfter(n.last(c)),g=p.getEndPoint();V.create(f.node,f.offset,g.node,g.offset).select()}),this.getLinkInfo=function(){var e=this.createRange().expand(g.isAnchor),i=t(n.head(e.nodes(g.isAnchor)));return{range:e,text:e.toString(),isNewWindow:i.length?"_blank"===i.attr("target"):!1,url:i.length?i.attr("href"):""}},this.color=this.wrapCommand(function(t){var e=t.foreColor,i=t.backColor;e&&document.execCommand("foreColor",!1,e),i&&document.execCommand("backColor",!1,i)}),this.insertTable=this.wrapCommand(function(t){var e=t.split("x"),i=this.createRange().deleteContents();i.insertNode(f.createTable(e[0],e[1],s))}),this.floatMe=this.wrapCommand(function(e){var i=t(this.restoreTarget());i.css("float",e)}),this.resize=this.wrapCommand(function(e){var i=t(this.restoreTarget());i.css({width:100*e+"%",height:""})}),this.resizeTo=function(t,e,i){var n;if(i){var o=t.y/t.x,r=e.data("ratio");n={width:r>o?t.x:t.y/r,height:r>o?t.x*r:t.y}}else n={width:t.x,height:t.y};e.css(n)},this.removeMedia=this.wrapCommand(function(){var i=t(this.restoreTarget()).detach();e.triggerEvent("media.delete",i,a)}),this.hasFocus=function(){return a.is(":focus")},this.focus=function(){this.hasFocus()||a.focus()},this.isEmpty=function(){return g.isEmpty(a[0])||g.emptyPara===a.html()},this.empty=function(){e.invoke("code",g.emptyPara)},this.setHeight=function(t){a.outerHeight(t)}},q=function(e){var i=this,o=e.layoutInfo.editable;this.events={"summernote.keydown":function(t,n){i.needKeydownHook()&&(n.ctrlKey||n.metaKey)&&n.keyCode===z.code.V&&(e.invoke("editor.saveRange"),i.$paste.focus(),setTimeout(function(){i.pasteByHook()},0))}},this.needKeydownHook=function(){return d.isMSIE&&d.browserVersion>10||d.isFF},this.initialize=function(){this.needKeydownHook()?(this.$paste=t("<div />").attr("contenteditable",!0).css({position:"absolute",left:-1e5,opacity:0}),o.before(this.$paste),this.$paste.on("paste",function(t){e.triggerEvent("paste",t)})):o.on("paste",this.pasteByEvent)},this.destroy=function(){this.needKeydownHook()&&(this.$paste.remove(),this.$paste=null)},this.pasteByHook=function(){var i=this.$paste[0].firstChild;if(g.isImg(i)){for(var n=i.src,o=atob(n.split(",")[1]),r=new Uint8Array(o.length),a=0;a<o.length;a++)r[a]=o.charCodeAt(a);var s=new Blob([r],{type:"image/png"});s.name="clipboard.png",e.invoke("editor.restoreRange"),e.invoke("editor.focus"),e.invoke("editor.insertImagesOrCallback",[s])}else{var l=t("<div />").html(this.$paste.html()).html();e.invoke("editor.restoreRange"),e.invoke("editor.focus"),l&&e.invoke("editor.pasteHTML",l)}this.$paste.empty()},this.pasteByEvent=function(t){var i=t.originalEvent.clipboardData;if(i&&i.items&&i.items.length){var o=n.head(i.items);"file"===o.kind&&-1!==o.type.indexOf("image/")&&e.invoke("editor.insertImagesOrCallback",[o.getAsFile()]),e.invoke("editor.afterCommand")}}},Z=function(e){var i=t(document),n=e.layoutInfo.editor,o=e.layoutInfo.editable,r=e.options,a=r.langInfo,s=t(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(n);this.initialize=function(){r.disableDragAndDrop?i.on("drop",function(t){t.preventDefault()}):this.attachDragAndDropEvent()},this.attachDragAndDropEvent=function(){var r=t(),l=s.find(".note-dropzone-message");i.on("dragenter",function(t){var i=e.invoke("codeview.isActivated"),o=n.width()>0&&n.height()>0;i||r.length||!o||(n.addClass("dragover"),s.width(n.width()),s.height(n.height()),l.text(a.image.dragImageHere)),r=r.add(t.target)}).on("dragleave",function(t){r=r.not(t.target),r.length||n.removeClass("dragover")}).on("drop",function(){r=t(),n.removeClass("dragover")}),s.on("dragenter",function(){s.addClass("hover"),l.text(a.image.dropImage)}).on("dragleave",function(){s.removeClass("hover"),l.text(a.image.dragImageHere)}),s.on("drop",function(i){var n=i.originalEvent.dataTransfer;n&&n.files&&n.files.length?(i.preventDefault(),o.focus(),e.invoke("editor.insertImagesOrCallback",n.files)):t.each(n.types,function(i,o){var r=n.getData(o);o.toLowerCase().indexOf("text")>-1?e.invoke("editor.pasteHTML",r):t(r).each(function(){e.invoke("editor.insertNode",this)})})}).on("dragover",!1)}};d.hasCodeMirror&&(d.isSupportAmd?require(["codemirror"],function(t){O=t}):O=window.CodeMirror);var Y=function(t){var e=t.layoutInfo.editor,i=t.layoutInfo.editable,n=t.layoutInfo.codable,o=t.options;this.sync=function(){var t=this.isActivated();t&&d.hasCodeMirror&&n.data("cmEditor").save()},this.isActivated=function(){return e.hasClass("codeview")},this.toggle=function(){this.isActivated()?this.deactivate():this.activate(),t.triggerEvent("codeview.toggled")},this.activate=function(){if(n.val(g.html(i,o.prettifyHtml)),n.height(i.height()),t.invoke("toolbar.updateCodeview",!0),e.addClass("codeview"),n.focus(),d.hasCodeMirror){var r=O.fromTextArea(n[0],o.codemirror);if(o.codemirror.tern){var a=new O.TernServer(o.codemirror.tern);r.ternServer=a,r.on("cursorActivity",function(t){a.updateArgHints(t)})}r.setSize(null,i.outerHeight()),n.data("cmEditor",r)}},this.deactivate=function(){if(d.hasCodeMirror){var r=n.data("cmEditor");n.val(r.getValue()),r.toTextArea()}var a=g.value(n,o.prettifyHtml)||g.emptyPara,s=i.html()!==a;i.html(a),i.height(o.height?n.height():"auto"),e.removeClass("codeview"),s&&t.triggerEvent("change",i.html(),i),i.focus(),t.invoke("toolbar.updateCodeview",!1)},this.destroy=function(){this.isActivated()&&this.deactivate()}},X=24,K=function(e){var i=t(document),n=e.layoutInfo.statusbar,o=e.layoutInfo.editable,r=e.options;this.initialize=function(){r.airMode||r.disableResizeEditor||n.on("mousedown",function(t){t.preventDefault(),t.stopPropagation();var e=o.offset().top-i.scrollTop();i.on("mousemove",function(t){var i=t.clientY-(e+X);i=r.minheight>0?Math.max(i,r.minheight):i,i=r.maxHeight>0?Math.min(i,r.maxHeight):i,o.height(i)}).one("mouseup",function(){i.off("mousemove")})})},this.destroy=function(){n.off()}},Q=function(e){var i=e.layoutInfo.editor,n=e.layoutInfo.toolbar,o=e.layoutInfo.editable,r=e.layoutInfo.codable,a=t(window),s=t("html, body");this.toggle=function(){var t=function(t){o.css("height",t.h),r.css("height",t.h),r.data("cmeditor")&&r.data("cmeditor").setsize(null,t.h)};i.toggleClass("fullscreen"),this.isFullscreen()?(o.data("orgHeight",o.css("height")),a.on("resize",function(){t({h:a.height()-n.outerHeight()})}).trigger("resize"),s.css("overflow","hidden")):(a.off("resize"),t({h:o.data("orgHeight")}),s.css("overflow","visible")),e.invoke("toolbar.updateFullscreen",this.isFullscreen())},this.isFullscreen=function(){return i.hasClass("fullscreen")}},J=function(e){var i=this,n=t(document),o=e.layoutInfo.editingArea,r=e.options;this.events={"summernote.mousedown":function(t,e){i.update(e.target)&&e.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){i.update()}},this.initialize=function(){this.$handle=t(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',r.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',r.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(o),this.$handle.on("mousedown",function(t){if(g.isControlSizing(t.target)){t.preventDefault(),t.stopPropagation();var o=i.$handle.find(".note-control-selection").data("target"),r=o.offset(),a=n.scrollTop();n.on("mousemove",function(t){e.invoke("editor.resizeTo",{x:t.clientX-r.left,y:t.clientY-(r.top-a)},o,!t.shiftKey),i.update(o[0])}).one("mouseup",function(t){t.preventDefault(),n.off("mousemove"),e.invoke("editor.afterCommand")}),o.data("ratio")||o.data("ratio",o.height()/o.width())}})},this.destroy=function(){this.$handle.remove()},this.update=function(i){var n=g.isImg(i),o=this.$handle.find(".note-control-selection");if(e.invoke("imagePopover.update",i),n){var r=t(i),a=r.position(),s={w:r.outerWidth(!0),h:r.outerHeight(!0)};o.css({display:"block",left:a.left,top:a.top,width:s.w,height:s.h}).data("target",r);var l=s.w+"x"+s.h;o.find(".note-control-selection-info").text(l),e.invoke("editor.saveTarget",i)}else this.hide();return n},this.hide=function(){e.invoke("editor.clearTarget"),this.$handle.children().hide()}},tt=function(e){var i=this,o="http://",r=/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i;this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||i.handleKeyup(e)},"summernote.keydown":function(t,e){i.handleKeydown(e)}},this.initialize=function(){this.lastWordRange=null},this.destroy=function(){this.lastWordRange=null},this.replace=function(){if(this.lastWordRange){var i=this.lastWordRange.toString(),n=i.match(r);if(n&&(n[1]||n[2])){var a=n[1]?i:o+i,s=t("<a />").html(i).attr("href",a)[0];this.lastWordRange.insertNode(s),this.lastWordRange=null,e.invoke("editor.focus")}}},this.handleKeydown=function(t){if(n.contains([z.code.ENTER,z.code.SPACE],t.keyCode)){var i=e.invoke("editor.createRange").getWordRange();this.lastWordRange=i}},this.handleKeyup=function(t){n.contains([z.code.ENTER,z.code.SPACE],t.keyCode)&&this.replace()}},et=function(t){var e=t.layoutInfo.note;this.events={"summernote.change":function(){e.val(t.invoke("code"))}},this.shouldInitialize=function(){return g.isTextarea(e[0])}},it=function(e){var i=this,n=e.layoutInfo.editingArea,o=e.options;this.events={"summernote.init summernote.change":function(){i.update()},"summernote.codeview.toggled":function(){i.update()}},this.shouldInitialize=function(){return!!o.placeholder},this.initialize=function(){this.$placeholder=t('<div class="note-placeholder">'),this.$placeholder.on("click",function(){e.invoke("focus")}).text(o.placeholder).prependTo(n)},this.destroy=function(){this.$placeholder.remove()},this.update=function(){var t=!e.invoke("codeview.isActivated")&&e.invoke("editor.isEmpty");this.$placeholder.toggle(t)}},nt=function(e){var o=this,r=t.summernote.ui,a=e.layoutInfo.toolbar,s=e.options,l=s.langInfo,c=i.invertObject(s.keyMap[d.isMac?"mac":"pc"]),h=this.representShortcut=function(t){var e=c[t];return d.isMac&&(e=e.replace("CMD","⌘").replace("SHIFT","⇧")),e=e.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")," ("+e+")"};this.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.fontInstalledMap={}},this.destroy=function(){delete this.fontInstalledMap},this.isFontInstalled=function(t){return o.fontInstalledMap.hasOwnProperty(t)||(o.fontInstalledMap[t]=d.isFontInstalled(t)||n.contains(s.fontNamesIgnoreCheck,t)),o.fontInstalledMap[t]},this.addToolbarButtons=function(){e.memo("button.style",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:r.icon(s.icons.magic)+" "+r.icon(s.icons.caret,"span"),tooltip:l.style.style,data:{toggle:"dropdown"}}),r.dropdown({className:"dropdown-style",items:e.options.styleTags,template:function(t){"string"==typeof t&&(t={tag:t,title:t});var e=t.tag,i=t.title,n=t.style?' style="'+t.style+'" ':"",o=t.className?' className="'+t.className+'"':"";return"<"+e+n+o+">"+i+"</"+e+">"},click:e.createInvokeHandler("editor.formatBlock")})]).render()}),e.memo("button.bold",function(){return r.button({className:"note-btn-bold",contents:r.icon(s.icons.bold),tooltip:l.font.bold+h("bold"),click:e.createInvokeHandler("editor.bold")}).render()}),e.memo("button.italic",function(){return r.button({className:"note-btn-italic",contents:r.icon(s.icons.italic),tooltip:l.font.italic+h("italic"),click:e.createInvokeHandler("editor.italic")}).render()}),e.memo("button.underline",function(){return r.button({className:"note-btn-underline",contents:r.icon(s.icons.underline),tooltip:l.font.underline+h("underline"),click:e.createInvokeHandler("editor.underline")}).render()}),e.memo("button.clear",function(){return r.button({contents:r.icon(s.icons.eraser),tooltip:l.font.clear+h("removeFormat"),click:e.createInvokeHandler("editor.removeFormat")}).render()}),e.memo("button.strikethrough",function(){return r.button({className:"note-btn-strikethrough",contents:r.icon(s.icons.strikethrough),tooltip:l.font.strikethrough+h("strikethrough"),click:e.createInvokeHandler("editor.strikethrough")}).render()}),e.memo("button.superscript",function(){return r.button({className:"note-btn-superscript",contents:r.icon(s.icons.superscript),tooltip:l.font.superscript,click:e.createInvokeHandler("editor.superscript")}).render()}),e.memo("button.subscript",function(){return r.button({className:"note-btn-subscript",contents:r.icon(s.icons.subscript),tooltip:l.font.subscript,click:e.createInvokeHandler("editor.subscript")}).render()}),e.memo("button.fontname",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:'<span class="note-current-fontname"/> '+r.icon(s.icons.caret,"span"),tooltip:l.font.name,data:{toggle:"dropdown"}}),r.dropdownCheck({className:"dropdown-fontname",checkClassName:s.icons.menuCheck,items:s.fontNames.filter(o.isFontInstalled),template:function(t){return'<span style="font-family:'+t+'">'+t+"</span>"},click:e.createInvokeHandler("editor.fontName")})]).render()}),e.memo("button.fontsize",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:'<span class="note-current-fontsize"/>'+r.icon(s.icons.caret,"span"),tooltip:l.font.size,data:{toggle:"dropdown"}}),r.dropdownCheck({className:"dropdown-fontsize",checkClassName:s.icons.menuCheck,items:s.fontSizes,click:e.createInvokeHandler("editor.fontSize")})]).render()}),e.memo("button.color",function(){return r.buttonGroup({className:"note-color",children:[r.button({className:"note-current-color-button",contents:r.icon(s.icons.font+" note-recent-color"),tooltip:l.color.recent,click:function(i){var n=t(i.currentTarget);e.invoke("editor.color",{backColor:n.attr("data-backColor"),foreColor:n.attr("data-foreColor")})},callback:function(t){var e=t.find(".note-recent-color");e.css("background-color","#FFFF00"),t.attr("data-backColor","#FFFF00")}}),r.button({className:"dropdown-toggle",contents:r.icon(s.icons.caret,"span"),tooltip:l.color.more,data:{toggle:"dropdown"}}),r.dropdown({items:["<li>",'<div class="btn-group">','  <div class="note-palette-title">'+l.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="backColor" data-value="inherit">',l.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"</div>",'<div class="btn-group">','  <div class="note-palette-title">'+l.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="removeFormat" data-value="foreColor">',l.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"</div>","</li>"].join(""),callback:function(e){e.find(".note-holder").each(function(){var e=t(this);e.append(r.palette({colors:s.colors,eventName:e.data("event")}).render())})},click:function(i){var n=t(i.target),o=n.data("event"),r=n.data("value");if(o&&r){var a="backColor"===o?"background-color":"color",s=n.closest(".note-color").find(".note-recent-color"),l=n.closest(".note-color").find(".note-current-color-button");s.css(a,r),l.attr("data-"+o,r),e.invoke("editor."+o,r)}}})]}).render()}),e.memo("button.ul",function(){return r.button({contents:r.icon(s.icons.unorderedlist),tooltip:l.lists.unordered+h("insertUnorderedList"),click:e.createInvokeHandler("editor.insertUnorderedList")}).render()}),e.memo("button.ol",function(){return r.button({contents:r.icon(s.icons.orderedlist),tooltip:l.lists.ordered+h("insertOrderedList"),click:e.createInvokeHandler("editor.insertOrderedList")}).render()});var n=r.button({contents:r.icon(s.icons.alignLeft),tooltip:l.paragraph.left+h("justifyLeft"),click:e.createInvokeHandler("editor.justifyLeft")}),a=r.button({contents:r.icon(s.icons.alignCenter),tooltip:l.paragraph.center+h("justifyCenter"),click:e.createInvokeHandler("editor.justifyCenter")}),c=r.button({contents:r.icon(s.icons.alignRight),tooltip:l.paragraph.right+h("justifyRight"),click:e.createInvokeHandler("editor.justifyRight")}),u=r.button({contents:r.icon(s.icons.alignJustify),tooltip:l.paragraph.justify+h("justifyFull"),click:e.createInvokeHandler("editor.justifyFull")}),d=r.button({contents:r.icon(s.icons.outdent),tooltip:l.paragraph.outdent+h("outdent"),click:e.createInvokeHandler("editor.outdent")}),f=r.button({contents:r.icon(s.icons.indent),tooltip:l.paragraph.indent+h("indent"),click:e.createInvokeHandler("editor.indent")});e.memo("button.justifyLeft",i.invoke(n,"render")),e.memo("button.justifyCenter",i.invoke(a,"render")),e.memo("button.justifyRight",i.invoke(c,"render")),e.memo("button.justifyFull",i.invoke(u,"render")),e.memo("button.outdent",i.invoke(d,"render")),e.memo("button.indent",i.invoke(f,"render")),e.memo("button.paragraph",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:r.icon(s.icons.alignLeft)+" "+r.icon(s.icons.caret,"span"),tooltip:l.paragraph.paragraph,data:{toggle:"dropdown"}}),r.dropdown([r.buttonGroup({className:"note-align",children:[n,a,c,u]}),r.buttonGroup({className:"note-list",children:[d,f]})])]).render()}),e.memo("button.height",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:r.icon(s.icons.textHeight)+" "+r.icon(s.icons.caret,"span"),tooltip:l.font.height,data:{toggle:"dropdown"}}),r.dropdownCheck({items:s.lineHeights,checkClassName:s.icons.menuCheck,className:"dropdown-line-height",click:e.createInvokeHandler("editor.lineHeight")})]).render()}),e.memo("button.table",function(){return r.buttonGroup([r.button({className:"dropdown-toggle",contents:r.icon(s.icons.table)+" "+r.icon(s.icons.caret,"span"),tooltip:l.table.table,data:{toggle:"dropdown"}}),r.dropdown({className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(t){var i=t.find(".note-dimension-picker-mousecatcher");i.css({width:s.insertTableMaxSize.col+"em",height:s.insertTableMaxSize.row+"em"}).mousedown(e.createInvokeHandler("editor.insertTable")).on("mousemove",o.tableMoveHandler)}}).render()}),e.memo("button.link",function(){return r.button({contents:r.icon(s.icons.link),tooltip:l.link.link,click:e.createInvokeHandler("linkDialog.show")}).render()}),e.memo("button.picture",function(){return r.button({contents:r.icon(s.icons.picture),tooltip:l.image.image,click:e.createInvokeHandler("imageDialog.show")}).render()}),e.memo("button.video",function(){return r.button({contents:r.icon(s.icons.video),tooltip:l.video.video,click:e.createInvokeHandler("videoDialog.show")}).render()}),e.memo("button.hr",function(){return r.button({contents:r.icon(s.icons.minus),tooltip:l.hr.insert+h("insertHorizontalRule"),click:e.createInvokeHandler("editor.insertHorizontalRule")}).render()}),e.memo("button.fullscreen",function(){return r.button({className:"btn-fullscreen",contents:r.icon(s.icons.arrowsAlt),tooltip:l.options.fullscreen,click:e.createInvokeHandler("fullscreen.toggle")}).render()}),e.memo("button.codeview",function(){return r.button({className:"btn-codeview",contents:r.icon(s.icons.code),tooltip:l.options.codeview,click:e.createInvokeHandler("codeview.toggle")}).render()}),e.memo("button.redo",function(){return r.button({contents:r.icon(s.icons.redo),tooltip:l.history.redo+h("redo"),click:e.createInvokeHandler("editor.redo")}).render()}),e.memo("button.undo",function(){return r.button({contents:r.icon(s.icons.undo),tooltip:l.history.undo+h("undo"),click:e.createInvokeHandler("editor.undo")}).render()}),e.memo("button.help",function(){return r.button({contents:r.icon(s.icons.question),tooltip:l.options.help,click:e.createInvokeHandler("helpDialog.show")}).render()})},this.addImagePopoverButtons=function(){e.memo("button.imageSize100",function(){return r.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:l.image.resizeFull,click:e.createInvokeHandler("editor.resize","1")}).render()}),e.memo("button.imageSize50",function(){return r.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:l.image.resizeHalf,click:e.createInvokeHandler("editor.resize","0.5")}).render()}),e.memo("button.imageSize25",function(){return r.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:l.image.resizeQuarter,click:e.createInvokeHandler("editor.resize","0.25")}).render()}),e.memo("button.floatLeft",function(){return r.button({contents:r.icon(s.icons.alignLeft),tooltip:l.image.floatLeft,click:e.createInvokeHandler("editor.floatMe","left")}).render()}),e.memo("button.floatRight",function(){return r.button({contents:r.icon(s.icons.alignRight),tooltip:l.image.floatRight,click:e.createInvokeHandler("editor.floatMe","right")}).render()}),e.memo("button.floatNone",function(){return r.button({contents:r.icon(s.icons.alignJustify),tooltip:l.image.floatNone,click:e.createInvokeHandler("editor.floatMe","none")}).render()}),e.memo("button.removeMedia",function(){return r.button({contents:r.icon(s.icons.trash),tooltip:l.image.remove,click:e.createInvokeHandler("editor.removeMedia")}).render()})},this.addLinkPopoverButtons=function(){e.memo("button.linkDialogShow",function(){return r.button({contents:r.icon(s.icons.link),tooltip:l.link.edit,click:e.createInvokeHandler("linkDialog.show")}).render()}),e.memo("button.unlink",function(){return r.button({contents:r.icon(s.icons.unlink),tooltip:l.link.unlink,click:e.createInvokeHandler("editor.unlink")}).render()})},this.build=function(t,i){for(var n=0,o=i.length;o>n;n++){for(var a=i[n],s=a[0],l=a[1],c=r.buttonGroup({className:"note-"+s}).render(),h=0,u=l.length;u>h;h++){var d=e.memo("button."+l[h]);d&&c.append("function"==typeof d?d(e):d)}c.appendTo(t)}},this.updateCurrentStyle=function(){var i=e.invoke("editor.currentStyle");if(this.updateBtnStates({".note-btn-bold":function(){return"bold"===i["font-bold"]},".note-btn-italic":function(){return"italic"===i["font-italic"]},".note-btn-underline":function(){return"underline"===i["font-underline"]},".note-btn-subscript":function(){return"subscript"===i["font-subscript"]},".note-btn-superscript":function(){return"superscript"===i["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===i["font-strikethrough"]}}),i["font-family"]){var r=i["font-family"].split(",").map(function(t){return t.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),s=n.find(r,o.isFontInstalled);a.find(".dropdown-fontname li a").each(function(){var e=t(this).data("value")+""==s+"";this.className=e?"checked":""}),a.find(".note-current-fontname").text(s)}if(i["font-size"]){var l=i["font-size"];a.find(".dropdown-fontsize li a").each(function(){var e=t(this).data("value")+""==l+"";this.className=e?"checked":""}),a.find(".note-current-fontsize").text(l)}if(i["line-height"]){var c=i["line-height"];a.find(".dropdown-line-height li a").each(function(){var e=t(this).data("value")+""==c+"";this.className=e?"checked":""})}},this.updateBtnStates=function(e){t.each(e,function(t,e){r.toggleBtnActive(a.find(t),e())})},this.tableMoveHandler=function(e){var i,n=18,o=t(e.target.parentNode),r=o.next(),a=o.find(".note-dimension-picker-mousecatcher"),l=o.find(".note-dimension-picker-highlighted"),c=o.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var h=t(e.target).offset();i={x:e.pageX-h.left,y:e.pageY-h.top}}else i={x:e.offsetX,y:e.offsetY};var u={c:Math.ceil(i.x/n)||1,r:Math.ceil(i.y/n)||1};l.css({width:u.c+"em",height:u.r+"em"}),a.data("value",u.c+"x"+u.r),3<u.c&&u.c<s.insertTableMaxSize.col&&c.css({width:u.c+1+"em"}),3<u.r&&u.r<s.insertTableMaxSize.row&&c.css({height:u.r+1+"em"}),r.html(u.c+" x "+u.r)}},ot=function(e){var i=t.summernote.ui,n=e.layoutInfo.note,o=e.layoutInfo.toolbar,r=e.options;this.shouldInitialize=function(){return!r.airMode},this.initialize=function(){r.toolbar=r.toolbar||[],r.toolbar.length?e.invoke("buttons.build",o,r.toolbar):o.hide(),r.toolbarContainer&&o.appendTo(r.toolbarContainer),
n.on("summernote.keyup summernote.mouseup summernote.change",function(){e.invoke("buttons.updateCurrentStyle")}),e.invoke("buttons.updateCurrentStyle")},this.destroy=function(){o.children().remove()},this.updateFullscreen=function(t){i.toggleBtnActive(o.find(".btn-fullscreen"),t)},this.updateCodeview=function(t){i.toggleBtnActive(o.find(".btn-codeview"),t),t?this.deactivate():this.activate()},this.activate=function(t){var e=o.find("button");t||(e=e.not(".btn-codeview")),i.toggleBtn(e,!0)},this.deactivate=function(t){var e=o.find("button");t||(e=e.not(".btn-codeview")),i.toggleBtn(e,!1)}},rt=function(e){var i=this,n=t.summernote.ui,o=e.layoutInfo.editor,r=e.options,a=r.langInfo;this.initialize=function(){var e=r.dialogsInBody?t(document.body):o,i='<div class="form-group"><label>'+a.link.textToDisplay+'</label><input class="note-link-text form-control" type="text" /></div><div class="form-group"><label>'+a.link.url+'</label><input class="note-link-url form-control" type="text" value="http://" /></div>'+(r.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+a.link.openInNewWindow+"</label></div>"),s='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+a.link.insert+"</button>";this.$dialog=n.dialog({className:"link-dialog",title:a.link.insert,fade:r.dialogsFade,body:i,footer:s}).render().appendTo(e)},this.destroy=function(){n.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===z.code.ENTER&&e.trigger("click")})},this.showLinkDialog=function(o){return t.Deferred(function(t){var r=i.$dialog.find(".note-link-text"),a=i.$dialog.find(".note-link-url"),s=i.$dialog.find(".note-link-btn"),l=i.$dialog.find("input[type=checkbox]");n.onDialogShown(i.$dialog,function(){e.triggerEvent("dialog.shown"),r.val(o.text),r.on("input",function(){n.toggleBtn(s,r.val()&&a.val()),o.text=r.val()}),o.url||(o.url=o.text||"http://",n.toggleBtn(s,o.text)),a.on("input",function(){n.toggleBtn(s,r.val()&&a.val()),o.text||r.val(a.val())}).val(o.url).trigger("focus"),i.bindEnterKey(a,s),i.bindEnterKey(r,s),l.prop("checked",o.isNewWindow),s.one("click",function(e){e.preventDefault(),t.resolve({range:o.range,url:a.val(),text:r.val(),isNewWindow:l.is(":checked")}),i.$dialog.modal("hide")})}),n.onDialogHidden(i.$dialog,function(){r.off("input keypress"),a.off("input keypress"),s.off("click"),"pending"===t.state()&&t.reject()}),n.showDialog(i.$dialog)}).promise()},this.show=function(){var t=e.invoke("editor.getLinkInfo");e.invoke("editor.saveRange"),this.showLinkDialog(t).then(function(t){e.invoke("editor.restoreRange"),e.invoke("editor.createLink",t)}).fail(function(){e.invoke("editor.restoreRange")})},e.memo("help.linkDialog.show",r.langInfo.help["linkDialog.show"])},at=function(e){var i=this,o=t.summernote.ui,r=e.options;this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){i.update()},"summernote.dialog.shown":function(){i.hide()}},this.shouldInitialize=function(){return!n.isEmpty(r.popover.link)},this.initialize=function(){this.$popover=o.popover({className:"note-link-popover",callback:function(t){var e=t.find(".popover-content");e.prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo("body");var t=this.$popover.find(".popover-content");e.invoke("buttons.build",t,r.popover.link)},this.destroy=function(){this.$popover.remove()},this.update=function(){if(!e.invoke("editor.hasFocus"))return void this.hide();var i=e.invoke("editor.createRange");if(i.isCollapsed()&&i.isOnAnchor()){var n=g.ancestor(i.sc,g.isAnchor),o=t(n).attr("href");this.$popover.find("a").attr("href",o).html(o);var r=g.posFromPlaceholder(n);this.$popover.css({display:"block",left:r.left,top:r.top})}else this.hide()},this.hide=function(){this.$popover.hide()}},st=function(e){var i=this,n=t.summernote.ui,o=e.layoutInfo.editor,r=e.options,a=r.langInfo;this.initialize=function(){var e=r.dialogsInBody?t(document.body):o,i="";if(r.maximumImageFileSize){var s=Math.floor(Math.log(r.maximumImageFileSize)/Math.log(1024)),l=1*(r.maximumImageFileSize/Math.pow(1024,s)).toFixed(2)+" "+" KMGTP"[s]+"B";i="<small>"+a.image.maximumFileSize+" : "+l+"</small>"}var c='<div class="form-group note-group-select-from-files"><label>'+a.image.selectFromFiles+'</label><input class="note-image-input form-control" type="file" name="files" accept="image/*" multiple="multiple" />'+i+'</div><div class="form-group" style="overflow:auto;"><label>'+a.image.url+'</label><input class="note-image-url form-control col-md-12" type="text" /></div>',h='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+a.image.insert+"</button>";this.$dialog=n.dialog({title:a.image.insert,fade:r.dialogsFade,body:c,footer:h}).render().appendTo(e)},this.destroy=function(){n.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===z.code.ENTER&&e.trigger("click")})},this.show=function(){e.invoke("editor.saveRange"),this.showImageDialog().then(function(t){n.hideDialog(i.$dialog),e.invoke("editor.restoreRange"),"string"==typeof t?e.invoke("editor.insertImage",t):e.invoke("editor.insertImagesOrCallback",t)}).fail(function(){e.invoke("editor.restoreRange")})},this.showImageDialog=function(){return t.Deferred(function(t){var o=i.$dialog.find(".note-image-input"),r=i.$dialog.find(".note-image-url"),a=i.$dialog.find(".note-image-btn");n.onDialogShown(i.$dialog,function(){e.triggerEvent("dialog.shown"),o.replaceWith(o.clone().on("change",function(){t.resolve(this.files||this.value)}).val("")),a.click(function(e){e.preventDefault(),t.resolve(r.val())}),r.on("keyup paste",function(){var t=r.val();n.toggleBtn(a,t)}).val("").trigger("focus"),i.bindEnterKey(r,a)}),n.onDialogHidden(i.$dialog,function(){o.off("change"),r.off("keyup paste keypress"),a.off("click"),"pending"===t.state()&&t.reject()}),n.showDialog(i.$dialog)})}},lt=function(e){var i=t.summernote.ui,o=e.options;this.shouldInitialize=function(){return!n.isEmpty(o.popover.image)},this.initialize=function(){this.$popover=i.popover({className:"note-image-popover"}).render().appendTo("body");var t=this.$popover.find(".popover-content");e.invoke("buttons.build",t,o.popover.image)},this.destroy=function(){this.$popover.remove()},this.update=function(t){if(g.isImg(t)){var e=g.posFromPlaceholder(t);this.$popover.css({display:"block",left:e.left,top:e.top})}else this.hide()},this.hide=function(){this.$popover.hide()}},ct=function(e){var i=this,n=t.summernote.ui,o=e.layoutInfo.editor,r=e.options,a=r.langInfo;this.initialize=function(){var e=r.dialogsInBody?t(document.body):o,i='<div class="form-group row-fluid"><label>'+a.video.url+' <small class="text-muted">'+a.video.providers+'</small></label><input class="note-video-url form-control span12" type="text" /></div>',s='<button href="#" class="btn btn-primary note-video-btn disabled" disabled>'+a.video.insert+"</button>";this.$dialog=n.dialog({title:a.video.insert,fade:r.dialogsFade,body:i,footer:s}).render().appendTo(e)},this.destroy=function(){n.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(t,e){t.on("keypress",function(t){t.keyCode===z.code.ENTER&&e.trigger("click")})},this.createVideoNode=function(e){var i,n=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,o=e.match(n),r=/\/\/instagram.com\/p\/(.[a-zA-Z0-9_-]*)/,a=e.match(r),s=/\/\/vine.co\/v\/(.[a-zA-Z0-9]*)/,l=e.match(s),c=/\/\/(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/,h=e.match(c),u=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,d=e.match(u),f=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/,p=e.match(f),g=/^.+.(mp4|m4v)$/,m=e.match(g),v=/^.+.(ogg|ogv)$/,y=e.match(v),x=/^.+.(webm)$/,b=e.match(x);if(o&&11===o[1].length){var w=o[1];i=t("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+w).attr("width","640").attr("height","360")}else if(a&&a[0].length)i=t("<iframe>").attr("frameborder",0).attr("src",a[0]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(l&&l[0].length)i=t("<iframe>").attr("frameborder",0).attr("src",l[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(h&&h[3].length)i=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+h[3]).attr("width","640").attr("height","360");else if(d&&d[2].length)i=t("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+d[2]).attr("width","640").attr("height","360");else if(p&&p[1].length)i=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+p[1]);else{if(!(m||y||b))return!1;i=t("<video controls>").attr("src",e).attr("width","640").attr("height","360")}return i.addClass("note-video-clip"),i[0]},this.show=function(){var t=e.invoke("editor.getSelectedText");e.invoke("editor.saveRange"),this.showVideoDialog(t).then(function(t){n.hideDialog(i.$dialog),e.invoke("editor.restoreRange");var o=i.createVideoNode(t);o&&e.invoke("editor.insertNode",o)}).fail(function(){e.invoke("editor.restoreRange")})},this.showVideoDialog=function(o){return t.Deferred(function(t){var r=i.$dialog.find(".note-video-url"),a=i.$dialog.find(".note-video-btn");n.onDialogShown(i.$dialog,function(){e.triggerEvent("dialog.shown"),r.val(o).on("input",function(){n.toggleBtn(a,r.val())}).trigger("focus"),a.click(function(e){e.preventDefault(),t.resolve(r.val())}),i.bindEnterKey(r,a)}),n.onDialogHidden(i.$dialog,function(){r.off("input"),a.off("click"),"pending"===t.state()&&t.reject()}),n.showDialog(i.$dialog)})}},ht=function(e){var i=this,n=t.summernote.ui,o=e.layoutInfo.editor,r=e.options,a=r.langInfo;this.createShortCutList=function(){var i=r.keyMap[d.isMac?"mac":"pc"];return Object.keys(i).map(function(n){var o=i[n],r=t('<div><div class="help-list-item"/></div>');return r.append(t("<label><kbd>"+n+"</kdb></label>").css({width:180,"margin-right":10})).append(t("<span/>").html(e.memo("help."+o)||o)),r.html()}).join("")},this.initialize=function(){var e=r.dialogsInBody?t(document.body):o,i=['<p class="text-center">','<a href="//summernote.org/" target="_blank">Summernote 0.8.1</a> · ','<a href="//github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="//github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=n.dialog({title:a.options.help,fade:r.dialogsFade,body:this.createShortCutList(),footer:i,callback:function(t){t.find(".modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(e)},this.destroy=function(){n.hideDialog(this.$dialog),this.$dialog.remove()},this.showHelpDialog=function(){return t.Deferred(function(t){n.onDialogShown(i.$dialog,function(){e.triggerEvent("dialog.shown"),t.resolve()}),n.showDialog(i.$dialog)}).promise()},this.show=function(){e.invoke("editor.saveRange"),this.showHelpDialog().then(function(){e.invoke("editor.restoreRange")})}},ut=function(e){var o=this,r=t.summernote.ui,a=e.options,s=20;this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){o.update()},"summernote.change summernote.dialog.shown":function(){o.hide()},"summernote.focusout":function(t,e){d.isFF||e.relatedTarget&&g.ancestor(e.relatedTarget,i.eq(o.$popover[0]))||o.hide()}},this.shouldInitialize=function(){return a.airMode&&!n.isEmpty(a.popover.air)},this.initialize=function(){this.$popover=r.popover({className:"note-air-popover"}).render().appendTo("body");var t=this.$popover.find(".popover-content");e.invoke("buttons.build",t,a.popover.air)},this.destroy=function(){this.$popover.remove()},this.update=function(){var t=e.invoke("editor.currentStyle");if(t.range&&!t.range.isCollapsed()){var o=n.last(t.range.getClientRects());if(o){var r=i.rect2bnd(o);this.$popover.css({display:"block",left:Math.max(r.left+r.width/2,0)-s,top:r.top+r.height})}}else this.hide()},this.hide=function(){this.$popover.hide()}},dt=function(e){var o=this,r=t.summernote.ui,a=5,s=e.options.hint||[],l=e.options.hintDirection||"bottom",c=t.isArray(s)?s:[s];this.events={"summernote.keyup":function(t,e){e.isDefaultPrevented()||o.handleKeyup(e)},"summernote.keydown":function(t,e){o.handleKeydown(e)},"summernote.dialog.shown":function(){o.hide()}},this.shouldInitialize=function(){return c.length>0},this.initialize=function(){this.lastWordRange=null,this.$popover=r.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo("body"),this.$popover.hide(),this.$content=this.$popover.find(".popover-content"),this.$content.on("click",".note-hint-item",function(){o.$content.find(".active").removeClass("active"),t(this).addClass("active"),o.replace()})},this.destroy=function(){this.$popover.remove()},this.selectItem=function(t){this.$content.find(".active").removeClass("active"),t.addClass("active"),this.$content[0].scrollTop=t[0].offsetTop-this.$content.innerHeight()/2},this.moveDown=function(){var t=this.$content.find(".note-hint-item.active"),e=t.next();if(e.length)this.selectItem(e);else{var i=t.parent().next();i.length||(i=this.$content.find(".note-hint-group").first()),this.selectItem(i.find(".note-hint-item").first())}},this.moveUp=function(){var t=this.$content.find(".note-hint-item.active"),e=t.prev();if(e.length)this.selectItem(e);else{var i=t.parent().prev();i.length||(i=this.$content.find(".note-hint-group").last()),this.selectItem(i.find(".note-hint-item").last())}},this.replace=function(){var t=this.$content.find(".note-hint-item.active");if(t.length){var i=this.nodeFromItem(t);this.lastWordRange.insertNode(i),V.createFromNode(i).collapse().select(),this.lastWordRange=null,this.hide(),e.invoke("editor.focus")}},this.nodeFromItem=function(t){var e=c[t.data("index")],i=t.data("item"),n=e.content?e.content(i):i;return"string"==typeof n&&(n=g.createText(n)),n},this.createItemTemplates=function(e,i){var n=c[e];return i.map(function(i,o){var r=t('<div class="note-hint-item"/>');return r.append(n.template?n.template(i):i+""),r.data({index:e,item:i}),0===e&&0===o&&r.addClass("active"),r})},this.handleKeydown=function(t){this.$popover.is(":visible")&&(t.keyCode===z.code.ENTER?(t.preventDefault(),this.replace()):t.keyCode===z.code.UP?(t.preventDefault(),this.moveUp()):t.keyCode===z.code.DOWN&&(t.preventDefault(),this.moveDown()))},this.searchKeyword=function(t,e,i){var n=c[t];if(n&&n.match.test(e)&&n.search){var o=n.match.exec(e);n.search(o[1],i)}else i()},this.createGroup=function(e,i){var n=t('<div class="note-hint-group note-hint-group-'+e+'"/>');return this.searchKeyword(e,i,function(t){t=t||[],t.length&&(n.html(o.createItemTemplates(e,t)),o.show())}),n},this.handleKeyup=function(t){if(n.contains([z.code.ENTER,z.code.UP,z.code.DOWN],t.keyCode)){if(t.keyCode===z.code.ENTER&&this.$popover.is(":visible"))return}else{var r=e.invoke("editor.createRange").getWordRange(),s=r.toString();if(c.length&&s){this.$content.empty();var h=i.rect2bnd(n.last(r.getClientRects()));h&&(this.$popover.hide(),this.lastWordRange=r,c.forEach(function(t,e){t.match.test(s)&&o.createGroup(e,s).appendTo(o.$content)}),"top"===l?this.$popover.css({left:h.left,top:h.top-this.$popover.outerHeight()-a}):this.$popover.css({left:h.left,top:h.top+h.height+a}))}else this.hide()}},this.show=function(){this.$popover.show()},this.hide=function(){this.$popover.hide()}};t.summernote=t.extend(t.summernote,{version:"0.8.1",ui:R,plugins:{},options:{modules:{editor:G,clipboard:q,dropzone:Z,codeview:Y,statusbar:K,fullscreen:Q,handle:J,hintPopover:dt,autoLink:tt,autoSync:et,placeholder:it,buttons:nt,toolbar:ot,linkDialog:rt,linkPopover:at,imageDialog:st,imagePopover:lt,videoDialog:ct,helpDialog:ht,airPopover:ut},buttons:{},lang:"en-US",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,direction:null,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onEnter:null,onKeyup:null,onKeydown:null,onSubmit:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})}),function(t){t.extend(t.summernote.lang,{"zh-CN":{font:{bold:"粗体",italic:"斜体",underline:"下划线",clear:"清除格式",height:"行高",name:"字体",strikethrough:"删除线",subscript:"下标",superscript:"上标",size:"字号"},image:{image:"图片",insert:"插入图片",resizeFull:"缩放至 100%",resizeHalf:"缩放至 50%",resizeQuarter:"缩放至 25%",floatLeft:"靠左浮动",floatRight:"靠右浮动",floatNone:"取消浮动",shapeRounded:"形状: 圆角",shapeCircle:"形状: 圆",shapeThumbnail:"形状: 缩略图",shapeNone:"形状: 无",dragImageHere:"将图片拖拽至此处",selectFromFiles:"从本地上传",maximumFileSize:"文件大小最大值",maximumFileSizeError:"文件大小超出最大值。",url:"图片地址",remove:"移除图片"},video:{video:"视频",videoLink:"视频链接",insert:"插入视频",url:"视频地址",providers:"(优酷, Instagram, DailyMotion, Youtube等)"},link:{link:"链接",insert:"插入链接",unlink:"去除链接",edit:"编辑链接",textToDisplay:"显示文本",url:"链接地址",openInNewWindow:"在新窗口打开"},table:{table:"表格"},hr:{insert:"水平线"},style:{style:"样式",normal:"普通",blockquote:"引用",pre:"代码",h1:"标题 1",h2:"标题 2",h3:"标题 3",h4:"标题 4",h5:"标题 5",h6:"标题 6"},lists:{unordered:"无序列表",ordered:"有序列表"},options:{help:"帮助",fullscreen:"全屏",codeview:"源代码"},paragraph:{paragraph:"段落",outdent:"减少缩进",indent:"增加缩进",left:"左对齐",center:"居中对齐",right:"右对齐",justify:"两端对齐"},color:{recent:"最近使用",more:"更多",background:"背景",foreground:"前景",transparent:"透明",setTransparent:"透明",reset:"重置",resetToDefault:"默认"},shortcut:{shortcuts:"快捷键",close:"关闭",textFormatting:"文本格式",action:"动作",paragraphFormatting:"段落格式",documentStyle:"文档样式",extraKeys:"额外按键"},history:{undo:"撤销",redo:"重做"}}})}(jQuery);